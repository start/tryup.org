!function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t(83);var i=t(19),o=r(i),a=t(71),s=r(a),l=t(73),c=r(l),u=t(72),d=r(u);document.addEventListener("DOMContentLoaded",function(){var e=(0,o.default)("documentation-container");(0,d.default)(e),(0,s.default)((0,o.default)("editor-container"),e,(0,o.default)("documentation"),(0,o.default)("table-of-contents")),(0,c.default)((0,o.default)("show-documentation"),(0,o.default)("show-table-of-contents"))})},function(e,n,t){"use strict";function r(e){return"(?:"+e+")"}function i(e){return"("+e+")"}function o(e){return r(e)+"?"}function a(e){return r(e)+"*"}function s(e){return c(1,e)}function l(e){return c(2,e)}function c(e,n){return r(n)+("{"+e+",}")}function u(e,n){return r(n)+("{"+e+"}")}function d(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return r(e.join("|"))}function h(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return"["+e.join("")+"]"}function p(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return"[^"+e.join("")+"]"}function f(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return h.apply(void 0,e.map(v))}function m(e){return"(?="+e+")"}function g(e){return"(?!"+e+")"}function v(e){return e.replace(/[(){}[\].+*?^$\\|-]/g,"\\$&")}function y(e){return b(c(3,e))}function b(e){return x({pattern:e})}function k(e){return x({pattern:e,isCaseInsensitive:!0})}function C(e){return S({pattern:e})}function w(e){return S({pattern:e,isCaseInsensitive:!0})}function T(e){return new RegExp(e+"$")}function x(e){return new RegExp("^"+I.ANY_OPTIONAL_WHITESPACE+e.pattern+I.ANY_OPTIONAL_WHITESPACE+"$",L(e.isCaseInsensitive===!0))}function S(e){return new RegExp("^"+e.pattern,L(e.isCaseInsensitive===!0))}function L(e){return e?"i":void 0}n.group=r,n.capture=i,n.optional=o,n.everyOptional=a,n.oneOrMore=s,n.multiple=l,n.atLeast=c,n.exactly=u,n.either=d,n.anyCharMatching=h,n.anyCharNotMatching=p,n.anyCharFrom=f,n.followedBy=m,n.notFollowedBy=g,n.escapeForRegex=v,n.streakOf=y,n.solely=b,n.solelyAndIgnoringCapitalization=k,n.patternStartingWith=C,n.patternIgnoringCapitalizationAndStartingWith=w,n.patternEndingWith=T;var I=t(6)},function(e,n){"use strict";function t(e){return e[e.length-1]}function r(e){return(n=[]).concat.apply(n,e);var n}function i(e){return e.slice().reverse()}function o(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return e.reduce(function(e,n){return e.indexOf(n)!==-1?e:e.concat([n])},[])}function a(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];for(var t=0,r=e;t<r.length;t++){var i=r[t];if(null!=i)return i}throw new Error("Every value in `values` was null.")}n.last=t,n.concat=r,n.reversed=i,n.distinct=o,n.coalesce=a},function(e,n,t){"use strict";var r=t(1),i=t(6),o=r.either("\t",r.exactly(2,i.INLINE_WHITESPACE_CHAR));n.INDENTED_PATTERN=r.patternStartingWith(o),n.DIVIDER_STREAK_PATTERN=r.streakOf(r.anyCharFrom("#","=","-","+","~","*","@",":")),n.BLANK_PATTERN=r.solely(""),n.NON_BLANK_PATTERN=/\S/,n.WHITESPACE_CHAR_PATTERN=new RegExp(i.WHITESPACE_CHAR),n.URL_SCHEME_PATTERN=r.patternStartingWith(i.URL_SCHEME)},function(e,n){"use strict";var t=function(){function e(e){this.lines=e,this._countLinesConsumed=0}return Object.defineProperty(e.prototype,"countLinesConsumed",{get:function(){return this._countLinesConsumed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"done",{get:function(){return this._countLinesConsumed>=this.lines.length},enumerable:!0,configurable:!0}),e.prototype.remaining=function(){return this.lines.slice(this._countLinesConsumed)},e.prototype.skipLines=function(e){this._countLinesConsumed+=e},e.prototype.consumeLineIfMatches=function(e,n){if(this.done)return null;var t=this.nextRemainingLine,r=e.exec(t);if(r){var i={line:t,captures:r.slice(1)};if(!n||n.andIf(i))return this.skipLines(1),i}return null},e.prototype.consumeLine=function(){if(this.done)throw new Error("No remaining lines");var e=this.nextRemainingLine;return this.skipLines(1),e},Object.defineProperty(e.prototype,"nextRemainingLine",{get:function(){return this.lines[this._countLinesConsumed]},enumerable:!0,configurable:!0}),e}();n.LineConsumer=t},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(7),o=t(68),a=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.textAppearingInline=function(){return o.getTextAppearingInline(this.children)},n}(i.InlineSyntaxNodeContainer);n.RichInlineSyntaxNode=a},function(e,n,t){"use strict";var r=t(1);n.INLINE_WHITESPACE_CHAR=r.anyCharNotMatching("\\S","\\r","\\n"),n.WHITESPACE_CHAR="\\s",n.ANY_OPTIONAL_WHITESPACE=r.everyOptional(n.WHITESPACE_CHAR),n.WHITESPACE=r.oneOrMore(n.WHITESPACE_CHAR),n.LETTER_CLASS="a-zA-Z",n.DIGIT="\\d",n.ANY_CHAR=".",n.REST_OF_TEXT=r.everyOptional(n.ANY_CHAR),n.FORWARD_SLASH="/",n.HASH_MARK="#",n.LETTER_CHAR=r.anyCharMatching(n.LETTER_CLASS);var i=n.LETTER_CHAR+r.everyOptional(r.anyCharMatching.apply(void 0,[n.LETTER_CLASS,n.DIGIT].concat(["-","+","."].map(r.escapeForRegex))));n.URL_SCHEME=i+":"+r.everyOptional("/")},function(e,n,t){"use strict";var r=t(18),i=function(){function e(e){this.children=e}return e.prototype.inlineDescendants=function(){return r.getInlineDescendants(this.children)},e}();n.InlineSyntaxNodeContainer=i},function(e,n,t){"use strict";var r=t(25),i=t(2),o=function(){function e(e){this.children=e}return e.prototype.descendantsToIncludeInTableOfContents=function(){return r.Document.TableOfContents.getEntries(this.children)},e.prototype.inlineDescendants=function(){return i.concat(this.children.map(function(e){return e.inlineDescendants()}))},e}();n.OutlineSyntaxNodeContainer=o},function(e,n,t){"use strict";function r(e,n){return a.parse(o.tokenize(e,n))}function i(e,n){return a.parse(o.tokenizeForInlineDocument(e,n))}var o=t(92),a=t(95);n.getInlineSyntaxNodes=r,n.getInlineSyntaxNodesForInlineDocument=i},function(e,n,t){"use strict";function r(e){for(var n=e.markupLines,t=e.headingLeveler,r=e.settings,l=i(n),c=n.length-l.length,u=e.sourceLineNumber+c,d=o(l),h=new s.LineConsumer(d),p=[],f=function(){var e=u+h.countLinesConsumed,n={markupLines:h.remaining(),sourceLineNumber:e,headingLeveler:t,settings:r,then:function(n,t){if(r.createSourceMap)for(var i=0,o=n;i<o.length;i++){var a=o[i];a.sourceLineNumber=e}p.push.apply(p,n),h.skipLines(t)}};w.some(function(e){return e(n)})||b.parseParagraphOrLineBlock(n)};!h.done;)f();return a(p)}function i(e){for(var n=0;n<e.length;n++){var t=e[n];if(k.NON_BLANK_PATTERN.test(t))break}return e.slice(n)}function o(e){for(var n=e.length-1;n>=0;n--){var t=e[n];if(k.NON_BLANK_PATTERN.test(t))break}return e.slice(0,n+1)}function a(e){for(var n=[],t=0,r=e;t<r.length;t++){var i=r[t],o=i instanceof l.ThematicBreak&&C.last(n)instanceof l.ThematicBreak;o||n.push(i)}return n}var s=t(4),l=t(17),c=t(46),u=t(100),d=t(98),h=t(44),p=t(42),f=t(43),m=t(45),g=t(99),v=t(102),y=t(101),b=t(97),k=t(3),C=t(2),w=[d.tryToParseBlankLineSeparation,f.tryToParseBulletedList,m.tryToParseNumberedList,u.tryToParseHeading,c.tryToParseThematicBreakStreak,h.tryToParseCodeBlock,p.tryToParseBlockquote,v.tryToParseTable,y.tryToParseRevealableBlock,g.tryToParseDescriptionList];n.getOutlineSyntaxNodes=r},function(e,n){"use strict";!function(e){e[e.AudioStartAndDescription=1]="AudioStartAndDescription",e[e.BareUrl=2]="BareUrl",e[e.BoldEnd=3]="BoldEnd",e[e.BoldStart=4]="BoldStart",e[e.EmphasisEnd=5]="EmphasisEnd",e[e.EmphasisStart=6]="EmphasisStart",e[e.ExampleUserInput=7]="ExampleUserInput",e[e.FootnoteEnd=8]="FootnoteEnd",e[e.FootnoteStart=9]="FootnoteStart",e[e.HighlightEnd=10]="HighlightEnd",e[e.HighlightStart=11]="HighlightStart",e[e.ImageStartAndDescription=12]="ImageStartAndDescription",e[e.InlineCode=13]="InlineCode",e[e.InlineQuoteEnd=14]="InlineQuoteEnd",e[e.InlineQuoteStart=15]="InlineQuoteStart",e[e.InlineRevealableEnd=16]="InlineRevealableEnd",e[e.InlineRevealableStart=17]="InlineRevealableStart",e[e.ItalicEnd=18]="ItalicEnd",e[e.ItalicStart=19]="ItalicStart",e[e.LinkEndAndUrl=20]="LinkEndAndUrl",e[e.LinkStart=21]="LinkStart",e[e.MediaEndAndUrl=22]="MediaEndAndUrl",e[e.NormalParentheticalEnd=23]="NormalParentheticalEnd",e[e.NormalParentheticalStart=24]="NormalParentheticalStart",e[e.SectionLink=25]="SectionLink",e[e.SquareParentheticalEnd=26]="SquareParentheticalEnd",e[e.SquareParentheticalStart=27]="SquareParentheticalStart",e[e.StressEnd=28]="StressEnd",e[e.StressStart=29]="StressStart",e[e.Text=30]="Text",e[e.VideoStartAndDescription=31]="VideoStartAndDescription"}(n.TokenRole||(n.TokenRole={})),n.TokenRole},function(e,n){"use strict";var t=function(){function e(e,n,t){this.description=e,this.url=n,this.sourceLineNumber=void 0,t&&(this.sourceLineNumber=t.sourceLineNumber)}return e.prototype.textAppearingInline=function(){return""},e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){return[]},e.prototype.MEDIA_SYNTAX_NODE=function(){},e}();n.MediaSyntaxNode=t},function(e,n,t){"use strict";function r(e){for(var n=new i.LineConsumer(e),t=[],r=0;!n.done;){var a=n.consumeLineIfMatches(o.BLANK_PATTERN);if(a)t.push(a.line);else{var s=n.consumeLineIfMatches(o.INDENTED_PATTERN);if(!s)break;t.push(s.line),r=t.length}}if(!t.length)return null;var l=t.length-r,c=l>=2,u=c?r:t.length,d=t.slice(0,r).map(function(e){return e.replace(o.INDENTED_PATTERN,"")});return{lines:d,countLinesConsumed:u,hasMultipleTrailingBlankLines:c}}var i=t(4),o=t(3);n.getIndentedBlock=r},function(e,n){"use strict";n.BACKSLASH="\\"},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(5),o=function(e){function n(n,t,r){var i=e.call(this,n)||this;return i.url=t,i.sourceLineNumber=void 0,r&&(i.sourceLineNumber=r.sourceLineNumber),i}return r(n,e),n.prototype.descendantsToIncludeInTableOfContents=function(){return[]},n.prototype.render=function(e){return e.link(this)},n}(i.RichInlineSyntaxNode);n.Link=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(7),o=t(6),a=t(1),s=t(2),l=t(18),c=function(){function e(e,n,t,r){this.header=e,this.rows=n,this.caption=t,this.sourceLineNumber=void 0,r&&(this.sourceLineNumber=r.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){var e=s.concat([this.caption?[this.caption]:[],this.header.cells].concat(this.rows.map(function(e){return e.allCellsStartingWithHeaderColumnCell})));return s.concat(e.map(function(e){return l.getInlineDescendants(e.children)}))},e.prototype.render=function(e){return e.table(this)},e}();n.Table=c,function(e){var n=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.TABLE_CAPTION=function(){},n}(i.InlineSyntaxNodeContainer);e.Caption=n;var t=function(e){function n(n,t){void 0===t&&(t=1);var r=e.call(this,n)||this;return r.countColumnsSpanned=t,r}return r(n,e),n.prototype.isNumeric=function(){var e=this.children.map(function(e){return e.textAppearingInline()}).join("");return s.test(e)&&!l.test(e)},n}(i.InlineSyntaxNodeContainer);e.Cell=t;var s=new RegExp(o.DIGIT),l=new RegExp(a.anyCharMatching(o.LETTER_CLASS,"_",o.WHITESPACE_CHAR)),c=function(){function e(e){this.cells=e}return e}();e.Header=c,function(n){var t=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.TABLE_HEADER_CELL=function(){},n}(e.Cell);n.Cell=t}(c=e.Header||(e.Header={}));var u=function(){function e(e,n){this.cells=e,this.headerColumnCell=n}return Object.defineProperty(e.prototype,"allCellsStartingWithHeaderColumnCell",{get:function(){var e=this.cells.slice();return this.headerColumnCell&&e.unshift(this.headerColumnCell),e},enumerable:!0,configurable:!0}),e}();e.Row=u,function(n){var t=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.TABLE_ROW_CELL=function(){},n}(e.Cell);n.Cell=t}(u=e.Row||(e.Row={}))}(c=n.Table||(n.Table={}))},function(e,n){"use strict";var t=function(){function e(e){this.sourceLineNumber=void 0,e&&(this.sourceLineNumber=e.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.thematicBreak(this)},e.prototype.THEMATIC_BREAK=function(){},e}();n.ThematicBreak=t},function(e,n,t){"use strict";function r(e){return i.concat(e.map(function(e){return[e].concat(e.inlineDescendants())}))}var i=t(2);n.getInlineDescendants=r},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=document.getElementById.bind(document)},function(e,n,t){"use strict";var r=t(54),i=t(66),o=t(62),a=t(52),s=t(57),l=t(28),c=t(61),u=t(26),d=t(65),h=t(63),p=t(15),f=t(11);n.EMPHASIS={SyntaxNodeType:r.Emphasis,startTokenRole:f.TokenRole.EmphasisStart,endTokenRole:f.TokenRole.EmphasisEnd},n.STRESS={SyntaxNodeType:i.Stress,startTokenRole:f.TokenRole.StressStart,endTokenRole:f.TokenRole.StressEnd},n.ITALIC={SyntaxNodeType:o.Italic,startTokenRole:f.TokenRole.ItalicStart,endTokenRole:f.TokenRole.ItalicEnd},n.BOLD={SyntaxNodeType:a.Bold,startTokenRole:f.TokenRole.BoldStart,endTokenRole:f.TokenRole.BoldEnd},n.HIGHLIGHT={SyntaxNodeType:s.Highlight,startTokenRole:f.TokenRole.HighlightStart,endTokenRole:f.TokenRole.HighlightEnd},n.INLINE_QUOTE={SyntaxNodeType:c.InlineQuote,startTokenRole:f.TokenRole.InlineQuoteStart,endTokenRole:f.TokenRole.InlineQuoteEnd},n.FOOTNOTE={SyntaxNodeType:u.Footnote,startTokenRole:f.TokenRole.FootnoteStart,endTokenRole:f.TokenRole.FootnoteEnd},n.NORMAL_PARENTHETICAL={SyntaxNodeType:h.NormalParenthetical,startTokenRole:f.TokenRole.NormalParentheticalStart,endTokenRole:f.TokenRole.NormalParentheticalEnd},n.SQUARE_PARENTHETICAL={SyntaxNodeType:d.SquareParenthetical,startTokenRole:f.TokenRole.SquareParentheticalStart,endTokenRole:f.TokenRole.SquareParentheticalEnd},n.INLINE_REVEALABLE={SyntaxNodeType:l.InlineRevealable,startTokenRole:f.TokenRole.InlineRevealableStart,endTokenRole:f.TokenRole.InlineRevealableEnd},n.LINK={SyntaxNodeType:p.Link,startTokenRole:f.TokenRole.LinkStart,endTokenRole:f.TokenRole.LinkEndAndUrl}},function(e,n,t){"use strict";function r(e,n){return!e||i(e)===i(n)}function i(e){var n=e.trim().split("");return o.distinct.apply(void 0,n).sort().join("")}var o=t(2),a=function(){function e(){this.headingSignatures=[]}return e.prototype.registerHeadingAndGetLevel=function(e,n){var t=i(e)+(n?"with overline":""),r=this.headingSignatures.indexOf(t)>=0;return r||this.headingSignatures.push(t),this.getLevel(t)},e.prototype.getLevel=function(e){return this.headingSignatures.indexOf(e)+1},e}();n.HeadingLeveler=a,n.isUnderlineConsistentWithOverline=r},function(e,n,t){"use strict";function r(e,n){var t=[e];return u.some(function(e){return e({markupLines:t,settings:n,sourceLineNumber:h,headingLeveler:d,then:function(){}})})}var i=t(43),o=t(45),a=t(46),s=t(42),l=t(44),c=t(21),u=[i.tryToParseBulletedList,o.tryToParseNumberedList,a.tryToParseThematicBreakStreak,s.tryToParseBlockquote,l.tryToParseCodeBlock],d=new c.HeadingLeveler,h=1;n.isLineFancyOutlineConvention=r},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(8),o=t(2),a=function(){function e(e,n){this.items=e,this.sourceLineNumber=void 0,n&&(this.sourceLineNumber=n.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return o.concat(this.items.map(function(e){return e.descendantsToIncludeInTableOfContents()}))},e.prototype.inlineDescendants=function(){return o.concat(this.items.map(function(e){return e.inlineDescendants()}))},e.prototype.render=function(e){return e.bulletedList(this)},e}();n.BulletedList=a,function(e){var n=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.BULLETED_LIST_ITEM=function(){},n}(i.OutlineSyntaxNodeContainer);e.Item=n}(a=n.BulletedList||(n.BulletedList={}))},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(7),o=t(8),a=t(2),s=function(){function e(e,n){this.items=e,this.sourceLineNumber=void 0,n&&(this.sourceLineNumber=n.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return a.concat(this.items.map(function(e){return e.descendantsToIncludeInTableOfContents()}))},e.prototype.inlineDescendants=function(){return a.concat(this.items.map(function(e){return e.inlineDescendants()}))},e.prototype.render=function(e){return e.descriptionList(this)},e}();n.DescriptionList=s,function(e){var n=function(){function e(e,n){this.subjects=e,this.description=n}return e.prototype.descendantsToIncludeInTableOfContents=function(){return this.description.descendantsToIncludeInTableOfContents()},e.prototype.inlineDescendants=function(){return a.concat(this.subjects.concat([this.description]).map(function(e){return e.inlineDescendants()}))},e}();e.Item=n,function(e){var n=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.DESCRIPTION_LIST_ITEM_SUBJECT=function(){},n}(i.InlineSyntaxNodeContainer);e.Subject=n;var t=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.DESCRIPTION_LIST_ITEM_DESCRIPTION=function(){},n}(o.OutlineSyntaxNodeContainer);e.Description=t}(n=e.Item||(e.Item={}))}(s=n.DescriptionList||(n.DescriptionList={}))},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(8),o=t(27),a=t(34),s=t(109),l=t(2),c=function(e){function n(t,r){void 0===r&&(r=new n.TableOfContents);var i=e.call(this,t)||this;return i.tableOfContents=r,i}return r(n,e),n.create=function(e){var t=n.TableOfContents.createThenAssociateSectionLinksWithEntries(e),r=new n(e,t);return s.insertFootnoteBlocksAndAssignFootnoteReferenceNumbers(r),r},n}(i.OutlineSyntaxNodeContainer);n.Document=c,function(e){var n=function(){function e(e){void 0===e&&(e=[]),this.entries=e}return e.createThenAssociateSectionLinksWithEntries=function(n){for(var t=e.getEntries(n),r=0;r<t.length;r++)t[r].ordinalInTableOfContents=r+1;for(var i=new e(t),o=l.concat(n.map(function(e){return e.inlineDescendants()})),s=0,c=o;s<c.length;s++){var u=c[s];u instanceof a.SectionLink&&u.referenceMostAppropriateTableOfContentsEntry(i)}return i},e.getEntries=function(e){return l.concat(e.map(function(e){return e instanceof o.Heading?[e]:e.descendantsToIncludeInTableOfContents()}))},e}();e.TableOfContents=n}(c=n.Document||(n.Document={}))},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(5),o=function(e){function n(n,t){var r=e.call(this,n)||this;return t&&(r.referenceNumber=t.referenceNumber),r}return r(n,e),n.prototype.textAppearingInline=function(){return""},n.prototype.render=function(e){return e.referenceToFootnote(this)},n}(i.RichInlineSyntaxNode);n.Footnote=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(7),o=function(e){function n(n,t){var r=e.call(this,n)||this;return r.ordinalInTableOfContents=void 0,r.sourceLineNumber=void 0,r.level=t.level,r.titleMarkup=t.titleMarkup,r.ordinalInTableOfContents=t.ordinalInTableOfContents,r.sourceLineNumber=t.sourceLineNumber,r}return r(n,e),n.prototype.descendantsToIncludeInTableOfContents=function(){return[]},n.prototype.render=function(e){return e.heading(this)},n}(i.InlineSyntaxNodeContainer);n.Heading=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(5),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.inlineRevealable(this)},n.prototype.INLINE_REVEALABLE=function(){},n}(i.RichInlineSyntaxNode);n.InlineRevealable=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(7),o=t(2),a=function(){function e(e,n){this.lines=e,this.sourceLineNumber=void 0,n&&(this.sourceLineNumber=n.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){return o.concat(this.lines.map(function(e){return e.inlineDescendants()}))},e.prototype.render=function(e){return e.lineBlock(this)},e}();n.LineBlock=a,function(e){var n=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.LINE_BLOCK_LINE=function(){},n}(i.InlineSyntaxNodeContainer);e.Line=n}(a=n.LineBlock||(n.LineBlock={}))},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(8),o=t(2),a=function(){function e(e,n){this.items=e,this.sourceLineNumber=void 0,n&&(this.sourceLineNumber=n.sourceLineNumber)}return e.prototype.start=function(){return this.items[0].ordinal},e.prototype.order=function(){var n=this.items.filter(function(e){return null!=e.ordinal});return n.length<2?e.Order.Ascending:n[0].ordinal>n[1].ordinal?e.Order.Descending:e.Order.Ascending},e.prototype.descendantsToIncludeInTableOfContents=function(){return o.concat(this.items.map(function(e){return e.descendantsToIncludeInTableOfContents()}))},e.prototype.inlineDescendants=function(){return o.concat(this.items.map(function(e){return e.inlineDescendants()}))},e.prototype.render=function(e){return e.numberedList(this)},e}();n.NumberedList=a,function(e){var n=function(e){function n(n,t){var r=e.call(this,n)||this;return r.children=n,r.ordinal=void 0,t&&(r.ordinal=t.ordinal),r}return r(n,e),n.prototype.NUMBERED_LIST_ITEM=function(){},n}(i.OutlineSyntaxNodeContainer);e.Item=n,function(e){e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(e.Order||(e.Order={})),e.Order}(a=n.NumberedList||(n.NumberedList={}))},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(5),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.PARENTHETICAL_SYNTAX_NODE=function(){},n}(i.RichInlineSyntaxNode);n.ParentheticalSyntaxNode=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(33),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.revealableBlock(this)},n.prototype.descendantsToIncludeInTableOfContents=function(){return[]},n.prototype.REVEALABLE_BLOCK=function(){},n}(i.RichOutlineSyntaxNode);n.RevealableBlock=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(8),o=function(e){function n(n,t){var r=e.call(this,n)||this;return r.sourceLineNumber=void 0,t&&(r.sourceLineNumber=t.sourceLineNumber),r}return r(n,e),n}(i.OutlineSyntaxNodeContainer);n.RichOutlineSyntaxNode=o},function(e,n,t){"use strict";var r=t(49),i=t(68),o=t(18),a=function(){function e(e,n){this.markupSnippetFromSectionTitle=e,this.entry=n}return e.prototype.referenceMostAppropriateTableOfContentsEntry=function(e){if(this.markupSnippetFromSectionTitle)for(var n=0,t=e.entries;n<t.length;n++){var i=t[n];if(this.canMatch(i)){var o=i.titleMarkup,a=this.markupSnippetFromSectionTitle;if(r.isEqualIgnoringCapitalization(o,a))return void(this.entry=i);this.entry||r.containsStringIgnoringCapitalization({haystack:o,needle:a})&&(this.entry=i)}}},e.prototype.textAppearingInline=function(){return this.entry?i.getTextAppearingInline(this.entry.children):this.markupSnippetFromSectionTitle},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.sectionLink(this)},e.prototype.canMatch=function(e){return o.getInlineDescendants(e.children).indexOf(this)===-1},e}();n.SectionLink=a},function(e,n){"use strict";var t=function(){function e(e){this.text=e}return e.prototype.textAppearingInline=function(){return this.text},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.text(this)},e}();n.Text=t},function(e,n){"use strict";function t(e,n){var t=void 0;return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout(function(){return e.apply(void 0,i)},n)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=t},function(e,n){"use strict";function t(e,n){e.addEventListener("click",function(e){var t=e.target;do if("A"===t.tagName)return void n(e);while(t=t.parentNode)})}Object.defineProperty(n,"__esModule",{value:!0}),n.default=t},function(e,n,t){"use strict";function r(e,n){return h.parseAndRender(e,n)}function i(e,n){return h.parseAndRenderWithTableOfContents(e,n)}function o(e,n){return h.parseAndRenderInline(e,n)}function a(e,n){return h.parse(e,n)}function s(e,n){return h.parseInline(e,n)}function l(e,n){return h.render(e,n)}function c(e,n){return h.renderWithTableOfContents(e,n)}function u(e,n){return h.renderInline(e,n)}var d=t(69),h=new d.Up;n.parseAndRender=r,n.parseAndRenderWithTableOfContents=i,n.parseAndRenderInline=o,n.parse=a,n.parseInline=s,n.render=l,n.renderWithTableOfContents=c,n.renderInline=u;var p=t(69);n.Up=p.Up;var f=t(25);n.Document=f.Document;var m=t(60);n.InlineDocument=m.InlineDocument;var g=t(50);n.Audio=g.Audio;var v=t(51);n.Blockquote=v.Blockquote;var y=t(52);n.Bold=y.Bold;var b=t(23);n.BulletedList=b.BulletedList;var k=t(53);n.CodeBlock=k.CodeBlock;var C=t(24);n.DescriptionList=C.DescriptionList;var w=t(54);n.Emphasis=w.Emphasis;var T=t(55);n.ExampleUserInput=T.ExampleUserInput;var x=t(26);n.Footnote=x.Footnote;var S=t(56);n.FootnoteBlock=S.FootnoteBlock;var L=t(27);n.Heading=L.Heading;var I=t(57);n.Highlight=I.Highlight;var O=t(58);n.Image=O.Image;var A=t(59);n.InlineCode=A.InlineCode;var N=t(61);n.InlineQuote=N.InlineQuote;var M=t(28);n.InlineRevealable=M.InlineRevealable;var R=t(62);n.Italic=R.Italic;var E=t(29);n.LineBlock=E.LineBlock;var B=t(15);n.Link=B.Link;var P=t(63);n.NormalParenthetical=P.NormalParenthetical;var W=t(30);n.NumberedList=W.NumberedList;var H=t(64);n.Paragraph=H.Paragraph;var D=t(32);n.RevealableBlock=D.RevealableBlock;var U=t(34);n.SectionLink=U.SectionLink;var F=t(65);n.SquareParenthetical=F.SquareParenthetical;var _=t(66);n.Stress=_.Stress;var z=t(16);n.Table=z.Table;var j=t(35);n.Text=j.Text;var G=t(17);n.ThematicBreak=G.ThematicBreak;var q=t(67);n.Video=q.Video;var V=t(7);n.InlineSyntaxNodeContainer=V.InlineSyntaxNodeContainer;var K=t(12);n.MediaSyntaxNode=K.MediaSyntaxNode;var Y=t(8);n.OutlineSyntaxNodeContainer=Y.OutlineSyntaxNodeContainer;var X=t(31);n.ParentheticalSyntaxNode=X.ParentheticalSyntaxNode;var Q=t(5);n.RichInlineSyntaxNode=Q.RichInlineSyntaxNode;var $=t(33);n.RichOutlineSyntaxNode=$.RichOutlineSyntaxNode,n.VERSION="37.0.1"},function(e,n,t){"use strict";var r=t(50),i=t(58),o=t(67),a=t(11);n.AUDIO={keyword:function(e){return e.audio},SyntaxNodeType:r.Audio,tokenRoleForStartAndDescription:a.TokenRole.AudioStartAndDescription},n.IMAGE={keyword:function(e){return e.image},SyntaxNodeType:i.Image,tokenRoleForStartAndDescription:a.TokenRole.ImageStartAndDescription},n.VIDEO={keyword:function(e){return e.video},SyntaxNodeType:o.Video,tokenRoleForStartAndDescription:a.TokenRole.VideoStartAndDescription}},function(e,n){"use strict";var t=function(){function e(e){this.entireText=e,this.index=0}return Object.defineProperty(e.prototype,"remaining",{get:function(){return this._remaining},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(e){this._index=e,this.updateComputedTextFields()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentChar",{get:function(){return this._currentChar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousChar",{get:function(){return this._previousChar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"done",{get:function(){return this._index>=this.entireText.length},enumerable:!0,configurable:!0}),e.prototype.consume=function(e){var n=e.exec(this._remaining);if(!n)return null;var t=n[0],r=n.slice(1),i=this.entireText[this._index+t.length];return this.index+=t.length,{match:t,charAfterMatch:i,captures:r}},e.prototype.updateComputedTextFields=function(){this._remaining=this.entireText.substr(this._index),this._currentChar=this._remaining[0],this._previousChar=this.entireText[this._index-1]},e}();n.TextConsumer=t},function(e,n){"use strict";var t=function(){function e(e,n){void 0===n&&(n=void 0),this.role=e,this.value=n}return e.prototype.enclosesContentBetweenItselfAnd=function(e){this.correspondingEnclosingToken=e,e.correspondingEnclosingToken=this},e}();n.Token=t},function(e,n,t){"use strict";function r(e){for(var n=new i.LineConsumer(e.markupLines),t=[];;){var r=n.consumeLineIfMatches(c);if(!r)break;t.push(r.line.replace(c,""))}if(!t.length)return!1;var s=e.sourceLineNumber,l=e.headingLeveler,u=a.getOutlineSyntaxNodes({markupLines:t,sourceLineNumber:s,headingLeveler:l,settings:e.settings});return e.then([new o.Blockquote(u)],n.countLinesConsumed),!0}var i=t(4),o=t(51),a=t(10),s=t(1),l=t(6);n.tryToParseBlockquote=r;var c=s.patternStartingWith(l.ANY_OPTIONAL_WHITESPACE+">"+s.optional(" "))},function(e,n,t){"use strict";function r(e){for(var n=new i.LineConsumer(e.markupLines),t=[];!n.done;){var r=[],l=e.sourceLineNumber+n.countLinesConsumed,c=n.consumeLineIfMatches(u);if(!c)break;r.push(c.line.replace(u,""));var d=s.getIndentedBlock(n.remaining()),h=!1;if(d&&(r.push.apply(r,d.lines),n.skipLines(d.countLinesConsumed),h=d.hasMultipleTrailingBlankLines),t.push(new o.BulletedList.Item(a.getOutlineSyntaxNodes({markupLines:r,sourceLineNumber:l,headingLeveler:e.headingLeveler,settings:e.settings}))),h)break}return!!t.length&&(e.then([new o.BulletedList(t)],n.countLinesConsumed),!0)}var i=t(4),o=t(23),a=t(10),s=t(13),l=t(1),c=t(6);n.tryToParseBulletedList=r;var u=l.patternStartingWith(l.optional(" ")+l.anyCharFrom("*","-","•")+c.INLINE_WHITESPACE_CHAR)},function(e,n,t){"use strict";function r(e){var n=new i.LineConsumer(e.markupLines),t=n.consumeLineIfMatches(s);if(!t)return!1;for(var r=t.line.trim(),a=[];!n.done;){var c=n.consumeLineIfMatches(s);if(c){var u=c.line.trim();
if(u.length===r.length)break;a.push(u)}else a.push(n.consumeLine())}return e.then([new o.CodeBlock(a.join(l))],n.countLinesConsumed),!0}var i=t(4),o=t(53),a=t(1);n.tryToParseCodeBlock=r;var s=a.streakOf("`"),l="\n"},function(e,n,t){"use strict";function r(e){for(var n=new a.LineConsumer(e.markupLines),t=[];!n.done;){var r=n.countLinesConsumed,c=n.consumeLineIfMatches(m,{andIf:function(e){return!d.DIVIDER_STREAK_PATTERN.test(e.line)}});if(!c)break;var u=c.captures[0],f=new p({bullet:u,firstLineOfMarkup:c.line.replace(m,""),sourceLineNumber:e.sourceLineNumber+r}),g=h.getIndentedBlock(n.remaining()),v=!1;if(g&&((b=f.markupLines).push.apply(b,g.lines),n.skipLines(g.countLinesConsumed),v=g.hasMultipleTrailingBlankLines),t.push(f),v)break}if(!i(t))return!1;var y=t.map(function(n){var t=l.getOutlineSyntaxNodes({markupLines:n.markupLines,sourceLineNumber:n.sourceLineNumber,headingLeveler:e.headingLeveler,settings:e.settings}),r=o(n);return new s.NumberedList.Item(t,{ordinal:r})});return e.then([new s.NumberedList(y)],n.countLinesConsumed),!0;var b}function i(e){var n=e.length;return n>0&&(n>1||!g.test(e[0].bullet))}function o(e){var n=v.exec(e.bullet);return n?parseInt(n[0],10):void 0}var a=t(4),s=t(30),l=t(10),c=t(1),u=t(6),d=t(3),h=t(13);n.tryToParseNumberedList=r;var p=function(){function e(e){this.markupLines=[],this.bullet=e.bullet,this.markupLines=[e.firstLineOfMarkup],this.sourceLineNumber=e.sourceLineNumber}return e}();n.INTEGER=c.optional(c.escapeForRegex("-"))+c.oneOrMore(u.DIGIT);var f=c.either("#",c.capture(c.either(n.INTEGER,"#")+c.anyCharFrom(".",")"))),m=c.patternStartingWith(c.optional(" ")+f+u.INLINE_WHITESPACE_CHAR),g=c.patternStartingWith(n.INTEGER+"\\."),v=new RegExp(n.INTEGER)},function(e,n,t){"use strict";function r(e){var n=new i.LineConsumer(e.markupLines);return!!n.consumeLineIfMatches(a.DIVIDER_STREAK_PATTERN)&&(e.then([new o.ThematicBreak],n.countLinesConsumed),!0)}var i=t(4),o=t(17),a=t(3);n.tryToParseThematicBreakStreak=r},function(e,n,t){"use strict";function r(e){return e instanceof i.Text&&o.BLANK_PATTERN.test(e.text)}var i=t(35),o=t(3);n.isWhitespace=r},function(e,n){"use strict";function t(e){return i(e,/[&<]/g)}function r(e){return i(String(e),/[&"]/g)}function i(e,n){return e.replace(n,function(e){return o[e]})}n.escapeHtmlContent=t,n.escapeHtmlAttrValue=r;var o={"&":"&amp;","<":"&lt;",'"':"&quot;"}},function(e,n,t){"use strict";function r(e,n){return new Array(n+1).join(e)}function i(e,n){var t=new RegExp("^"+a.escapeForRegex(e)+"$","i");return t.test(n)}function o(e){var n=new RegExp(a.escapeForRegex(e.needle),"i");return n.test(e.haystack)}var a=t(1);n.repeat=r,n.isEqualIgnoringCapitalization=i,n.containsStringIgnoringCapitalization=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(12),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.audio(this)},n.prototype.AUDIO=function(){},n}(i.MediaSyntaxNode);n.Audio=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(33),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.blockquote(this)},n.prototype.BLOCKQUOTE=function(){},n}(i.RichOutlineSyntaxNode);n.Blockquote=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(5),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.bold(this)},n.prototype.BOLD=function(){},n}(i.RichInlineSyntaxNode);n.Bold=o},function(e,n){"use strict";var t=function(){function e(e,n){this.code=e,this.sourceLineNumber=void 0,n&&(this.sourceLineNumber=n.sourceLineNumber)}return e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.codeBlock(this)},e}();n.CodeBlock=t},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(5),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.emphasis(this)},n.prototype.EMPHASIS=function(){},n}(i.RichInlineSyntaxNode);n.Emphasis=o},function(e,n){"use strict";var t=function(){function e(e){this.userInput=e}return e.prototype.textAppearingInline=function(){return this.userInput},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.exampleUserInput(this)},e}();n.ExampleUserInput=t},function(e,n,t){"use strict";var r=t(18),i=function(){function e(e){this.footnotes=e}return Object.defineProperty(e.prototype,"sourceLineNumber",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.descendantsToIncludeInTableOfContents=function(){return[]},e.prototype.inlineDescendants=function(){return r.getInlineDescendants(this.footnotes)},e.prototype.render=function(e){return e.footnoteBlock(this)},e}();n.FootnoteBlock=i},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(5),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.highlight(this)},n.prototype.HIGHLIGHT=function(){},n}(i.RichInlineSyntaxNode);n.Highlight=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(12),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.image(this)},n.prototype.IMAGE=function(){},n}(i.MediaSyntaxNode);n.Image=o},function(e,n){"use strict";var t=function(){function e(e){this.code=e}return e.prototype.textAppearingInline=function(){return this.code},e.prototype.inlineDescendants=function(){return[]},e.prototype.render=function(e){return e.inlineCode(this)},e}();n.InlineCode=t},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(7),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.INLINE_DOCUMENT=function(){},n}(i.InlineSyntaxNodeContainer);n.InlineDocument=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(28),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.inlineQuote(this)},n.prototype.INLINE_QUOTE=function(){},n}(i.InlineRevealable);n.InlineQuote=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(5),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.italic(this)},n.prototype.ITALIC=function(){},n}(i.RichInlineSyntaxNode);n.Italic=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(31),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.normalParenthetical(this)},n.prototype.NORMAL_PARENTHETICAL=function(){},n}(i.ParentheticalSyntaxNode);n.NormalParenthetical=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(7),o=function(e){function n(n,t){var r=e.call(this,n)||this;return r.sourceLineNumber=void 0,t&&(r.sourceLineNumber=t.sourceLineNumber),r}return r(n,e),n.prototype.descendantsToIncludeInTableOfContents=function(){return[]},n.prototype.render=function(e){return e.paragraph(this)},n.prototype.PARAGRAPH=function(){},n}(i.InlineSyntaxNodeContainer);n.Paragraph=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(31),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.squareParenthetical(this)},n.prototype.SQUARE_PARENTHETICAL=function(){},n}(i.ParentheticalSyntaxNode);n.SquareParenthetical=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(5),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.stress(this)},n.prototype.STRESS=function(){},n}(i.RichInlineSyntaxNode);n.Stress=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},i=t(12),o=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(e){return e.video(this)},n.prototype.VIDEO=function(){},n}(i.MediaSyntaxNode);n.Video=o},function(e,n){"use strict";function t(e){return e.map(function(e){return e.textAppearingInline()}).join("")}n.getTextAppearingInline=t},function(e,n,t){"use strict";function r(e){return e||{parsing:{},rendering:{}}}var i=t(84),o=t(104),a=t(105),s=t(107),l=function(){function e(e){this.settings=new i.NormalizedSettings(e)}return e.prototype.parseAndRender=function(e,n){var t=r(n),i=t.parsing,o=t.rendering,a=this.parse(e,i);return this.render(a,o)},e.prototype.parseAndRenderWithTableOfContents=function(e,n){var t=r(n),i=t.parsing,o=t.rendering,a=this.parse(e,i);return this.renderWithTableOfContents(a,o)},e.prototype.parseAndRenderInline=function(e,n){var t=r(n),i=t.parsing,o=t.rendering,a=this.parseInline(e,i);return this.renderInline(a,o)},e.prototype.parse=function(e,n){return o.parse(e,this.getParsingSettings(n))},e.prototype.parseInline=function(e,n){return a.parseInline(e,this.getParsingSettings(n))},e.prototype.render=function(e,n){var t=this.getHtmlRenderer(n);return t.document(e)},e.prototype.renderWithTableOfContents=function(e,n){var t=this.getHtmlRenderer(n);return{documentHtml:t.document(e),tableOfContentsHtml:t.tableOfContents(e.tableOfContents)}},e.prototype.renderInline=function(e,n){var t=this.getHtmlRenderer(n);return t.inlineDocument(e)},e.prototype.getHtmlRenderer=function(e){return new s.HtmlRenderer(this.getRenderingSettings(e))},e.prototype.getParsingSettings=function(e){return this.settings.withChanges({parsing:e||{}}).parsing},e.prototype.getRenderingSettings=function(e){return this.settings.withChanges({rendering:e||{}}).rendering},e}();n.Up=l},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,n,t,r){function i(){u=!0,h()}function s(){c=!0,p()}var c=!1,u=!1,d=function(e){return(0,l.default)(e,250)},h=d(function(){u=!1}),p=d(function(){c=!1}),f=o(t,e,n),m=o(r,e,n);a(n,function(){c||(f(),i())}),a(e.getScrollerElement(),function(){u||(m(),s())})}function o(e,n,t){var r=60,i=1e3/r;return(0,u.default)(function(){return e(n,t)},i)}function a(e,n){e.addEventListener("scroll",n)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var s=t(36),l=r(s),c=t(76),u=r(c)},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){x=e.querySelectorAll("[data-up-source-line]")}function o(e,n,r,o){var s=(0,h.default)(e,{value:t(81),lineNumbers:!0,lineWrapping:!0,tabSize:2,extraKeys:{Tab:function(){if(s.somethingSelected())return h.default.Pass;var e=s.getOption("indentUnit"),n=(0,T.default)(" ",e);s.replaceSelection(n)}}});h.default.keyMap.default["Shift-Tab"]="indentLess",u(s),a(s,n,r,o),(0,m.default)(s,n,l,c),s.refresh(),i(n)}function a(e,n,t,r){function i(){a=!0,n.classList.remove("clean"),n.classList.add("dirty")}function o(){a=!1,n.classList.remove("dirty"),n.classList.add("clean")}var a=!1,l=(0,b.default)(function(){a&&(s(e,n,t,r),o())},1200);e.on("change",function(){i(),l()});for(var c=["keydown","cursorActivity"],u=0;u<c.length;u++){var d=c[u];e.on(d,l)}}function s(e,n,t,r){var o=e.getValue(),a=(0,p.parseAndRenderWithTableOfContents)(o,C.default),s=a.documentHtml,l=a.tableOfContentsHtml,c=n.scrollTop;t.innerHTML=s,r.innerHTML=l,n.scrollTop=c,i(n)}function l(e,n){for(var t=0;t<x.length;t++){var r=x[t];if(!(0,v.default)(r)){var i=n.offsetTop-10,o=r.getBoundingClientRect().top>=i;if(o){var a=r.dataset.upSourceLine-1,s={line:a,ch:0},l=e.charCoords(s,"local").top;return void e.scrollTo(null,l)}}}}function c(e,n){var t=1+e.lineAtHeight(0,"window");if(1===t)return void(n.scrollTop=0);for(var r=0;r<x.length;r++){var i=x[r];if(!(0,v.default)(i)&&i.dataset.upSourceLine>=t)return void i.scrollIntoView()}}function u(e){var n=e.defaultCharWidth(),t=4;e.on("renderLine",function(e,r,i){var o=n*h.default.countColumn(r.text);i.style.textIndent="-"+o+"px",i.style.paddingLeft=t+o+"px"})}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var d=t(78),h=r(d),p=t(38),f=t(70),m=r(f),g=t(74),v=r(g),y=t(36),b=r(y),k=t(77),C=r(k),w=t(75),T=r(w),x=[]},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function n(){var n=e.scrollTop;window.history.replaceState({scrollTop:n},"")}function t(n){n?e.scrollTop=n.scrollTop:o()}(0,c.default)(e,function(){n()}),window.addEventListener("beforeunload",function(){n()}),window.addEventListener("popstate",function(e){var n=e.state;t(n)}),window.addEventListener("pageshow",function(){var e=window.history.state;t(e)})}function o(){var e=window.location.hash;if(e){var n=e.substring(1),t=(0,s.default)(n);t&&t.scrollIntoView()}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=t(19),s=r(a),l=t(37),c=r(l)},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,n){o({tab:e,otherTab:n}),o({tab:n,otherTab:e}),(0,h.default)(l(n),function(t){var r=t.target.tagName;"LABEL"!==r&&"INPUT"!==r&&a({tab:e,otherTab:n})})}function o(e){e.tab.addEventListener("click",function(){return a(e)})}function a(e){var n=e.tab,t=e.otherTab;s(n,"true"),s(t,"false"),l(n).style.display="block",l(t).style.display="none"}function s(e,n){e.setAttribute("aria-selected",n)}function l(e){return(0,u.default)(e.getAttribute("aria-controls"))}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var c=t(19),u=r(c),d=t(37),h=r(d)},function(e,n){"use strict";function t(e){return!e.offsetParent}Object.defineProperty(n,"__esModule",{value:!0}),n.default=t},function(e,n){"use strict";function t(e,n){return new Array(n+1).join(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=t},function(e,n){"use strict";function t(e,n){var t=!1,r=!1;return function(){function i(){e.apply(void 0,s),setTimeout(o,n)}function o(){r?(i(),r=!1):t=!1}for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];t?r=!0:(t=!0,i())}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=t},function(e,n){"use strict";e.exports={parsing:{createSourceMap:!0},rendering:{idPrefix:""}}},function(e,n,t){!function(n,t){e.exports=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function n(e){for(var n=e.childNodes.length;n>0;--n)e.removeChild(e.firstChild);return e}function t(e,t){return n(e).appendChild(t)}function r(e,n,t,r){var i=document.createElement(e);if(t&&(i.className=t),r&&(i.style.cssText=r),"string"==typeof n)i.appendChild(document.createTextNode(n));else if(n)for(var o=0;o<n.length;++o)i.appendChild(n[o]);return i}function i(e,n){if(3==n.nodeType&&(n=n.parentNode),e.contains)return e.contains(n);do if(11==n.nodeType&&(n=n.host),n==e)return!0;while(n=n.parentNode)}function o(n,t){var r=n.className;e(t).test(r)||(n.className+=(r?" ":"")+t)}function a(n,t){for(var r=n.split(" "),i=0;i<r.length;i++)r[i]&&!e(r[i]).test(t)&&(t+=" "+r[i]);return t}function s(e){var n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,n)}}function l(e,n,t){n||(n={});for(var r in e)!e.hasOwnProperty(r)||t===!1&&n.hasOwnProperty(r)||(n[r]=e[r]);return n}function c(e,n,t,r,i){null==n&&(n=e.search(/[^\s\u00a0]/),n==-1&&(n=e.length));for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=n)return a+(n-o);a+=s-o,a+=t-a%t,o=s+1}}function u(){this.id=null}function d(e,n){for(var t=0;t<e.length;++t)if(e[t]==n)return t;return-1}function h(e,n,t){for(var r=0,i=0;;){var o=e.indexOf("\t",r);o==-1&&(o=e.length);var a=o-r;if(o==e.length||i+a>=n)return r+Math.min(a,n-i);if(i+=o-r,i+=t-i%t,r=o+1,i>=n)return r}}function p(e){for(;Ba.length<=e;)Ba.push(f(Ba)+" ");return Ba[e]}function f(e){return e[e.length-1]}function m(e,n){for(var t=[],r=0;r<e.length;r++)t[r]=n(e[r],r);return t}function g(e,n,t){for(var r=0,i=t(n);r<e.length&&t(e[r])<=i;)r++;e.splice(r,0,n)}function v(){}function y(e,n){var t;return Object.create?t=Object.create(e):(v.prototype=e,t=new v),n&&l(n,t),t}function b(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Pa.test(e))}function k(e,n){return n?!!(n.source.indexOf("\\w")>-1&&b(e))||n.test(e):b(e)}function C(e){for(var n in e)if(e.hasOwnProperty(n)&&e[n])return!1;return!0}function w(e){return e.charCodeAt(0)>=768&&Wa.test(e)}function T(e,n,t){var i=this;this.input=t,i.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=r("div",null,"CodeMirror-code"),i.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=r("div",null,"CodeMirror-cursors"),i.measure=r("div",null,"CodeMirror-measure"),i.lineMeasure=r("div",null,"CodeMirror-measure"),i.lineSpace=r("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=r("div",[r("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=r("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=r("div",null,null,"position: absolute; height: "+Aa+"px; width: 1px;"),i.gutters=r("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=r("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=r("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),aa&&sa<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),la||ra&&ga||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=n.first,i.reportedViewFrom=i.reportedViewTo=n.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,t.init(i)}function x(e,n){if(n-=e.first,n<0||n>=e.size)throw new Error("There is no line "+(n+e.first)+" in the document.");for(var t=e;!t.lines;)for(var r=0;;++r){var i=t.children[r],o=i.chunkSize();if(n<o){t=i;break}n-=o}return t.lines[n]}function S(e,n,t){var r=[],i=n.line;return e.iter(n.line,t.line+1,function(e){var o=e.text;i==t.line&&(o=o.slice(0,t.ch)),i==n.line&&(o=o.slice(n.ch)),r.push(o),++i}),r}function L(e,n,t){var r=[];return e.iter(n,t,function(e){r.push(e.text)}),r}function I(e,n){var t=n-e.height;if(t)for(var r=e;r;r=r.parent)r.height+=t}function O(e){if(null==e.parent)return null;for(var n=e.parent,t=d(n.lines,e),r=n.parent;r;n=r,r=r.parent)for(var i=0;r.children[i]!=n;++i)t+=r.children[i].chunkSize();return t+n.first}function A(e,n){var t=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(n<o){e=i;continue e}n-=o,t+=i.chunkSize()}return t}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],l=s.height;if(n<l)break;n-=l}return t+a}function N(e,n){return n>=e.first&&n<e.first+e.size}function M(e,n){return String(e.lineNumberFormatter(n+e.firstLineNumber))}function R(e,n){return this instanceof R?(this.line=e,void(this.ch=n)):new R(e,n)}function E(e,n){return e.line-n.line||e.ch-n.ch}function B(e){return R(e.line,e.ch)}function P(e,n){return E(e,n)<0?n:e}function W(e,n){return E(e,n)<0?e:n}function H(e,n){return Math.max(e.first,Math.min(n,e.first+e.size-1))}function D(e,n){if(n.line<e.first)return R(e.first,0);var t=e.first+e.size-1;return n.line>t?R(t,x(e,t).text.length):U(n,x(e,n.line).text.length)}function U(e,n){var t=e.ch;return null==t||t>n?R(e.line,n):t<0?R(e.line,0):e}function F(e,n){for(var t=[],r=0;r<n.length;r++)t[r]=D(e,n[r]);return t}function _(){Ha=!0}function z(){Da=!0}function j(e,n,t){this.marker=e,this.from=n,this.to=t}function G(e,n){if(e)for(var t=0;t<e.length;++t){var r=e[t];if(r.marker==n)return r}}function q(e,n){for(var t,r=0;r<e.length;++r)e[r]!=n&&(t||(t=[])).push(e[r]);return t}function V(e,n){e.markedSpans=e.markedSpans?e.markedSpans.concat([n]):[n],n.marker.attachLine(e)}function K(e,n,t){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=n:o.from<n);if(s||o.from==n&&"bookmark"==a.type&&(!t||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=n:o.to>n);(r||(r=[])).push(new j(a,o.from,l?null:o.to))}}return r}function Y(e,n,t){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=n:o.to>n);if(s||o.from==n&&"bookmark"==a.type&&(!t||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=n:o.from<n);(r||(r=[])).push(new j(a,l?null:o.from-n,null==o.to?null:o.to-n))}}return r}function X(e,n){if(n.full)return null;var t=N(e,n.from.line)&&x(e,n.from.line).markedSpans,r=N(e,n.to.line)&&x(e,n.to.line).markedSpans;if(!t&&!r)return null;var i=n.from.ch,o=n.to.ch,a=0==E(n.from,n.to),s=K(t,i,a),l=Y(r,o,a),c=1==n.text.length,u=f(n.text).length+(c?i:0);if(s)for(var d=0;d<s.length;++d){var h=s[d];if(null==h.to){var p=G(l,h.marker);p?c&&(h.to=null==p.to?null:p.to+u):h.to=i}}if(l)for(var m=0;m<l.length;++m){var g=l[m];if(null!=g.to&&(g.to+=u),null==g.from){var v=G(s,g.marker);v||(g.from=u,c&&(s||(s=[])).push(g))}else g.from+=u,c&&(s||(s=[])).push(g)}s&&(s=Q(s)),l&&l!=s&&(l=Q(l));var y=[s];if(!c){var b,k=n.text.length-2;if(k>0&&s)for(var C=0;C<s.length;++C)null==s[C].to&&(b||(b=[])).push(new j(s[C].marker,null,null));for(var w=0;w<k;++w)y.push(b);y.push(l)}return y}function Q(e){for(var n=0;n<e.length;++n){var t=e[n];null!=t.from&&t.from==t.to&&t.marker.clearWhenEmpty!==!1&&e.splice(n--,1)}return e.length?e:null}function $(e,n,t){var r=null;if(e.iter(n.line,t.line+1,function(e){if(e.markedSpans)for(var n=0;n<e.markedSpans.length;++n){var t=e.markedSpans[n].marker;!t.readOnly||r&&d(r,t)!=-1||(r||(r=[])).push(t)}}),!r)return null;for(var i=[{from:n,to:t}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var c=i[l];if(!(E(c.to,s.from)<0||E(c.from,s.to)>0)){var u=[l,1],h=E(c.from,s.from),p=E(c.to,s.to);(h<0||!a.inclusiveLeft&&!h)&&u.push({from:c.from,to:s.from}),(p>0||!a.inclusiveRight&&!p)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-1}}return i}function J(e){var n=e.markedSpans;if(n){for(var t=0;t<n.length;++t)n[t].marker.detachLine(e);e.markedSpans=null}}function Z(e,n){if(n){for(var t=0;t<n.length;++t)n[t].marker.attachLine(e);e.markedSpans=n}}function ee(e){return e.inclusiveLeft?-1:0}function ne(e){return e.inclusiveRight?1:0}function te(e,n){var t=e.lines.length-n.lines.length;if(0!=t)return t;var r=e.find(),i=n.find(),o=E(r.from,i.from)||ee(e)-ee(n);if(o)return-o;var a=E(r.to,i.to)||ne(e)-ne(n);return a?a:n.id-e.id}function re(e,n){var t,r=Da&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(n?i.from:i.to)&&(!t||te(t,i.marker)<0)&&(t=i.marker);return t}function ie(e){return re(e,!0)}function oe(e){return re(e,!1)}function ae(e,n,t,r,i){var o=x(e,n),a=Da&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=E(c.from,t)||ee(l.marker)-ee(i),d=E(c.to,r)||ne(l.marker)-ne(i);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?E(c.to,t)>=0:E(c.to,t)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?E(c.from,r)<=0:E(c.from,r)<0)))return!0}}}function se(e){for(var n;n=ie(e);)e=n.find(-1,!0).line;return e}function le(e){for(var n,t;n=oe(e);)e=n.find(1,!0).line,(t||(t=[])).push(e);return t}function ce(e,n){var t=x(e,n),r=se(t);return t==r?n:O(r)}function ue(e,n){if(n>e.lastLine())return n;var t,r=x(e,n);if(!de(e,r))return n;for(;t=oe(r);)r=t.find(1,!0).line;return O(r)+1}function de(e,n){var t=Da&&n.markedSpans;if(t)for(var r=void 0,i=0;i<t.length;++i)if(r=t[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&he(e,n,r))return!0}}function he(e,n,t){if(null==t.to){var r=t.marker.find(1,!0);return he(e,r.line,G(r.line.markedSpans,t.marker))}if(t.marker.inclusiveRight&&t.to==n.text.length)return!0;for(var i=void 0,o=0;o<n.markedSpans.length;++o)if(i=n.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==t.to&&(null==i.to||i.to!=t.from)&&(i.marker.inclusiveLeft||t.marker.inclusiveRight)&&he(e,n,i))return!0}function pe(e){e=se(e);for(var n=0,t=e.parent,r=0;r<t.lines.length;++r){var i=t.lines[r];if(i==e)break;n+=i.height}for(var o=t.parent;o;t=o,o=t.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==t)break;n+=s.height}return n}function fe(e){if(0==e.height)return 0;for(var n,t=e.text.length,r=e;n=ie(r);){var i=n.find(0,!0);r=i.from.line,t+=i.from.ch-i.to.ch}for(r=e;n=oe(r);){var o=n.find(0,!0);t-=r.text.length-o.from.ch,r=o.to.line,t+=r.text.length-o.to.ch}return t}function me(e){var n=e.display,t=e.doc;n.maxLine=x(t,t.first),n.maxLineLength=fe(n.maxLine),n.maxLineChanged=!0,t.iter(function(e){var t=fe(e);t>n.maxLineLength&&(n.maxLineLength=t,n.maxLine=e)})}function ge(e,n,t,r){if(!e)return r(n,t,"ltr");for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<t&&a.to>n||n==t&&a.to==n)&&(r(Math.max(a.from,n),Math.min(a.to,t),1==a.level?"rtl":"ltr"),i=!0)}i||r(n,t,"ltr")}function ve(e){return e.level%2?e.to:e.from}function ye(e){return e.level%2?e.from:e.to}function be(e){var n=Le(e);return n?ve(n[0]):0}function ke(e){var n=Le(e);return n?ye(f(n)):e.text.length}function Ce(e,n,t){var r=e[0].level;return n==r||t!=r&&n<t}function we(e,n){var t;Ua=null;for(var r=0;r<e.length;++r){var i=e[r];if(i.from<n&&i.to>n)return r;if(i.from==n||i.to==n){if(null!=t)return Ce(e,i.level,e[t].level)?(i.from!=i.to&&(Ua=t),r):(i.from!=i.to&&(Ua=r),t);t=r}}return t}function Te(e,n,t,r){if(!r)return n+t;do n+=t;while(n>0&&w(e.text.charAt(n)));return n}function xe(e,n,t,r){var i=Le(e);if(!i)return Se(e,n,t,r);for(var o=we(i,n),a=i[o],s=Te(e,n,a.level%2?-t:t,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return we(i,s)==o?s:(a=i[o+=t],t>0==a.level%2?a.to:a.from);if(a=i[o+=t],!a)return null;s=t>0==a.level%2?Te(e,a.to,-1,r):Te(e,a.from,1,r)}}function Se(e,n,t,r){var i=n+t;if(r)for(;i>0&&w(e.text.charAt(i));)i+=t;return i<0||i>e.text.length?null:i}function Le(e){var n=e.order;return null==n&&(n=e.order=Fa(e.text)),n}function Ie(e,n,t){var r=e._handlers&&e._handlers[n];return t?r&&r.length>0?r.slice():za:r||za}function Oe(e,n,t){if(e.removeEventListener)e.removeEventListener(n,t,!1);else if(e.detachEvent)e.detachEvent("on"+n,t);else for(var r=Ie(e,n,!1),i=0;i<r.length;++i)if(r[i]==t){r.splice(i,1);break}}function Ae(e,n){var t=Ie(e,n,!0);if(t.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<t.length;++i)t[i].apply(null,r)}function Ne(e,n,t){return"string"==typeof n&&(n={type:n,preventDefault:function(){this.defaultPrevented=!0}}),Ae(e,t||n.type,e,n),We(n)||n.codemirrorIgnore}function Me(e){var n=e._handlers&&e._handlers.cursorActivity;if(n)for(var t=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<n.length;++r)d(t,n[r])==-1&&t.push(n[r])}function Re(e,n){return Ie(e,n).length>0}function Ee(e){e.prototype.on=function(e,n){_a(this,e,n)},e.prototype.off=function(e,n){Oe(this,e,n)}}function Be(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Pe(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function We(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function He(e){Be(e),Pe(e)}function De(e){return e.target||e.srcElement}function Ue(e){var n=e.which;return null==n&&(1&e.button?n=1:2&e.button?n=3:4&e.button&&(n=2)),va&&e.ctrlKey&&1==n&&(n=3),n}function Fe(e){if(null==Ia){var n=r("span","​");t(e,r("span",[n,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ia=n.offsetWidth<=1&&n.offsetHeight>2&&!(aa&&sa<8))}var i=Ia?r("span","​"):r("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function _e(e){if(null!=Oa)return Oa;var r=t(e,document.createTextNode("AخA")),i=Ca(r,0,1).getBoundingClientRect(),o=Ca(r,1,2).getBoundingClientRect();return n(e),!(!i||i.left==i.right)&&(Oa=o.right-i.right<3)}function ze(e){if(null!=Ka)return Ka;var n=t(e,r("span","x")),i=n.getBoundingClientRect(),o=Ca(n,0,1).getBoundingClientRect();return Ka=Math.abs(i.left-o.left)>1}function je(e,n){arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Ya[e]=n}function Ge(e,n){Xa[e]=n}function qe(e){if("string"==typeof e&&Xa.hasOwnProperty(e))e=Xa[e];else if(e&&"string"==typeof e.name&&Xa.hasOwnProperty(e.name)){var n=Xa[e.name];"string"==typeof n&&(n={name:n}),e=y(n,e),e.name=n.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return qe("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return qe("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,n){n=qe(n);var t=Ya[n.name];if(!t)return Ve(e,"text/plain");var r=t(e,n);if(Qa.hasOwnProperty(n.name)){var i=Qa[n.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)r[a]=n.modeProps[a];return r}function Ke(e,n){var t=Qa.hasOwnProperty(e)?Qa[e]:Qa[e]={};l(n,t)}function Ye(e,n){if(n===!0)return n;if(e.copyState)return e.copyState(n);var t={};for(var r in n){var i=n[r];i instanceof Array&&(i=i.concat([])),t[r]=i}return t}function Xe(e,n){for(var t;e.innerMode&&(t=e.innerMode(n),t&&t.mode!=e);)n=t.state,e=t.mode;return t||{mode:e,state:n}}function Qe(e,n,t){return!e.startState||e.startState(n,t)}function $e(e,n,t,r){var i=[e.state.modeGen],o={};an(e,n.text,e.doc.mode,t,function(e,n){
return i.push(e,n)},o,r);for(var a=function(t){var r=e.state.overlays[t],a=1,s=0;an(e,n.text,r.mode,!0,function(e,n){for(var t=a;s<e;){var o=i[a];o>e&&i.splice(a,1,e,i[a+1],o),a+=2,s=Math.min(e,o)}if(n)if(r.opaque)i.splice(t,a-t,e,"overlay "+n),a=t+2;else for(;t<a;t+=2){var l=i[t+1];i[t+1]=(l?l+" ":"")+"overlay "+n}},o)},s=0;s<e.state.overlays.length;++s)a(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Je(e,n,t){if(!n.styles||n.styles[0]!=e.state.modeGen){var r=Ze(e,O(n)),i=$e(e,n,n.text.length>e.options.maxHighlightLength?Ye(e.doc.mode,r):r);n.stateAfter=r,n.styles=i.styles,i.classes?n.styleClasses=i.classes:n.styleClasses&&(n.styleClasses=null),t===e.doc.frontier&&e.doc.frontier++}return n.styles}function Ze(e,n,t){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=sn(e,n,t),a=o>r.first&&x(r,o-1).stateAfter;return a=a?Ye(r.mode,a):Qe(r.mode),r.iter(o,n,function(t){en(e,t.text,a);var s=o==n-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;t.stateAfter=s?Ye(r.mode,a):null,++o}),t&&(r.frontier=o),a}function en(e,n,t,r){var i=e.doc.mode,o=new $a(n,e.options.tabSize);for(o.start=o.pos=r||0,""==n&&nn(i,t);!o.eol();)tn(i,o,t),o.start=o.pos}function nn(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var t=Xe(e,n);return t.mode.blankLine?t.mode.blankLine(t.state):void 0}}function tn(e,n,t,r){for(var i=0;i<10;i++){r&&(r[0]=Xe(e,t).mode);var o=e.token(n,t);if(n.pos>n.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function rn(e,n,t,r){var i,o=function(e){return{start:d.start,end:d.pos,string:d.current(),type:i||null,state:e?Ye(a.mode,u):u}},a=e.doc,s=a.mode;n=D(a,n);var l,c=x(a,n.line),u=Ze(e,n.line,t),d=new $a(c.text,e.options.tabSize);for(r&&(l=[]);(r||d.pos<n.ch)&&!d.eol();)d.start=d.pos,i=tn(s,d,u),r&&l.push(o(!0));return r?l:o()}function on(e,n){if(e)for(;;){var t=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!t)break;e=e.slice(0,t.index)+e.slice(t.index+t[0].length);var r=t[1]?"bgClass":"textClass";null==n[r]?n[r]=t[2]:new RegExp("(?:^|s)"+t[2]+"(?:$|s)").test(n[r])||(n[r]+=" "+t[2])}return e}function an(e,n,t,r,i,o,a){var s=t.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new $a(n,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==n&&on(nn(t,r),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&en(e,n,r,d.pos),d.pos=n.length,l=null):l=on(tn(t,d,r,h),o),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||u!=l){for(;c<d.start;)c=Math.min(d.start,c+5e3),i(c,u);u=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);i(f,u),c=f}}function sn(e,n,t){for(var r,i,o=e.doc,a=t?-1:n-(e.doc.mode.innerMode?1e3:100),s=n;s>a;--s){if(s<=o.first)return o.first;var l=x(o,s-1);if(l.stateAfter&&(!t||s<=o.frontier))return s;var u=c(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}function ln(e,n,t){this.text=e,Z(this,n),this.height=t?t(this):1}function cn(e,n,t,r){e.text=n,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),J(e),Z(e,t);var i=r?r(e):1;i!=e.height&&I(e,i)}function un(e){e.parent=null,J(e)}function dn(e,n){if(!e||/^\s*$/.test(e))return null;var t=n.addModeClass?es:Za;return t[e]||(t[e]=e.replace(/\S+/g,"cm-$&"))}function hn(e,n){var t=r("span",null,null,la?"padding-right: .1px":null),i={pre:r("pre",[t],"CodeMirror-line"),content:t,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(aa||la)&&e.getOption("lineWrapping")};n.measure={};for(var o=0;o<=(n.rest?n.rest.length:0);o++){var s=o?n.rest[o-1]:n.line,l=void 0;i.pos=0,i.addToken=fn,_e(e.display.measure)&&(l=Le(s))&&(i.addToken=gn(i.addToken,l)),i.map=[];var c=n!=e.display.externalMeasured&&O(s);yn(s,i,Je(e,s,c)),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=a(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=a(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Fe(e.display.measure))),0==o?(n.measure.map=i.map,n.measure.cache={}):((n.measure.maps||(n.measure.maps=[])).push(i.map),(n.measure.caches||(n.measure.caches=[])).push({}))}if(la){var u=i.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Ae(e,"renderLine",e,n.line,i.pre),i.pre.className&&(i.textClass=a(i.pre.className,i.textClass||"")),i}function pn(e){var n=r("span","•","cm-invalidchar");return n.title="\\u"+e.charCodeAt(0).toString(16),n.setAttribute("aria-label",n.title),n}function fn(e,n,t,i,o,a,s){if(n){var l,c=e.splitSpaces?mn(n,e.trailingSpace):n,u=e.cm.state.specialChars,d=!1;if(u.test(n)){l=document.createDocumentFragment();for(var h=0;;){u.lastIndex=h;var f=u.exec(n),m=f?f.index-h:n.length-h;if(m){var g=document.createTextNode(c.slice(h,h+m));aa&&sa<9?l.appendChild(r("span",[g])):l.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!f)break;h+=m+1;var v=void 0;if("\t"==f[0]){var y=e.cm.options.tabSize,b=y-e.col%y;v=l.appendChild(r("span",p(b),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==f[0]||"\n"==f[0]?(v=l.appendChild(r("span","\r"==f[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",f[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(f[0]),v.setAttribute("cm-text",f[0]),aa&&sa<9?l.appendChild(r("span",[v])):l.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=n.length,l=document.createTextNode(c),e.map.push(e.pos,e.pos+n.length,l),aa&&sa<9&&(d=!0),e.pos+=n.length;if(e.trailingSpace=32==c.charCodeAt(n.length-1),t||i||o||d||s){var k=t||"";i&&(k+=i),o&&(k+=o);var C=r("span",[l],k,s);return a&&(C.title=a),e.content.appendChild(C)}e.content.appendChild(l)}}function mn(e,n){if(e.length>1&&!/  /.test(e))return e;for(var t=n,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!t||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,t=" "==o}return r}function gn(e,n){return function(t,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=t.pos,u=c+r.length;;){for(var d=void 0,h=0;h<n.length&&(d=n[h],!(d.to>c&&d.from<=c));h++);if(d.to>=u)return e(t,r,i,o,a,s,l);e(t,r.slice(0,d.to-c),i,o,null,s,l),o=null,r=r.slice(d.to-c),c=d.to}}}function vn(e,n,t,r){var i=!r&&t.widgetNode;i&&e.map.push(e.pos,e.pos+n,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",t.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=n,e.trailingSpace=!1}function yn(e,n,t){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,c,u,d,h,p=i.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=u=d=s="",h=null,v=1/0;for(var y=[],b=void 0,k=0;k<r.length;++k){var C=r[k],w=C.marker;"bookmark"==w.type&&C.from==f&&w.widgetNode?y.push(w):C.from<=f&&(null==C.to||C.to>f||w.collapsed&&C.to==f&&C.from==f)?(null!=C.to&&C.to!=f&&v>C.to&&(v=C.to,c=""),w.className&&(l+=" "+w.className),w.css&&(s=(s?s+";":"")+w.css),w.startStyle&&C.from==f&&(u+=" "+w.startStyle),w.endStyle&&C.to==v&&(b||(b=[])).push(w.endStyle,C.to),w.title&&!d&&(d=w.title),w.collapsed&&(!h||te(h.marker,w)<0)&&(h=C)):C.from>f&&v>C.from&&(v=C.from)}if(b)for(var T=0;T<b.length;T+=2)b[T+1]==v&&(c+=" "+b[T]);if(!h||h.from==f)for(var x=0;x<y.length;++x)vn(n,0,y[x]);if(h&&(h.from||0)==f){if(vn(n,(null==h.to?p+1:h.to)-f,h.marker,null==h.from),null==h.to)return;h.to==f&&(h=!1)}}if(f>=p)break;for(var S=Math.min(p,v);;){if(g){var L=f+g.length;if(!h){var I=L>S?g.slice(0,S-f):g;n.addToken(n,I,a?a+l:l,u,f+I.length==v?c:"",d,s)}if(L>=S){g=g.slice(S-f),f=S;break}f=L,u=""}g=i.slice(o,o=t[m++]),a=dn(t[m++],n.cm.options)}}else for(var O=1;O<t.length;O+=2)n.addToken(n,i.slice(o,o=t[O]),dn(t[O+1],n.cm.options))}function bn(e,n,t){this.line=n,this.rest=le(n),this.size=this.rest?O(f(this.rest))-t+1:1,this.node=this.text=null,this.hidden=de(e,n)}function kn(e,n,t){for(var r,i=[],o=n;o<t;o=r){var a=new bn(e.doc,x(e.doc,o),o);r=o+a.size,i.push(a)}return i}function Cn(e){ns?ns.ops.push(e):e.ownsGroup=ns={ops:[e],delayedCallbacks:[]}}function wn(e){var n=e.delayedCallbacks,t=0;do{for(;t<n.length;t++)n[t].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(t<n.length)}function Tn(e,n){var t=e.ownsGroup;if(t)try{wn(t)}finally{ns=null,n(t)}}function xn(e,n){var t=Ie(e,n,!1);if(t.length){var r,i=Array.prototype.slice.call(arguments,2);ns?r=ns.delayedCallbacks:ts?r=ts:(r=ts=[],setTimeout(Sn,0));for(var o=function(e){r.push(function(){return t[e].apply(null,i)})},a=0;a<t.length;++a)o(a)}}function Sn(){var e=ts;ts=null;for(var n=0;n<e.length;++n)e[n]()}function Ln(e,n,t,r){for(var i=0;i<n.changes.length;i++){var o=n.changes[i];"text"==o?Nn(e,n):"gutter"==o?Rn(e,n,t,r):"class"==o?Mn(n):"widget"==o&&En(e,n,r)}n.changes=null}function In(e){return e.node==e.text&&(e.node=r("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),aa&&sa<8&&(e.node.style.zIndex=2)),e.node}function On(e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var t=In(e);e.background=t.insertBefore(r("div",null,n),t.firstChild)}}function An(e,n){var t=e.display.externalMeasured;return t&&t.line==n.line?(e.display.externalMeasured=null,n.measure=t.measure,t.built):hn(e,n)}function Nn(e,n){var t=n.text.className,r=An(e,n);n.text==n.node&&(n.node=r.pre),n.text.parentNode.replaceChild(r.pre,n.text),n.text=r.pre,r.bgClass!=n.bgClass||r.textClass!=n.textClass?(n.bgClass=r.bgClass,n.textClass=r.textClass,Mn(n)):t&&(n.text.className=t)}function Mn(e){On(e),e.line.wrapClass?In(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function Rn(e,n,t,i){if(n.gutter&&(n.node.removeChild(n.gutter),n.gutter=null),n.gutterBackground&&(n.node.removeChild(n.gutterBackground),n.gutterBackground=null),n.line.gutterClass){var o=In(n);n.gutterBackground=r("div",null,"CodeMirror-gutter-background "+n.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),o.insertBefore(n.gutterBackground,n.text)}var a=n.line.gutterMarkers;if(e.options.lineNumbers||a){var s=In(n),l=n.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),s.insertBefore(l,n.text),n.line.gutterClass&&(l.className+=" "+n.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(n.lineNumber=l.appendChild(r("div",M(e.options,t),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var c=0;c<e.options.gutters.length;++c){var u=e.options.gutters[c],d=a.hasOwnProperty(u)&&a[u];d&&l.appendChild(r("div",[d],"CodeMirror-gutter-elt","left: "+i.gutterLeft[u]+"px; width: "+i.gutterWidth[u]+"px"))}}}function En(e,n,t){n.alignable&&(n.alignable=null);for(var r=n.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&n.node.removeChild(r);Pn(e,n,t)}function Bn(e,n,t,r){var i=An(e,n);return n.text=n.node=i.pre,i.bgClass&&(n.bgClass=i.bgClass),i.textClass&&(n.textClass=i.textClass),Mn(n),Rn(e,n,t,r),Pn(e,n,r),n.node}function Pn(e,n,t){if(Wn(e,n.line,n,t,!0),n.rest)for(var r=0;r<n.rest.length;r++)Wn(e,n.rest[r],n,t,!1)}function Wn(e,n,t,i,o){if(n.widgets)for(var a=In(t),s=0,l=n.widgets;s<l.length;++s){var c=l[s],u=r("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Hn(c,u,t,i),e.display.input.setUneditable(u),o&&c.above?a.insertBefore(u,t.gutter||t.text):a.appendChild(u),xn(c,"redraw")}}function Hn(e,n,t,r){if(e.noHScroll){(t.alignable||(t.alignable=[])).push(n);var i=r.wrapperWidth;n.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,n.style.paddingLeft=r.gutterTotalWidth+"px"),n.style.width=i+"px"}e.coverGutter&&(n.style.zIndex=5,n.style.position="relative",e.noHScroll||(n.style.marginLeft=-r.gutterTotalWidth+"px"))}function Dn(e){if(null!=e.height)return e.height;var n=e.doc.cm;if(!n)return 0;if(!i(document.body,e.node)){var o="position: relative;";e.coverGutter&&(o+="margin-left: -"+n.display.gutters.offsetWidth+"px;"),e.noHScroll&&(o+="width: "+n.display.wrapper.clientWidth+"px;"),t(n.display.measure,r("div",[e.node],null,o))}return e.height=e.node.parentNode.offsetHeight}function Un(e,n){for(var t=De(n);t!=e.wrapper;t=t.parentNode)if(!t||1==t.nodeType&&"true"==t.getAttribute("cm-ignore-events")||t.parentNode==e.sizer&&t!=e.mover)return!0}function Fn(e){return e.lineSpace.offsetTop}function _n(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function zn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var n=t(e.measure,r("pre","x")),i=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function jn(e){return Aa-e.display.nativeBarWidth}function Gn(e){return e.display.scroller.clientWidth-jn(e)-e.display.barWidth}function qn(e){return e.display.scroller.clientHeight-jn(e)-e.display.barHeight}function Vn(e,n,t){var r=e.options.lineWrapping,i=r&&Gn(e);if(!n.measure.heights||r&&n.measure.width!=i){var o=n.measure.heights=[];if(r){n.measure.width=i;for(var a=n.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-t.top)}}o.push(t.bottom-t.top)}}function Kn(e,n,t){if(e.line==n)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==n)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(O(e.rest[i])>t)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Yn(e,n){n=se(n);var r=O(n),i=e.display.externalMeasured=new bn(e.doc,n,r);i.lineN=r;var o=i.built=hn(e,i);return i.text=o.pre,t(e.display.lineMeasure,o.pre),i}function Xn(e,n,t,r){return Jn(e,$n(e,n),t,r)}function Qn(e,n){if(n>=e.display.viewFrom&&n<e.display.viewTo)return e.display.view[Tt(e,n)];var t=e.display.externalMeasured;return t&&n>=t.lineN&&n<t.lineN+t.size?t:void 0}function $n(e,n){var t=O(n),r=Qn(e,t);r&&!r.text?r=null:r&&r.changes&&(Ln(e,r,t,yt(e)),e.curOp.forceUpdate=!0),r||(r=Yn(e,n));var i=Kn(r,n,t);return{line:n,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Jn(e,n,t,r,i){n.before&&(t=-1);var o,a=t+(r||"");return n.cache.hasOwnProperty(a)?o=n.cache[a]:(n.rect||(n.rect=n.view.text.getBoundingClientRect()),n.hasHeights||(Vn(e,n.view,n.rect),n.hasHeights=!0),o=nt(e,n,t,r),o.bogus||(n.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Zn(e,n,t){for(var r,i,o,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],n<s?(i=0,o=1,a="left"):n<l?(i=n-s,o=i+1):(c==e.length-3||n==l&&e[c+3]>n)&&(o=l-s,i=o-1,n>=l&&(a="right")),null!=i){if(r=e[c+2],s==l&&t==(r.insertLeft?"left":"right")&&(a=t),"left"==t&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[(c-=3)+2],a="left";if("right"==t&&i==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function et(e,n){var t=rs;if("left"==n)for(var r=0;r<e.length&&(t=e[r]).left==t.right;r++);else for(var i=e.length-1;i>=0&&(t=e[i]).left==t.right;i--);return t}function nt(e,n,t,r){var i,o=Zn(n.map,t,r),a=o.node,s=o.start,l=o.end,c=o.collapse;if(3==a.nodeType){for(var u=0;u<4;u++){for(;s&&w(n.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&w(n.line.text.charAt(o.coverStart+l));)++l;if(i=aa&&sa<9&&0==s&&l==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():et(Ca(a,s,l).getClientRects(),r),i.left||i.right||0==s)break;l=s,s-=1,c="right"}aa&&sa<11&&(i=tt(e.display.measure,i))}else{s>0&&(c=r="right");var d;i=e.options.lineWrapping&&(d=a.getClientRects()).length>1?d["right"==r?d.length-1:0]:a.getBoundingClientRect()}if(aa&&sa<9&&!s&&(!i||!i.left&&!i.right)){var h=a.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+vt(e.display),top:h.top,bottom:h.bottom}:rs}for(var p=i.top-n.rect.top,f=i.bottom-n.rect.top,m=(p+f)/2,g=n.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var y=v?g[v-1]:0,b=g[v],k={left:("right"==c?i.right:i.left)-n.rect.left,right:("left"==c?i.left:i.right)-n.rect.left,top:y,bottom:b};return i.left||i.right||(k.bogus=!0),e.options.singleCursorHeightPerLine||(k.rtop=p,k.rbottom=f),k}function tt(e,n){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!ze(e))return n;var t=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:n.left*t,right:n.right*t,top:n.top*r,bottom:n.bottom*r}}function rt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var n=0;n<e.rest.length;n++)e.measure.caches[n]={}}function it(e){e.display.externalMeasure=null,n(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)rt(e.display.view[t])}function ot(e){it(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function at(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function st(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function lt(e,n,t,r){if(n.widgets)for(var i=0;i<n.widgets.length;++i)if(n.widgets[i].above){var o=Dn(n.widgets[i]);t.top+=o,t.bottom+=o}if("line"==r)return t;r||(r="local");var a=pe(n);if("local"==r?a+=Fn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:st());var l=s.left+("window"==r?0:at());t.left+=l,t.right+=l}return t.top+=a,t.bottom+=a,t}function ct(e,n,t){if("div"==t)return n;var r=n.left,i=n.top;if("page"==t)r-=at(),i-=st();else if("local"==t||!t){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function ut(e,n,t,r,i){return r||(r=x(e.doc,n.line)),lt(e,r,Xn(e,r,n.ch,i),t)}function dt(e,n,t,r,i,o){function a(n,a){var s=Jn(e,i,n,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,lt(e,r,s,t)}function s(e,n){var t=l[n],r=t.level%2;return e==ve(t)&&n&&t.level<l[n-1].level?(t=l[--n],e=ye(t)-(t.level%2?0:1),r=!0):e==ye(t)&&n<l.length-1&&t.level<l[n+1].level&&(t=l[++n],e=ve(t)-t.level%2,r=!1),r&&e==t.to&&e>t.from?a(e-1):a(e,r)}r=r||x(e.doc,n.line),i||(i=$n(e,r));var l=Le(r),c=n.ch;if(!l)return a(c);var u=we(l,c),d=s(c,u);return null!=Ua&&(d.other=s(c,Ua)),d}function ht(e,n){var t=0;n=D(e.doc,n),e.options.lineWrapping||(t=vt(e.display)*n.ch);var r=x(e.doc,n.line),i=pe(r)+Fn(e.display);return{left:t,right:t,top:i,bottom:i+r.height}}function pt(e,n,t,r){var i=R(e,n);return i.xRel=r,t&&(i.outside=!0),i}function ft(e,n,t){var r=e.doc;if(t+=e.display.viewOffset,t<0)return pt(r.first,0,!0,-1);var i=A(r,t),o=r.first+r.size-1;if(i>o)return pt(r.first+r.size-1,x(r,o).text.length,!0,1);n<0&&(n=0);for(var a=x(r,i);;){var s=mt(e,a,i,n,t),l=oe(a),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;i=O(a=c.to.line)}}function mt(e,n,t,r,i){function o(r){var i=dt(e,R(t,r),"line",n,c);return s=!0,a>i.bottom?i.left-l:a<i.top?i.left+l:(s=!1,i.left)}var a=i-pe(n),s=!1,l=2*e.display.wrapper.clientWidth,c=$n(e,n),u=Le(n),d=n.text.length,h=be(n),p=ke(n),f=o(h),m=s,g=o(p),v=s;if(r>g)return pt(t,p,v,1);for(;;){if(u?p==h||p==xe(n,h,1):p-h<=1){var y=r<f||r-f<=g-r?h:p,b=y==h?m:v,k=r-(y==h?f:g);if(v&&!u&&!/\s/.test(n.text.charAt(y))&&k>0&&y<n.text.length&&c.view.measure.heights.length>1){var C=Jn(e,c,y,"right");a<=C.bottom&&a>=C.top&&Math.abs(r-C.right)<k&&(b=!1,y++,k=r-C.right)}for(;w(n.text.charAt(y));)++y;var T=pt(t,y,b,k<-1?-1:k>1?1:0);return T}var x=Math.ceil(d/2),S=h+x;if(u){S=h;for(var L=0;L<x;++L)S=xe(n,S,1)}var I=o(S);I>r?(p=S,g=I,(v=s)&&(g+=1e3),d=x):(h=S,f=I,m=s,d-=x)}}function gt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ja){Ja=r("pre");for(var i=0;i<49;++i)Ja.appendChild(document.createTextNode("x")),Ja.appendChild(r("br"));Ja.appendChild(document.createTextNode("x"))}t(e.measure,Ja);var o=Ja.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),n(e.measure),o||1}function vt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var n=r("span","xxxxxxxxxx"),i=r("pre",[n]);t(e.measure,i);var o=n.getBoundingClientRect(),a=(o.right-o.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function yt(e){for(var n=e.display,t={},r={},i=n.gutters.clientLeft,o=n.gutters.firstChild,a=0;o;o=o.nextSibling,++a)t[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:bt(n),gutterTotalWidth:n.gutters.offsetWidth,gutterLeft:t,gutterWidth:r,wrapperWidth:n.wrapper.clientWidth}}function bt(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function kt(e){var n=gt(e.display),t=e.options.lineWrapping,r=t&&Math.max(5,e.display.scroller.clientWidth/vt(e.display)-3);return function(i){if(de(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return t?o+(Math.ceil(i.text.length/r)||1)*n:o+n}}function Ct(e){var n=e.doc,t=kt(e);n.iter(function(e){var n=t(e);n!=e.height&&I(e,n)})}function wt(e,n,t,r){var i=e.display;if(!t&&"true"==De(n).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=n.clientX-s.left,a=n.clientY-s.top}catch(e){return null}var l,u=ft(e,o,a);if(r&&1==u.xRel&&(l=x(e.doc,u.line).text).length==u.ch){var d=c(l,l.length,e.options.tabSize)-l.length;u=R(u.line,Math.max(0,Math.round((o-zn(e.display).left)/vt(e.display))-d))}return u}function Tt(e,n){if(n>=e.display.viewTo)return null;if(n-=e.display.viewFrom,n<0)return null;for(var t=e.display.view,r=0;r<t.length;r++)if(n-=t[r].size,n<0)return r}function xt(e){e.display.input.showSelection(e.display.input.prepareSelection())}function St(e,n){for(var t=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<t.sel.ranges.length;a++)if(n!==!1||a!=t.sel.primIndex){var s=t.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Lt(e,s.head,i),l||It(e,s,o)}}return r}function Lt(e,n,t){var i=dt(e,n,"div",null,null,!e.options.singleCursorHeightPerLine),o=t.appendChild(r("div"," ","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var a=t.appendChild(r("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=i.other.left+"px",a.style.top=i.other.top+"px",a.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function It(e,n,t){function i(e,n,t,i){n<0&&(n=0),n=Math.round(n),i=Math.round(i),l.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+n+"px; width: "+(null==t?d-e:t)+"px;\n                             height: "+(i-n)+"px"))}function o(n,t,r){function o(t,r){return ut(e,R(n,t),"div",c,r)}var a,l,c=x(s,n),h=c.text.length;return ge(Le(c),t||0,null==r?h:r,function(e,n,s){var c,p,f,m=o(e,"left");if(e==n)c=m,p=f=m.left;else{if(c=o(n-1,"right"),"rtl"==s){var g=m;m=c,c=g}p=m.left,f=c.right}null==t&&0==e&&(p=u),c.top-m.top>3&&(i(p,m.top,null,m.bottom),p=u,m.bottom<c.top&&i(p,m.bottom,null,c.top)),null==r&&n==h&&(f=d),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||c.bottom>l.bottom||c.bottom==l.bottom&&c.right>l.right)&&(l=c),p<u+1&&(p=u),i(p,c.top,f-p,c.bottom)}),{start:a,end:l}}var a=e.display,s=e.doc,l=document.createDocumentFragment(),c=zn(e.display),u=c.left,d=Math.max(a.sizerWidth,Gn(e)-a.sizer.offsetLeft)-c.right,h=n.from(),p=n.to();if(h.line==p.line)o(h.line,h.ch,p.ch);else{var f=x(s,h.line),m=x(s,p.line),g=se(f)==se(m),v=o(h.line,h.ch,g?f.text.length+1:null).end,y=o(p.line,g?0:null,p.ch).start;g&&(v.top<y.top-2?(i(v.right,v.top,null,v.bottom),i(u,y.top,y.left,y.bottom)):i(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&i(u,v.bottom,null,y.top)}t.appendChild(l)}function Ot(e){if(e.state.focused){var n=e.display;clearInterval(n.blinker);var t=!0;n.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?n.blinker=setInterval(function(){return n.cursorDiv.style.visibility=(t=!t)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(n.cursorDiv.style.visibility="hidden")}}function At(e){e.state.focused||(e.display.input.focus(),Mt(e))}function Nt(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Rt(e))},100)}function Mt(e,n){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ae(e,"focus",e,n),e.state.focused=!0,o(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),la&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ot(e))}function Rt(e,n){e.state.delayingBlurEvent||(e.state.focused&&(Ae(e,"blur",e,n),e.state.focused=!1,xa(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Et(e){var n=e.display,t=n.view;if(n.alignWidgets||n.gutters.firstChild&&e.options.fixedGutter){for(var r=bt(n)-n.scroller.scrollLeft+e.doc.scrollLeft,i=n.gutters.offsetWidth,o=r+"px",a=0;a<t.length;a++)if(!t[a].hidden){e.options.fixedGutter&&(t[a].gutter&&(t[a].gutter.style.left=o),t[a].gutterBackground&&(t[a].gutterBackground.style.left=o));var s=t[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(n.gutters.style.left=r+i+"px")}}function Bt(e){if(!e.options.lineNumbers)return!1;var n=e.doc,t=M(e.options,n.first+n.size-1),i=e.display;if(t.length!=i.lineNumChars){var o=i.measure.appendChild(r("div",[r("div",t)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,s=o.offsetWidth-a;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(a,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?t.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Or(e),!0}return!1}function Pt(e){for(var n=e.display,t=n.lineDiv.offsetTop,r=0;r<n.view.length;r++){var i=n.view[r],o=void 0;if(!i.hidden){if(aa&&sa<8){var a=i.node.offsetTop+i.node.offsetHeight;o=a-t,t=a}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var l=i.line.height-o;if(o<2&&(o=gt(n)),(l>.001||l<-.001)&&(I(i.line,o),Wt(i.line),i.rest))for(var c=0;c<i.rest.length;c++)Wt(i.rest[c])}}}function Wt(e){if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].height=e.widgets[n].node.parentNode.offsetHeight}function Ht(e,n,t){var r=t&&null!=t.top?Math.max(0,t.top):e.scroller.scrollTop;r=Math.floor(r-Fn(e));var i=t&&null!=t.bottom?t.bottom:r+e.wrapper.clientHeight,o=A(n,r),a=A(n,i);if(t&&t.ensure){var s=t.ensure.from.line,l=t.ensure.to.line;s<o?(o=s,a=A(n,pe(x(n,s))+e.wrapper.clientHeight)):Math.min(l,n.lastLine())>=a&&(o=A(n,pe(x(n,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Dt(e,n){Math.abs(e.doc.scrollTop-n)<2||(e.doc.scrollTop=n,ra||Lr(e,{top:n}),e.display.scroller.scrollTop!=n&&(e.display.scroller.scrollTop=n),e.display.scrollbars.setScrollTop(n),ra&&Lr(e),kr(e,100))}function Ut(e,n,t){(t?n==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-n)<2)||(n=Math.min(n,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=n,Et(e),e.display.scroller.scrollLeft!=n&&(e.display.scroller.scrollLeft=n),e.display.scrollbars.setScrollLeft(n))}function Ft(e){var n=e.wheelDeltaX,t=e.wheelDeltaY;return null==n&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(n=e.detail),null==t&&e.detail&&e.axis==e.VERTICAL_AXIS?t=e.detail:null==t&&(t=e.wheelDelta),{x:n,y:t}}function _t(e){var n=Ft(e);return n.x*=os,n.y*=os,n}function zt(e,n){var t=Ft(n),r=t.x,i=t.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||i&&l){if(i&&va&&la)e:for(var c=n.target,u=o.view;c!=a;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(r&&!ra&&!da&&null!=os)return i&&l&&Dt(e,Math.max(0,Math.min(a.scrollTop+i*os,a.scrollHeight-a.clientHeight))),Ut(e,Math.max(0,Math.min(a.scrollLeft+r*os,a.scrollWidth-a.clientWidth))),(!i||i&&l)&&Be(n),void(o.wheelStartX=null);if(i&&null!=os){var h=i*os,p=e.doc.scrollTop,f=p+o.wrapper.clientHeight;h<0?p=Math.max(0,p+h-50):f=Math.min(e.doc.height,f+h+50),Lr(e,{top:p,bottom:f})}is<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,n=a.scrollTop-o.wheelStartY,t=n&&o.wheelDY&&n/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,t&&(os=(os*is+t)/(is+1),++is)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function jt(e){var n=e.display,t=n.gutters.offsetWidth,r=Math.round(e.doc.height+_n(e.display));return{clientHeight:n.scroller.clientHeight,viewHeight:n.wrapper.clientHeight,scrollWidth:n.scroller.scrollWidth,clientWidth:n.scroller.clientWidth,viewWidth:n.wrapper.clientWidth,barLeft:e.options.fixedGutter?t:0,docHeight:r,scrollHeight:r+jn(e)+n.barHeight,nativeBarWidth:n.nativeBarWidth,gutterWidth:t}}function Gt(e,n,t){this.cm=t;var i=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),_a(i,"scroll",function(){i.clientHeight&&n(i.scrollTop,"vertical")}),_a(o,"scroll",function(){o.clientWidth&&n(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,aa&&sa<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function qt(){}function Vt(e,n){n||(n=jt(e));var t=e.display.barWidth,r=e.display.barHeight;Kt(e,n);for(var i=0;i<4&&t!=e.display.barWidth||r!=e.display.barHeight;i++)t!=e.display.barWidth&&e.options.lineWrapping&&Pt(e),Kt(e,jt(e)),t=e.display.barWidth,r=e.display.barHeight}function Kt(e,n){var t=e.display,r=t.scrollbars.update(n);t.sizer.style.paddingRight=(t.barWidth=r.right)+"px",t.sizer.style.paddingBottom=(t.barHeight=r.bottom)+"px",t.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=r.bottom+"px",t.scrollbarFiller.style.width=r.right+"px"):t.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(t.gutterFiller.style.display="block",t.gutterFiller.style.height=r.bottom+"px",t.gutterFiller.style.width=n.gutterWidth+"px"):t.gutterFiller.style.display=""}function Yt(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&xa(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new as[e.options.scrollbarStyle](function(n){e.display.wrapper.insertBefore(n,e.display.scrollbarFiller),_a(n,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),n.setAttribute("cm-not-content","true")},function(n,t){"horizontal"==t?Ut(e,n):Dt(e,n)},e),e.display.scrollbars.addClass&&o(e.display.wrapper,e.display.scrollbars.addClass)}function Xt(e,n){if(!Ne(e,"scrollCursorIntoView")){var t=e.display,i=t.sizer.getBoundingClientRect(),o=null;if(n.top+i.top<0?o=!0:n.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),
null!=o&&!fa){var a=r("div","​",null,"position: absolute;\n                         top: "+(n.top-t.viewOffset-Fn(e.display))+"px;\n                         height: "+(n.bottom-n.top+jn(e)+t.barHeight)+"px;\n                         left: "+n.left+"px; width: 2px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function Qt(e,n,t,r){null==r&&(r=0);for(var i,o=0;o<5;o++){var a=!1;i=dt(e,n);var s=t&&t!=n?dt(e,t):i,l=Jt(e,Math.min(i.left,s.left),Math.min(i.top,s.top)-r,Math.max(i.left,s.left),Math.max(i.bottom,s.bottom)+r),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(Dt(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(Ut(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(a=!0)),!a)break}return i}function $t(e,n,t,r,i){var o=Jt(e,n,t,r,i);null!=o.scrollTop&&Dt(e,o.scrollTop),null!=o.scrollLeft&&Ut(e,o.scrollLeft)}function Jt(e,n,t,r,i){var o=e.display,a=gt(e.display);t<0&&(t=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=qn(e),c={};i-t>l&&(i=t+l);var u=e.doc.height+_n(o),d=t<a,h=i>u-a;if(t<s)c.scrollTop=d?0:t;else if(i>s+l){var p=Math.min(t,(h?u:i)-l);p!=s&&(c.scrollTop=p)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=Gn(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),g=r-n>m;return g&&(r=n+m),n<10?c.scrollLeft=0:n<f?c.scrollLeft=Math.max(0,n-(g?0:10)):r>m+f-3&&(c.scrollLeft=r+(g?0:10)-m),c}function Zt(e,n,t){null==n&&null==t||nr(e),null!=n&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+n),null!=t&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function er(e){nr(e);var n=e.getCursor(),t=n,r=n;e.options.lineWrapping||(t=n.ch?R(n.line,n.ch-1):n,r=R(n.line,n.ch+1)),e.curOp.scrollToPos={from:t,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function nr(e){var n=e.curOp.scrollToPos;if(n){e.curOp.scrollToPos=null;var t=ht(e,n.from),r=ht(e,n.to),i=Jt(e,Math.min(t.left,r.left),Math.min(t.top,r.top)-n.margin,Math.max(t.right,r.right),Math.max(t.bottom,r.bottom)+n.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function tr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ss},Cn(e.curOp)}function rr(e){var n=e.curOp;Tn(n,function(e){for(var n=0;n<e.ops.length;n++)e.ops[n].cm.curOp=null;ir(e)})}function ir(e){for(var n=e.ops,t=0;t<n.length;t++)or(n[t]);for(var r=0;r<n.length;r++)ar(n[r]);for(var i=0;i<n.length;i++)sr(n[i]);for(var o=0;o<n.length;o++)lr(n[o]);for(var a=0;a<n.length;a++)cr(n[a])}function or(e){var n=e.cm,t=n.display;Tr(n),e.updateMaxLine&&me(n),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<t.viewFrom||e.scrollToPos.to.line>=t.viewTo)||t.maxLineChanged&&n.options.lineWrapping,e.update=e.mustUpdate&&new wr(n,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ar(e){e.updatedDisplay=e.mustUpdate&&xr(e.cm,e.update)}function sr(e){var n=e.cm,t=n.display;e.updatedDisplay&&Pt(n),e.barMeasure=jt(n),t.maxLineChanged&&!n.options.lineWrapping&&(e.adjustWidthTo=Xn(n,t.maxLine,t.maxLine.text.length).left+3,n.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(t.scroller.clientWidth,t.sizer.offsetLeft+e.adjustWidthTo+jn(n)+n.display.barWidth),e.maxScrollLeft=Math.max(0,t.sizer.offsetLeft+e.adjustWidthTo-Gn(n))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=t.input.prepareSelection(e.focus))}function lr(e){var n=e.cm;null!=e.adjustWidthTo&&(n.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<n.doc.scrollLeft&&Ut(n,Math.min(n.display.scroller.scrollLeft,e.maxScrollLeft),!0),n.display.maxLineChanged=!1);var t=e.focus&&e.focus==Sa()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&n.display.input.showSelection(e.preparedSelection,t),(e.updatedDisplay||e.startHeight!=n.doc.height)&&Vt(n,e.barMeasure),e.updatedDisplay&&Ar(n,e.barMeasure),e.selectionChanged&&Ot(n),n.state.focused&&e.updateInput&&n.display.input.reset(e.typing),t&&At(e.cm)}function cr(e){var n=e.cm,t=n.display,r=n.doc;if(e.updatedDisplay&&Sr(n,e.update),null==t.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(t.wheelStartX=t.wheelStartY=null),null==e.scrollTop||t.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(t.scroller.scrollHeight-t.scroller.clientHeight,e.scrollTop)),t.scrollbars.setScrollTop(r.scrollTop),t.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||t.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(t.scroller.scrollWidth-t.scroller.clientWidth,e.scrollLeft)),t.scrollbars.setScrollLeft(r.scrollLeft),t.scroller.scrollLeft=r.scrollLeft,Et(n)),e.scrollToPos){var i=Qt(n,D(r,e.scrollToPos.from),D(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&n.state.focused&&Xt(n,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Ae(o[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&Ae(a[l],"unhide");t.wrapper.offsetHeight&&(r.scrollTop=n.display.scroller.scrollTop),e.changeObjs&&Ae(n,"changes",n,e.changeObjs),e.update&&e.update.finish()}function ur(e,n){if(e.curOp)return n();tr(e);try{return n()}finally{rr(e)}}function dr(e,n){return function(){if(e.curOp)return n.apply(e,arguments);tr(e);try{return n.apply(e,arguments)}finally{rr(e)}}}function hr(e){return function(){if(this.curOp)return e.apply(this,arguments);tr(this);try{return e.apply(this,arguments)}finally{rr(this)}}}function pr(e){return function(){var n=this.cm;if(!n||n.curOp)return e.apply(this,arguments);tr(n);try{return e.apply(this,arguments)}finally{rr(n)}}}function fr(e,n,t,r){null==n&&(n=e.doc.first),null==t&&(t=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&t<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>n)&&(i.updateLineNumbers=n),e.curOp.viewChanged=!0,n>=i.viewTo)Da&&ce(e.doc,n)<i.viewTo&&gr(e);else if(t<=i.viewFrom)Da&&ue(e.doc,t+r)>i.viewFrom?gr(e):(i.viewFrom+=r,i.viewTo+=r);else if(n<=i.viewFrom&&t>=i.viewTo)gr(e);else if(n<=i.viewFrom){var o=vr(e,t,t+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):gr(e)}else if(t>=i.viewTo){var a=vr(e,n,n,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):gr(e)}else{var s=vr(e,n,n,-1),l=vr(e,t,t+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(kn(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):gr(e)}var c=i.externalMeasured;c&&(t<c.lineN?c.lineN+=r:n<c.lineN+c.size&&(i.externalMeasured=null))}function mr(e,n,t){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&n>=i.lineN&&n<i.lineN+i.size&&(r.externalMeasured=null),!(n<r.viewFrom||n>=r.viewTo)){var o=r.view[Tt(e,n)];if(null!=o.node){var a=o.changes||(o.changes=[]);d(a,t)==-1&&a.push(t)}}}function gr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function vr(e,n,t,r){var i,o=Tt(e,n),a=e.display.view;if(!Da||t==e.doc.first+e.doc.size)return{index:o,lineN:t};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=n){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-n,o++}else i=s-n;n+=i,t+=i}for(;ce(e.doc,t)!=t;){if(o==(r<0?0:a.length-1))return null;t+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:t}}function yr(e,n,t){var r=e.display,i=r.view;0==i.length||n>=r.viewTo||t<=r.viewFrom?(r.view=kn(e,n,t),r.viewFrom=n):(r.viewFrom>n?r.view=kn(e,n,r.viewFrom).concat(r.view):r.viewFrom<n&&(r.view=r.view.slice(Tt(e,n))),r.viewFrom=n,r.viewTo<t?r.view=r.view.concat(kn(e,r.viewTo,t)):r.viewTo>t&&(r.view=r.view.slice(0,Tt(e,t)))),r.viewTo=t}function br(e){for(var n=e.display.view,t=0,r=0;r<n.length;r++){var i=n[r];i.hidden||i.node&&!i.changes||++t}return t}function kr(e,n){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(n,s(Cr,e))}function Cr(e){var n=e.doc;if(n.frontier<n.first&&(n.frontier=n.first),!(n.frontier>=e.display.viewTo)){var t=+new Date+e.options.workTime,r=Ye(n.mode,Ze(e,n.frontier)),i=[];n.iter(n.frontier,Math.min(n.first+n.size,e.display.viewTo+500),function(o){if(n.frontier>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength,l=$e(e,o,s?Ye(n.mode,r):r,!0);o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<a.length;++h)d=a[h]!=o.styles[h];d&&i.push(n.frontier),o.stateAfter=s?r:Ye(n.mode,r)}else o.text.length<=e.options.maxHighlightLength&&en(e,o.text,r),o.stateAfter=n.frontier%5==0?Ye(n.mode,r):null;if(++n.frontier,+new Date>t)return kr(e,e.options.workDelay),!0}),i.length&&ur(e,function(){for(var n=0;n<i.length;n++)mr(e,i[n],"text")})}}function wr(e,n,t){var r=e.display;this.viewport=n,this.visible=Ht(r,e.doc,n),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Gn(e),this.force=t,this.dims=yt(e),this.events=[]}function Tr(e){var n=e.display;!n.scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=jn(e)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=jn(e)+"px",n.scrollbarsClipped=!0)}function xr(e,t){var r=e.display,i=e.doc;if(t.editorIsHidden)return gr(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==br(e))return!1;Bt(e)&&(gr(e),t.dims=yt(e));var o=i.first+i.size,a=Math.max(t.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,t.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(i.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(o,r.viewTo)),Da&&(a=ce(e.doc,a),s=ue(e.doc,s));var l=a!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;yr(e,a,s),r.viewOffset=pe(x(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var c=br(e);if(!l&&0==c&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=Sa();return c>4&&(r.lineDiv.style.display="none"),Ir(e,r.updateLineNumbers,t.dims),c>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,u&&Sa()!=u&&u.offsetHeight&&u.focus(),n(r.cursorDiv),n(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,l&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,kr(e,400)),r.updateLineNumbers=null,!0}function Sr(e,n){for(var t=n.viewport,r=!0;(r&&e.options.lineWrapping&&n.oldDisplayWidth!=Gn(e)||(t&&null!=t.top&&(t={top:Math.min(e.doc.height+_n(e.display)-qn(e),t.top)}),n.visible=Ht(e.display,e.doc,t),!(n.visible.from>=e.display.viewFrom&&n.visible.to<=e.display.viewTo)))&&xr(e,n);r=!1){Pt(e);var i=jt(e);xt(e),Vt(e,i),Ar(e,i)}n.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(n.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Lr(e,n){var t=new wr(e,n);if(xr(e,t)){Pt(e),Sr(e,t);var r=jt(e);xt(e),Vt(e,r),Ar(e,r),t.finish()}}function Ir(e,t,r){function i(n){var t=n.nextSibling;return la&&va&&e.display.currentWheelTarget==n?n.style.display="none":n.parentNode.removeChild(n),t}for(var o=e.display,a=e.options.lineNumbers,s=o.lineDiv,l=s.firstChild,c=o.view,u=o.viewFrom,h=0;h<c.length;h++){var p=c[h];if(p.hidden);else if(p.node&&p.node.parentNode==s){for(;l!=p.node;)l=i(l);var f=a&&null!=t&&t<=u&&p.lineNumber;p.changes&&(d(p.changes,"gutter")>-1&&(f=!1),Ln(e,p,u,r)),f&&(n(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(M(e.options,u)))),l=p.node.nextSibling}else{var m=Bn(e,p,u,r);s.insertBefore(m,l)}u+=p.size}for(;l;)l=i(l)}function Or(e){var n=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=n+"px"}function Ar(e,n){e.display.sizer.style.minHeight=n.docHeight+"px",e.display.heightForcer.style.top=n.docHeight+"px",e.display.gutters.style.height=n.docHeight+e.display.barHeight+jn(e)+"px"}function Nr(e){var t=e.display.gutters,i=e.options.gutters;n(t);for(var o=0;o<i.length;++o){var a=i[o],s=t.appendChild(r("div",null,"CodeMirror-gutter "+a));"CodeMirror-linenumbers"==a&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=o?"":"none",Or(e)}function Mr(e){var n=d(e.gutters,"CodeMirror-linenumbers");n==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):n>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(n,1))}function Rr(e,n){this.ranges=e,this.primIndex=n}function Er(e,n){this.anchor=e,this.head=n}function Br(e,n){var t=e[n];e.sort(function(e,n){return E(e.from(),n.from())}),n=d(e,t);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(E(o.to(),i.from())>=0){var a=W(o.from(),i.from()),s=P(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;r<=n&&--n,e.splice(--r,2,new Er(l?s:a,l?a:s))}}return new Rr(e,n)}function Pr(e,n){return new Rr([new Er(e,n||e)],0)}function Wr(e){return e.text?R(e.from.line+e.text.length-1,f(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Hr(e,n){if(E(e,n.from)<0)return e;if(E(e,n.to)<=0)return Wr(n);var t=e.line+n.text.length-(n.to.line-n.from.line)-1,r=e.ch;return e.line==n.to.line&&(r+=Wr(n).ch-n.to.ch),R(t,r)}function Dr(e,n){for(var t=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];t.push(new Er(Hr(i.anchor,n),Hr(i.head,n)))}return Br(t,e.sel.primIndex)}function Ur(e,n,t){return e.line==n.line?R(t.line,e.ch-n.ch+t.ch):R(t.line+(e.line-n.line),e.ch)}function Fr(e,n,t){for(var r=[],i=R(e.first,0),o=i,a=0;a<n.length;a++){var s=n[a],l=Ur(s.from,i,o),c=Ur(Wr(s),i,o);if(i=s.to,o=c,"around"==t){var u=e.sel.ranges[a],d=E(u.head,u.anchor)<0;r[a]=new Er(d?c:l,d?l:c)}else r[a]=new Er(l,l)}return new Rr(r,e.sel.primIndex)}function _r(e){e.doc.mode=Ve(e.options,e.doc.modeOption),zr(e)}function zr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,kr(e,100),e.state.modeGen++,e.curOp&&fr(e)}function jr(e,n){return 0==n.from.ch&&0==n.to.ch&&""==f(n.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Gr(e,n,t,r){function i(e){return t?t[e]:null}function o(e,t,i){cn(e,t,i,r),xn(e,"change",e,n)}function a(e,n){for(var t=[],o=e;o<n;++o)t.push(new ln(c[o],i(o),r));return t}var s=n.from,l=n.to,c=n.text,u=x(e,s.line),d=x(e,l.line),h=f(c),p=i(c.length-1),m=l.line-s.line;if(n.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(jr(e,n)){var g=a(0,c.length-1);o(d,d.text,p),m&&e.remove(s.line,m),g.length&&e.insert(s.line,g)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,s.ch)+h+u.text.slice(l.ch),p);else{var v=a(1,c.length-1);v.push(new ln(h+u.text.slice(l.ch),p,r)),o(u,u.text.slice(0,s.ch)+c[0],i(0)),e.insert(s.line+1,v)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),i(0)),e.remove(s.line+1,m);else{o(u,u.text.slice(0,s.ch)+c[0],i(0)),o(d,h+d.text.slice(l.ch),p);var y=a(1,c.length-1);m>1&&e.remove(s.line+1,m-1),e.insert(s.line+1,y)}xn(e,"change",e,n)}function qr(e,n,t){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;t&&!l||(n(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Vr(e,n){if(n.cm)throw new Error("This document is already in use.");e.doc=n,n.cm=e,Ct(e),_r(e),e.options.lineWrapping||me(e),e.options.mode=n.modeOption,fr(e)}function Kr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Yr(e,n){var t={from:B(n.from),to:Wr(n),text:S(e,n.from,n.to)};return ni(e,t,n.from.line,n.to.line+1),qr(e,function(e){return ni(e,t,n.from.line,n.to.line+1)},!0),t}function Xr(e){for(;e.length;){var n=f(e);if(!n.ranges)break;e.pop()}}function Qr(e,n){return n?(Xr(e.done),f(e.done)):e.done.length&&!f(e.done).ranges?f(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),f(e.done)):void 0}function $r(e,n,t,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==n.origin&&n.origin&&("+"==n.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==n.origin.charAt(0)))&&(o=Qr(i,i.lastOp==r)))a=f(o.changes),0==E(n.from,n.to)&&0==E(n.from,a.to)?a.to=Wr(n):o.changes.push(Yr(e,n));else{var l=f(i.done);for(l&&l.ranges||ei(e.sel,i.done),o={changes:[Yr(e,n)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(t),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=n.origin,a||Ae(e,"historyAdded")}function Jr(e,n,t,r){var i=n.charAt(0);return"*"==i||"+"==i&&t.ranges.length==r.ranges.length&&t.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Zr(e,n,t,r){var i=e.history,o=r&&r.origin;t==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||Jr(e,o,f(i.done),n))?i.done[i.done.length-1]=n:ei(n,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=t,r&&r.clearRedo!==!1&&Xr(i.undone)}function ei(e,n){var t=f(n);t&&t.ranges&&t.equals(e)||n.push(e)}function ni(e,n,t,r){var i=n["spans_"+e.id],o=0;e.iter(Math.max(e.first,t),Math.min(e.first+e.size,r),function(t){t.markedSpans&&((i||(i=n["spans_"+e.id]={}))[o]=t.markedSpans),++o})}function ti(e){if(!e)return null;for(var n,t=0;t<e.length;++t)e[t].marker.explicitlyCleared?n||(n=e.slice(0,t)):n&&n.push(e[t]);return n?n.length?n:null:e}function ri(e,n){var t=n["spans_"+e.id];if(!t)return null;for(var r=[],i=0;i<n.text.length;++i)r.push(ti(t[i]));return r}function ii(e,n){var t=ri(e,n),r=X(e,n);if(!t)return r;if(!r)return t;for(var i=0;i<t.length;++i){var o=t[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(t[i]=a)}return t}function oi(e,n,t){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(t?Rr.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),n)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&d(n,Number(u[1]))>-1&&(f(s)[h]=c[h],delete c[h])}}}return r}function ai(e,n,t,r){if(e.cm&&e.cm.display.shift||e.extend){var i=n.anchor;if(r){var o=E(t,i)<0;o!=E(r,i)<0?(i=t,t=r):o!=E(t,r)<0&&(t=r)}return new Er(i,t)}return new Er(r||t,t)}function si(e,n,t,r){pi(e,new Rr([ai(e,e.sel.primary(),n,t)],0),r)}function li(e,n,t){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=ai(e,e.sel.ranges[i],n[i],null);var o=Br(r,e.sel.primIndex);pi(e,o,t)}function ci(e,n,t,r){var i=e.sel.ranges.slice(0);i[n]=t,pi(e,Br(i,e.sel.primIndex),r)}function ui(e,n,t,r){pi(e,Pr(n,t),r)}function di(e,n,t){var r={ranges:n.ranges,update:function(n){var t=this;this.ranges=[];for(var r=0;r<n.length;r++)t.ranges[r]=new Er(D(e,n[r].anchor),D(e,n[r].head))},origin:t&&t.origin};return Ae(e,"beforeSelectionChange",e,r),e.cm&&Ae(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=n.ranges?Br(r.ranges,r.ranges.length-1):n}function hi(e,n,t){var r=e.history.done,i=f(r);i&&i.ranges?(r[r.length-1]=n,fi(e,n,t)):pi(e,n,t)}function pi(e,n,t){fi(e,n,t),Zr(e,e.sel,e.cm?e.cm.curOp.id:NaN,t)}function fi(e,n,t){(Re(e,"beforeSelectionChange")||e.cm&&Re(e.cm,"beforeSelectionChange"))&&(n=di(e,n,t));var r=t&&t.bias||(E(n.primary().head,e.sel.primary().head)<0?-1:1);mi(e,vi(e,n,r,!0)),t&&t.scroll===!1||!e.cm||er(e.cm)}function mi(e,n){n.equals(e.sel)||(e.sel=n,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Me(e.cm)),xn(e,"cursorActivity",e))}function gi(e){mi(e,vi(e,e.sel,null,!1),Ma)}function vi(e,n,t,r){for(var i,o=0;o<n.ranges.length;o++){var a=n.ranges[o],s=n.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=bi(e,a.anchor,s&&s.anchor,t,r),c=bi(e,a.head,s&&s.head,t,r);(i||l!=a.anchor||c!=a.head)&&(i||(i=n.ranges.slice(0,o)),i[o]=new Er(l,c))}return i?Br(i,n.primIndex):n}function yi(e,n,t,r,i){var o=x(e,n.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=n.ch:s.from<n.ch))&&(null==s.to||(l.inclusiveRight?s.to>=n.ch:s.to>n.ch))){if(i&&(Ae(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(t){var c=l.find(r<0?1:-1),u=void 0;if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(c=ki(e,c,-r,c&&c.line==n.line?o:null)),c&&c.line==n.line&&(u=E(c,t))&&(r<0?u<0:u>0))return yi(e,c,n,r,i)}var d=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(d=ki(e,d,r,d.line==n.line?o:null)),d?yi(e,d,n,r,i):null}}return n}function bi(e,n,t,r,i){var o=r||1,a=yi(e,n,t,o,i)||!i&&yi(e,n,t,o,!0)||yi(e,n,t,-o,i)||!i&&yi(e,n,t,-o,!0);return a?a:(e.cantEdit=!0,R(e.first,0))}function ki(e,n,t,r){return t<0&&0==n.ch?n.line>e.first?D(e,R(n.line-1)):null:t>0&&n.ch==(r||x(e,n.line)).text.length?n.line<e.first+e.size-1?R(n.line+1,0):null:new R(n.line,n.ch+t)}function Ci(e){e.setSelection(R(e.firstLine(),0),R(e.lastLine()),Ma)}function wi(e,n,t){var r={canceled:!1,from:n.from,to:n.to,text:n.text,origin:n.origin,cancel:function(){return r.canceled=!0}};return t&&(r.update=function(n,t,i,o){n&&(r.from=D(e,n)),t&&(r.to=D(e,t)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),Ae(e,"beforeChange",e,r),e.cm&&Ae(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Ti(e,n,t){if(e.cm){if(!e.cm.curOp)return dr(e.cm,Ti)(e,n,t);if(e.cm.state.suppressEdits)return}if(!(Re(e,"beforeChange")||e.cm&&Re(e.cm,"beforeChange"))||(n=wi(e,n,!0))){var r=Ha&&!t&&$(e,n.from,n.to);if(r)for(var i=r.length-1;i>=0;--i)xi(e,{from:r[i].from,to:r[i].to,text:i?[""]:n.text});else xi(e,n)}}function xi(e,n){if(1!=n.text.length||""!=n.text[0]||0!=E(n.from,n.to)){var t=Dr(e,n);$r(e,n,t,e.cm?e.cm.curOp.id:NaN),Ii(e,n,t,X(e,n));var r=[];qr(e,function(e,t){t||d(r,e.history)!=-1||(Ri(e.history,n),r.push(e.history)),Ii(e,n,null,X(e,n))})}}function Si(e,n,t){if(!e.cm||!e.cm.state.suppressEdits||t){for(var r,i=e.history,o=e.sel,a="undo"==n?i.done:i.undone,s="undo"==n?i.undone:i.done,l=0;l<a.length&&(r=a[l],t?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(ei(r,s),t&&!r.equals(e.sel))return void pi(e,r,{clearRedo:!1});o=r}var c=[];ei(o,s),s.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var u=Re(e,"beforeChange")||e.cm&&Re(e.cm,"beforeChange"),h=function(t){var i=r.changes[t];if(i.origin=n,u&&!wi(e,i,!1))return a.length=0,{};c.push(Yr(e,i));var o=t?Dr(e,i):f(a);Ii(e,i,o,ii(e,i)),!t&&e.cm&&e.cm.scrollIntoView({from:i.from,to:Wr(i)});var s=[];qr(e,function(e,n){n||d(s,e.history)!=-1||(Ri(e.history,i),s.push(e.history)),Ii(e,i,null,ii(e,i))})},p=r.changes.length-1;p>=0;--p){var m=h(p);if(m)return m.v}}}}function Li(e,n){if(0!=n&&(e.first+=n,e.sel=new Rr(m(e.sel.ranges,function(e){return new Er(R(e.anchor.line+n,e.anchor.ch),R(e.head.line+n,e.head.ch))}),e.sel.primIndex),e.cm)){fr(e.cm,e.first,e.first-n,n);for(var t=e.cm.display,r=t.viewFrom;r<t.viewTo;r++)mr(e.cm,r,"gutter")}}function Ii(e,n,t,r){if(e.cm&&!e.cm.curOp)return dr(e.cm,Ii)(e,n,t,r);if(n.to.line<e.first)return void Li(e,n.text.length-1-(n.to.line-n.from.line));if(!(n.from.line>e.lastLine())){if(n.from.line<e.first){var i=n.text.length-1-(e.first-n.from.line);Li(e,i),n={from:R(e.first,0),to:R(n.to.line+i,n.to.ch),text:[f(n.text)],origin:n.origin}}var o=e.lastLine();n.to.line>o&&(n={from:n.from,to:R(o,x(e,o).text.length),text:[n.text[0]],origin:n.origin}),n.removed=S(e,n.from,n.to),t||(t=Dr(e,n)),e.cm?Oi(e.cm,n,r):Gr(e,n,r),fi(e,t,Ma)}}function Oi(e,n,t){var r=e.doc,i=e.display,o=n.from,a=n.to,s=!1,l=o.line;e.options.lineWrapping||(l=O(se(x(r,o.line))),r.iter(l,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),r.sel.contains(n.from,n.to)>-1&&Me(e),Gr(r,n,t,kt(e)),e.options.lineWrapping||(r.iter(l,o.line+n.text.length,function(e){var n=fe(e);n>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=n,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,o.line),kr(e,400);var c=n.text.length-(a.line-o.line)-1;n.full?fr(e):o.line!=a.line||1!=n.text.length||jr(e.doc,n)?fr(e,o.line,a.line+1,c):mr(e,o.line,"text");var u=Re(e,"changes"),d=Re(e,"change");if(d||u){var h={from:o,to:a,text:n.text,removed:n.removed,origin:n.origin};d&&xn(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Ai(e,n,t,r,i){if(r||(r=t),E(r,t)<0){var o=r;r=t,t=o}"string"==typeof n&&(n=e.splitLines(n)),Ti(e,{from:t,to:r,text:n,origin:i})}function Ni(e,n,t,r){t<e.line?e.line+=r:n<e.line&&(e.line=n,e.ch=0)}function Mi(e,n,t,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)Ni(o.ranges[s].anchor,n,t,r),Ni(o.ranges[s].head,n,t,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(t<c.from.line)c.from=R(c.from.line+r,c.from.ch),c.to=R(c.to.line+r,c.to.ch);else if(n<=c.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Ri(e,n){var t=n.from.line,r=n.to.line,i=n.text.length-(r-t)-1;Mi(e.done,t,r,i),Mi(e.undone,t,r,i)}function Ei(e,n,t,r){var i=n,o=n;return"number"==typeof n?o=x(e,H(e,n)):i=O(n),null==i?null:(r(o,i)&&e.cm&&mr(e.cm,i,t),o)}function Bi(e){var n=this;this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=n,t+=e[r].height;this.height=t}function Pi(e){var n=this;this.children=e;for(var t=0,r=0,i=0;i<e.length;++i){var o=e[i];t+=o.chunkSize(),r+=o.height,o.parent=n}this.size=t,this.height=r,this.parent=null}function Wi(e,n,t){var r=this;if(t)for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);this.doc=e,this.node=n}function Hi(e,n,t){pe(n)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Zt(e,null,t)}function Di(e,n,t,r){var i=new Wi(e,t,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Ei(e,n,"widget",function(n){var t=n.widgets||(n.widgets=[]);if(null==i.insertAt?t.push(i):t.splice(Math.min(t.length-1,Math.max(0,i.insertAt)),0,i),i.line=n,o&&!de(e,n)){var r=pe(n)<e.scrollTop;I(n,n.height+Dn(i)),r&&Zt(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function Ui(e,n){this.lines=[],this.type=n,this.doc=e,this.id=++ls}function Fi(e,n,t,i,o){if(i&&i.shared)return zi(e,n,t,i,o);if(e.cm&&!e.cm.curOp)return dr(e.cm,Fi)(e,n,t,i,o);var a=new Ui(e,o),s=E(n,t);if(i&&l(i,a,!1),s>0||0==s&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=r("span",[a.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(ae(e,n.line,n,t,a)||n.line!=t.line&&ae(e,t.line,n,t,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");z()}a.addToHistory&&$r(e,{from:n,to:t,origin:"markText"},e.sel,NaN);var c,u=n.line,d=e.cm;if(e.iter(u,t.line+1,function(e){d&&a.collapsed&&!d.options.lineWrapping&&se(e)==d.display.maxLine&&(c=!0),a.collapsed&&u!=n.line&&I(e,0),V(e,new j(a,u==n.line?n.ch:null,u==t.line?t.ch:null)),++u}),a.collapsed&&e.iter(n.line,t.line+1,function(n){de(e,n)&&I(n,0)}),a.clearOnEnter&&_a(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(_(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++ls,a.atomic=!0),d){if(c&&(d.curOp.updateMaxLine=!0),a.collapsed)fr(d,n.line,t.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var h=n.line;h<=t.line;h++)mr(d,h,"text");a.atomic&&gi(d.doc),xn(d,"markerAdded",d,a)}return a}function _i(e,n){var t=this;this.markers=e,this.primary=n;for(var r=0;r<e.length;++r)e[r].parent=t}function zi(e,n,t,r,i){r=l(r),r.shared=!1;var o=[Fi(e,n,t,r,i)],a=o[0],s=r.widgetNode;return qr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(Fi(e,D(e,n),D(e,t),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=f(o)}),new _i(o,a)}function ji(e){return e.findMarks(R(e.first,0),e.clipPos(R(e.lastLine())),function(e){return e.parent})}function Gi(e,n){for(var t=0;t<n.length;t++){var r=n[t],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(E(o,a)){var s=Fi(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function qi(e){for(var n=function(n){var t=e[n],r=[t.primary.doc];qr(t.primary.doc,function(e){return r.push(e)});for(var i=0;i<t.markers.length;i++){var o=t.markers[i];d(r,o.doc)==-1&&(o.parent=null,t.markers.splice(i--,1))}},t=0;t<e.length;t++)n(t)}function Vi(e){var n=this;if(Xi(n),!Ne(n,e)&&!Un(n.display,e)){Be(e),aa&&(ds=+new Date);var t=wt(n,e,!0),r=e.dataTransfer.files;if(t&&!n.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(e,r){if(!n.options.allowDropFileTypes||d(n.options.allowDropFileTypes,e.type)!=-1){var s=new FileReader;s.onload=dr(n,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++a==i){t=D(n.doc,t);var l={from:t,to:t,text:n.doc.splitLines(o.join(n.doc.lineSeparator())),origin:"paste"};Ti(n.doc,l),hi(n.doc,Pr(t,Wr(l)))}}),s.readAsText(e)}},l=0;l<i;++l)s(r[l],l);else{if(n.state.draggingText&&n.doc.sel.contains(t)>-1)return n.state.draggingText(e),void setTimeout(function(){return n.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var u;if(n.state.draggingText&&!n.state.draggingText.copy&&(u=n.listSelections()),fi(n.doc,Pr(t,t)),u)for(var h=0;h<u.length;++h)Ai(n.doc,"",u[h].anchor,u[h].head,"drag");n.replaceSelection(c,"around","paste"),n.display.input.focus()}}catch(e){}}}}function Ki(e,n){if(aa&&(!e.state.draggingText||+new Date-ds<100))return void He(n);if(!Ne(e,n)&&!Un(e.display,n)&&(n.dataTransfer.setData("Text",e.getSelection()),n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setDragImage&&!ha)){var t=r("img",null,null,"position: fixed; left: 0; top: 0;");t.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",da&&(t.width=t.height=1,e.display.wrapper.appendChild(t),t._top=t.offsetTop),n.dataTransfer.setDragImage(t,0,0),da&&t.parentNode.removeChild(t)}}function Yi(e,n){var i=wt(e,n);if(i){var o=document.createDocumentFragment();Lt(e,i,o),e.display.dragCursor||(e.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),t(e.display.dragCursor,o)}}function Xi(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Qi(e){if(document.body.getElementsByClassName)for(var n=document.body.getElementsByClassName("CodeMirror"),t=0;t<n.length;t++){var r=n[t].CodeMirror;r&&e(r)}}function $i(){hs||(Ji(),hs=!0)}function Ji(){var e;_a(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Qi(Zi)},100))}),_a(window,"blur",function(){return Qi(Rt)})}function Zi(e){var n=e.display;n.lastWrapHeight==n.wrapper.clientHeight&&n.lastWrapWidth==n.wrapper.clientWidth||(n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.scrollbarsClipped=!1,e.setSize())}function eo(e){var n=e.split(/-(?!$)/);e=n[n.length-1];for(var t,r,i,o,a=0;a<n.length-1;a++){var s=n[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),
e}function no(e){var n={};for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];if(/^(name|fallthrough|(de|at)tach)$/.test(t))continue;if("..."==r){delete e[t];continue}for(var i=m(t.split(" "),eo),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=n[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else n[s]=a}delete e[t]}for(var c in n)e[c]=n[c];return e}function to(e,n,t,r){n=oo(n);var i=n.call?n.call(e,r):n[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&t(i))return"handled";if(n.fallthrough){if("[object Array]"!=Object.prototype.toString.call(n.fallthrough))return to(e,n.fallthrough,t,r);for(var o=0;o<n.fallthrough.length;o++){var a=to(e,n.fallthrough[o],t,r);if(a)return a}}}function ro(e){var n="string"==typeof e?e:ps[e.keyCode];return"Ctrl"==n||"Alt"==n||"Shift"==n||"Mod"==n}function io(e,n){if(da&&34==e.keyCode&&e.char)return!1;var t=ps[e.keyCode],r=t;return null!=r&&!e.altGraphKey&&(e.altKey&&"Alt"!=t&&(r="Alt-"+r),(wa?e.metaKey:e.ctrlKey)&&"Ctrl"!=t&&(r="Ctrl-"+r),(wa?e.ctrlKey:e.metaKey)&&"Cmd"!=t&&(r="Cmd-"+r),!n&&e.shiftKey&&"Shift"!=t&&(r="Shift-"+r),r)}function oo(e){return"string"==typeof e?vs[e]:e}function ao(e,n){for(var t=e.doc.sel.ranges,r=[],i=0;i<t.length;i++){for(var o=n(t[i]);r.length&&E(o.from,f(r).to)<=0;){var a=r.pop();if(E(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}ur(e,function(){for(var n=r.length-1;n>=0;n--)Ai(e.doc,"",r[n].from,r[n].to,"+delete");er(e)})}function so(e,n){var t=x(e.doc,n),r=se(t);r!=t&&(n=O(r));var i=Le(r),o=i?i[0].level%2?ke(r):be(r):0;return R(n,o)}function lo(e,n){for(var t,r=x(e.doc,n);t=oe(r);)r=t.find(1,!0).line,n=null;var i=Le(r),o=i?i[0].level%2?be(r):ke(r):r.text.length;return R(null==n?O(r):n,o)}function co(e,n){var t=so(e,n.line),r=x(e.doc,t.line),i=Le(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=n.line==t.line&&n.ch<=o&&n.ch;return R(t.line,a?0:o)}return t}function uo(e,n,t){if("string"==typeof n&&(n=ks[n],!n))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),t&&(e.display.shift=!1),i=n(e)!=Na}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function ho(e,n,t){for(var r=0;r<e.state.keyMaps.length;r++){var i=to(n,e.state.keyMaps[r],t,e);if(i)return i}return e.options.extraKeys&&to(n,e.options.extraKeys,t,e)||to(n,e.options.keyMap,t,e)}function po(e,n,t,r){var i=e.state.keySeq;if(i){if(ro(n))return"handled";Cs.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),n=i+" "+n}var o=ho(e,n,r);return"multi"==o&&(e.state.keySeq=n),"handled"==o&&xn(e,"keyHandled",e,n,t),"handled"!=o&&"multi"!=o||(Be(t),Ot(e)),i&&!o&&/\'$/.test(n)?(Be(t),!0):!!o}function fo(e,n){var t=io(n,!0);return!!t&&(n.shiftKey&&!e.state.keySeq?po(e,"Shift-"+t,n,function(n){return uo(e,n,!0)})||po(e,t,n,function(n){if("string"==typeof n?/^go[A-Z]/.test(n):n.motion)return uo(e,n)}):po(e,t,n,function(n){return uo(e,n)}))}function mo(e,n,t){return po(e,"'"+t+"'",n,function(n){return uo(e,n,!0)})}function go(e){var n=this;if(n.curOp.focus=Sa(),!Ne(n,e)){aa&&sa<11&&27==e.keyCode&&(e.returnValue=!1);var t=e.keyCode;n.display.shift=16==t||e.shiftKey;var r=fo(n,e);da&&(ws=r?t:null,!r&&88==t&&!Va&&(va?e.metaKey:e.ctrlKey)&&n.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(n.display.lineDiv.className)||vo(n)}}function vo(e){function n(e){18!=e.keyCode&&e.altKey||(xa(t,"CodeMirror-crosshair"),Oe(document,"keyup",n),Oe(document,"mouseover",n))}var t=e.display.lineDiv;o(t,"CodeMirror-crosshair"),_a(document,"keyup",n),_a(document,"mouseover",n)}function yo(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ne(this,e)}function bo(e){var n=this;if(!(Un(n.display,e)||Ne(n,e)||e.ctrlKey&&!e.altKey||va&&e.metaKey)){var t=e.keyCode,r=e.charCode;if(da&&t==ws)return ws=null,void Be(e);if(!da||e.which&&!(e.which<10)||!fo(n,e)){var i=String.fromCharCode(null==r?t:r);"\b"!=i&&(mo(n,e,i)||n.display.input.onKeyPress(e))}}}function ko(e){var n=this,t=n.display;if(!(Ne(n,e)||t.activeTouch&&t.input.supportsTouch())){if(t.shift=e.shiftKey,Un(t,e))return void(la||(t.scroller.draggable=!1,setTimeout(function(){return t.scroller.draggable=!0},100)));if(!So(n,e)){var r=wt(n,e);switch(window.focus(),Ue(e)){case 1:n.state.selectingText?n.state.selectingText(e):r?Co(n,e,r):De(e)==t.scroller&&Be(e);break;case 2:la&&(n.state.lastMiddleDown=+new Date),r&&si(n.doc,r),setTimeout(function(){return t.input.focus()},20),Be(e);break;case 3:Ta?Lo(n,e):Nt(n)}}}}function Co(e,n,t){aa?setTimeout(s(At,e),0):e.curOp.focus=Sa();var r,i=+new Date;bs&&bs.time>i-400&&0==E(bs.pos,t)?r="triple":ys&&ys.time>i-400&&0==E(ys.pos,t)?(r="double",bs={time:i,pos:t}):(r="single",ys={time:i,pos:t});var o,a=e.doc.sel,l=va?n.metaKey:n.ctrlKey;e.options.dragDrop&&ja&&!e.isReadOnly()&&"single"==r&&(o=a.contains(t))>-1&&(E((o=a.ranges[o]).from(),t)<0||t.xRel>0)&&(E(o.to(),t)>0||t.xRel<0)?wo(e,n,t,l):To(e,n,t,r,l)}function wo(e,n,t,r){var i=e.display,o=+new Date,a=dr(e,function(s){la&&(i.scroller.draggable=!1),e.state.draggingText=!1,Oe(document,"mouseup",a),Oe(i.scroller,"drop",a),Math.abs(n.clientX-s.clientX)+Math.abs(n.clientY-s.clientY)<10&&(Be(s),!r&&+new Date-200<o&&si(e.doc,t),la||aa&&9==sa?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});la&&(i.scroller.draggable=!0),e.state.draggingText=a,a.copy=va?n.altKey:n.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),_a(document,"mouseup",a),_a(i.scroller,"drop",a)}function To(e,n,t,r,i){function o(n){if(0!=E(y,n))if(y=n,"rect"==r){for(var i=[],o=e.options.tabSize,a=c(x(u,t.line).text,t.ch,o),s=c(x(u,n.line).text,n.ch,o),l=Math.min(a,s),m=Math.max(a,s),g=Math.min(t.line,n.line),v=Math.min(e.lastLine(),Math.max(t.line,n.line));g<=v;g++){var b=x(u,g).text,k=h(b,l,o);l==m?i.push(new Er(R(g,k),R(g,k))):b.length>k&&i.push(new Er(R(g,k),R(g,h(b,m,o))))}i.length||i.push(new Er(t,t)),pi(u,Br(f.ranges.slice(0,p).concat(i),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(n)}else{var C=d,w=C.anchor,T=n;if("single"!=r){var S;S="double"==r?e.findWordAt(n):new Er(R(n.line,0),D(u,R(n.line+1,0))),E(S.anchor,w)>0?(T=S.head,w=W(C.from(),S.anchor)):(T=S.anchor,w=P(C.to(),S.head))}var L=f.ranges.slice(0);L[p]=new Er(D(u,w),T),pi(u,Br(L,p),Ra)}}function a(n){var t=++k,i=wt(e,n,!0,"rect"==r);if(i)if(0!=E(i,y)){e.curOp.focus=Sa(),o(i);var s=Ht(l,u);(i.line>=s.to||i.line<s.from)&&setTimeout(dr(e,function(){k==t&&a(n)}),150)}else{var c=n.clientY<b.top?-20:n.clientY>b.bottom?20:0;c&&setTimeout(dr(e,function(){k==t&&(l.scroller.scrollTop+=c,a(n))}),50)}}function s(n){e.state.selectingText=!1,k=1/0,Be(n),l.input.focus(),Oe(document,"mousemove",C),Oe(document,"mouseup",w),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;Be(n);var d,p,f=u.sel,m=f.ranges;if(i&&!n.shiftKey?(p=u.sel.contains(t),d=p>-1?m[p]:new Er(t,t)):(d=u.sel.primary(),p=u.sel.primIndex),ya?n.shiftKey&&n.metaKey:n.altKey)r="rect",i||(d=new Er(t,t)),t=wt(e,n,!0,!0),p=-1;else if("double"==r){var g=e.findWordAt(t);d=e.display.shift||u.extend?ai(u,d,g.anchor,g.head):g}else if("triple"==r){var v=new Er(R(t.line,0),D(u,R(t.line+1,0)));d=e.display.shift||u.extend?ai(u,d,v.anchor,v.head):v}else d=ai(u,d,t);i?p==-1?(p=m.length,pi(u,Br(m.concat([d]),p),{scroll:!1,origin:"*mouse"})):m.length>1&&m[p].empty()&&"single"==r&&!n.shiftKey?(pi(u,Br(m.slice(0,p).concat(m.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),f=u.sel):ci(u,p,d,Ra):(p=0,pi(u,new Rr([d],0),Ra),f=u.sel);var y=t,b=l.wrapper.getBoundingClientRect(),k=0,C=dr(e,function(e){Ue(e)?a(e):s(e)}),w=dr(e,s);e.state.selectingText=w,_a(document,"mousemove",C),_a(document,"mouseup",w)}function xo(e,n,t,r){var i,o;try{i=n.clientX,o=n.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Be(n);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Re(e,t))return We(n);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i){var u=A(e.doc,o),d=e.options.gutters[l];return Ae(e,t,e,u,d,n),We(n)}}}function So(e,n){return xo(e,n,"gutterClick",!0)}function Lo(e,n){Un(e.display,n)||Io(e,n)||Ne(e,n,"contextmenu")||e.display.input.onContextMenu(n)}function Io(e,n){return!!Re(e,"gutterContextMenu")&&xo(e,n,"gutterContextMenu",!1)}function Oo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ot(e)}function Ao(e){function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,n,t){t!=Ts&&i(e,n,t)}:i)}var t=e.optionHandlers;e.defineOption=n,e.Init=Ts,n("value","",function(e,n){return e.setValue(n)},!0),n("mode",null,function(e,n){e.doc.modeOption=n,_r(e)},!0),n("indentUnit",2,_r,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){zr(e),ot(e),fr(e)},!0),n("lineSeparator",null,function(e,n){if(e.doc.lineSep=n,n){var t=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(n,i);if(o==-1)break;i=o+n.length,t.push(R(r,o))}r++});for(var i=t.length-1;i>=0;i--)Ai(e.doc,n,t[i],R(t[i].line,t[i].ch+n.length))}}),n("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,n,t){e.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),t!=Ts&&e.refresh()}),n("specialCharPlaceholder",pn,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",ga?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,n){return e.getInputField().spellcheck=n},!0),n("rtlMoveVisually",!ba),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){Oo(e),No(e)},!0),n("keyMap","default",function(e,n,t){var r=oo(n),i=t!=Ts&&oo(t);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),n("extraKeys",null),n("lineWrapping",!1,Ro,!0),n("gutters",[],function(e){Mr(e.options),No(e)},!0),n("fixedGutter",!0,function(e,n){e.display.gutters.style.left=n?bt(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return Vt(e)},!0),n("scrollbarStyle","native",function(e){Yt(e),Vt(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e){Mr(e.options),No(e)},!0),n("firstLineNumber",1,No,!0),n("lineNumberFormatter",function(e){return e},No,!0),n("showCursorWhenSelecting",!1,xt,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("readOnly",!1,function(e,n){"nocursor"==n?(Rt(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(n)}),n("disableInput",!1,function(e,n){n||e.display.input.reset()},!0),n("dragDrop",!0,Mo),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,xt,!0),n("singleCursorHeightPerLine",!0,xt,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,zr,!0),n("addModeClass",!1,zr,!0),n("pollInterval",100),n("undoDepth",200,function(e,n){return e.doc.history.undoDepth=n}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,zr,!0),n("moveInputWithCursor",!0,function(e,n){n||e.display.input.resetPosition()}),n("tabindex",null,function(e,n){return e.display.input.getField().tabIndex=n||""}),n("autofocus",null)}function No(e){Nr(e),fr(e),setTimeout(function(){return Et(e)},20)}function Mo(e,n,t){var r=t&&t!=Ts;if(!n!=!r){var i=e.display.dragFunctions,o=n?_a:Oe;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Ro(e){e.options.lineWrapping?(o(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(xa(e.display.wrapper,"CodeMirror-wrap"),me(e)),Ct(e),fr(e),ot(e),setTimeout(function(){return Vt(e)},100)}function Eo(e,n){var t=this;if(!(this instanceof Eo))return new Eo(e,n);this.options=n=n?l(n):{},l(xs,n,!1),Mr(n);var r=n.value;"string"==typeof r&&(r=new us(r,n.mode,null,n.lineSeparator)),this.doc=r;var i=new Eo.inputStyles[n.inputStyle](this),o=this.display=new T(e,r,i);o.wrapper.CodeMirror=this,Nr(this),Oo(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!ga&&o.input.focus(),Yt(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new u,keySeq:null,specialChars:null},aa&&sa<11&&setTimeout(function(){return t.display.input.reset(!0)},20),Bo(this),$i(),tr(this),this.curOp.forceUpdate=!0,Vr(this,r),n.autofocus&&!ga||this.hasFocus()?setTimeout(s(Mt,this),20):Rt(this);for(var a in Ss)Ss.hasOwnProperty(a)&&Ss[a](t,n[a],Ts);Bt(this),n.finishInit&&n.finishInit(this);for(var c=0;c<Ls.length;++c)Ls[c](t);rr(this),la&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Bo(e){function n(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function t(e){if(1!=e.touches.length)return!1;var n=e.touches[0];return n.radiusX<=1&&n.radiusY<=1}function r(e,n){if(null==n.left)return!0;var t=n.left-e.left,r=n.top-e.top;return t*t+r*r>400}var i=e.display;_a(i.scroller,"mousedown",dr(e,ko)),aa&&sa<11?_a(i.scroller,"dblclick",dr(e,function(n){if(!Ne(e,n)){var t=wt(e,n);if(t&&!So(e,n)&&!Un(e.display,n)){Be(n);var r=e.findWordAt(t);si(e.doc,r.anchor,r.head)}}})):_a(i.scroller,"dblclick",function(n){return Ne(e,n)||Be(n)}),Ta||_a(i.scroller,"contextmenu",function(n){return Lo(e,n)});var o,a={end:0};_a(i.scroller,"touchstart",function(n){if(!Ne(e,n)&&!t(n)){clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==n.touches.length&&(i.activeTouch.left=n.touches[0].pageX,i.activeTouch.top=n.touches[0].pageY)}}),_a(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),_a(i.scroller,"touchend",function(t){var o=i.activeTouch;if(o&&!Un(i,t)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new Er(s,s):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(s):new Er(R(s.line,0),D(e.doc,R(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),Be(t)}n()}),_a(i.scroller,"touchcancel",n),_a(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Dt(e,i.scroller.scrollTop),Ut(e,i.scroller.scrollLeft,!0),Ae(e,"scroll",e))}),_a(i.scroller,"mousewheel",function(n){return zt(e,n)}),_a(i.scroller,"DOMMouseScroll",function(n){return zt(e,n)}),_a(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(n){Ne(e,n)||He(n)},over:function(n){Ne(e,n)||(Yi(e,n),He(n))},start:function(n){return Ki(e,n)},drop:dr(e,Vi),leave:function(n){Ne(e,n)||Xi(e)}};var s=i.input.getField();_a(s,"keyup",function(n){return yo.call(e,n)}),_a(s,"keydown",dr(e,go)),_a(s,"keypress",dr(e,bo)),_a(s,"focus",function(n){return Mt(e,n)}),_a(s,"blur",function(n){return Rt(e,n)})}function Po(e,n,t,r){var i,o=e.doc;null==t&&(t="add"),"smart"==t&&(o.mode.indent?i=Ze(e,n):t="prev");var a=e.options.tabSize,s=x(o,n),l=c(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,d=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==t&&(u=o.mode.indent(i,s.text.slice(d.length),s.text),u==Na||u>150)){if(!r)return;t="prev"}}else u=0,t="not";"prev"==t?u=n>o.first?c(x(o,n-1).text,null,a):0:"add"==t?u=l+e.options.indentUnit:"subtract"==t?u=l-e.options.indentUnit:"number"==typeof t&&(u=l+t),u=Math.max(0,u);var h="",f=0;if(e.options.indentWithTabs)for(var m=Math.floor(u/a);m;--m)f+=a,h+="\t";if(f<u&&(h+=p(u-f)),h!=d)return Ai(o,h,R(n,0),R(n,d.length),"+input"),s.stateAfter=null,!0;for(var g=0;g<o.sel.ranges.length;g++){var v=o.sel.ranges[g];if(v.head.line==n&&v.head.ch<d.length){var y=R(n,d.length);ci(o,g,new Er(y,y));break}}}function Wo(e){Is=e}function Ho(e,n,t,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=Ga(n),l=null;if(a&&r.ranges.length>1)if(Is&&Is.text.join("\n")==n){if(r.ranges.length%Is.text.length==0){l=[];for(var c=0;c<Is.text.length;c++)l.push(o.splitLines(Is.text[c]))}}else s.length==r.ranges.length&&(l=m(s,function(e){return[e]}));for(var u,d=r.ranges.length-1;d>=0;d--){var h=r.ranges[d],p=h.from(),g=h.to();h.empty()&&(t&&t>0?p=R(p.line,p.ch-t):e.state.overwrite&&!a?g=R(g.line,Math.min(x(o,g.line).text.length,g.ch+f(s).length)):Is&&Is.lineWise&&Is.text.join("\n")==n&&(p=g=R(p.line,0))),u=e.curOp.updateInput;var v={from:p,to:g,text:l?l[d%l.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};Ti(e.doc,v),xn(e,"inputRead",e,v)}n&&!a&&Uo(e,n),er(e),e.curOp.updateInput=u,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Do(e,n){var t=e.clipboardData&&e.clipboardData.getData("Text");if(t)return e.preventDefault(),n.isReadOnly()||n.options.disableInput||ur(n,function(){return Ho(n,t,0,null,"paste")}),!0}function Uo(e,n){if(e.options.electricChars&&e.options.smartIndent)for(var t=e.doc.sel,r=t.ranges.length-1;r>=0;r--){var i=t.ranges[r];if(!(i.head.ch>100||r&&t.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(n.indexOf(o.electricChars.charAt(s))>-1){a=Po(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(x(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Po(e,i.head.line,"smart"));a&&xn(e,"electricInput",e,i.head.line)}}}function Fo(e){for(var n=[],t=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:R(i,0),head:R(i+1,0)};t.push(o),n.push(e.getRange(o.anchor,o.head))}return{text:n,ranges:t}}function _o(e,n){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!n)}function zo(){var e=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),n=r("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return la?e.style.width="1000px":e.setAttribute("wrap","off"),ma&&(e.style.border="1px solid black"),_o(e),n}function jo(e){var n=e.optionHandlers,t=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,i=r[e];r[e]==t&&"mode"!=e||(r[e]=t,n.hasOwnProperty(e)&&dr(this,n[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,n){this.state.keyMaps[n?"push":"unshift"](oo(e))},removeKeyMap:function(e){for(var n=this.state.keyMaps,t=0;t<n.length;++t)if(n[t]==e||n[t].name==e)return n.splice(t,1),!0},addOverlay:hr(function(n,t){var r=n.token?n:e.getMode(this.options,n);if(r.startState)throw new Error("Overlays may not be stateful.");g(this.state.overlays,{mode:r,modeSpec:n,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority}),this.state.modeGen++,fr(this)}),removeOverlay:hr(function(e){for(var n=this,t=this.state.overlays,r=0;r<t.length;++r){var i=t[r].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(r,1),n.state.modeGen++,void fr(n)}}),indentLine:hr(function(e,n,t){"string"!=typeof n&&"number"!=typeof n&&(n=null==n?this.options.smartIndent?"smart":"prev":n?"add":"subtract"),N(this.doc,e)&&Po(this,e,n,t)}),indentSelection:hr(function(e){for(var n=this,t=this.doc.sel.ranges,r=-1,i=0;i<t.length;i++){var o=t[i];if(o.empty())o.head.line>r&&(Po(n,o.head.line,e,!0),r=o.head.line,i==n.doc.sel.primIndex&&er(n));else{var a=o.from(),s=o.to(),l=Math.max(r,a.line);r=Math.min(n.lastLine(),s.line-(s.ch?0:1))+1;for(var c=l;c<r;++c)Po(n,c,e);var u=n.doc.sel.ranges;0==a.ch&&t.length==u.length&&u[i].from().ch>0&&ci(n.doc,i,new Er(a,u[i].to()),Ma)}}}),getTokenAt:function(e,n){return rn(this,e,n)},getLineTokens:function(e,n){return rn(this,R(e),n,!0)},getTokenTypeAt:function(e){e=D(this.doc,e);var n,t=Je(this,x(this.doc,e.line)),r=0,i=(t.length-1)/2,o=e.ch;if(0==o)n=t[2];else for(;;){var a=r+i>>1;if((a?t[2*a-1]:0)>=o)i=a;else{if(!(t[2*a+1]<o)){n=t[2*a+2];break}r=a+1}}var s=n?n.indexOf("overlay "):-1;return s<0?n:0==s?null:n.slice(0,s-1)},getModeAt:function(n){var t=this.doc.mode;return t.innerMode?e.innerMode(t,this.getTokenAt(n).state).mode:t},getHelper:function(e,n){return this.getHelpers(e,n)[0]},getHelpers:function(e,n){var r=this,i=[];if(!t.hasOwnProperty(n))return i;var o=t[n],a=this.getModeAt(e);if("string"==typeof a[n])o[a[n]]&&i.push(o[a[n]]);else if(a[n])for(var s=0;s<a[n].length;s++){var l=o[a[n][s]];l&&i.push(l)}else a.helperType&&o[a.helperType]?i.push(o[a.helperType]):o[a.name]&&i.push(o[a.name]);for(var c=0;c<o._global.length;c++){var u=o._global[c];u.pred(a,r)&&d(i,u.val)==-1&&i.push(u.val)}return i},getStateAfter:function(e,n){var t=this.doc;return e=H(t,null==e?t.first+t.size-1:e),Ze(this,e+1,n)},cursorCoords:function(e,n){var t,r=this.doc.sel.primary();return t=null==e?r.head:"object"==typeof e?D(this.doc,e):e?r.from():r.to(),dt(this,t,n||"page")},charCoords:function(e,n){return ut(this,D(this.doc,e),n||"page")},coordsChar:function(e,n){return e=ct(this,e,n||"page"),ft(this,e.left,e.top)},lineAtHeight:function(e,n){return e=ct(this,{top:e,left:0},n||"page").top,A(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,n){var t,r=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,r=!0),t=x(this.doc,e)}else t=e;return lt(this,t,{top:0,left:0},n||"page").top+(r?this.doc.height-pe(t):0)},defaultTextHeight:function(){return gt(this.display)},defaultCharWidth:function(){return vt(this.display)},setGutterMarker:hr(function(e,n,t){return Ei(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[n]=t,!t&&C(r)&&(e.gutterMarkers=null),!0})}),clearGutter:hr(function(e){var n=this,t=this.doc,r=t.first;t.iter(function(t){t.gutterMarkers&&t.gutterMarkers[e]&&(t.gutterMarkers[e]=null,mr(n,r,"gutter"),C(t.gutterMarkers)&&(t.gutterMarkers=null)),++r})}),lineInfo:function(e){var n;if("number"==typeof e){if(!N(this.doc,e))return null;if(n=e,e=x(this.doc,e),!e)return null}else if(n=O(e),null==n)return null;return{line:n,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,n,t,r,i){var o=this.display;e=dt(this,D(this.doc,e));var a=e.bottom,s=e.left;if(n.style.position="absolute",n.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(n),o.sizer.appendChild(n),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+n.offsetHeight>l)&&e.top>n.offsetHeight?a=e.top-n.offsetHeight:e.bottom+n.offsetHeight<=l&&(a=e.bottom),s+n.offsetWidth>c&&(s=c-n.offsetWidth)}n.style.top=a+"px",n.style.left=n.style.right="","right"==i?(s=o.sizer.clientWidth-n.offsetWidth,n.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-n.offsetWidth)/2),n.style.left=s+"px"),t&&$t(this,s,a,s+n.offsetWidth,a+n.offsetHeight)},triggerOnKeyDown:hr(go),triggerOnKeyPress:hr(bo),triggerOnKeyUp:yo,execCommand:function(e){if(ks.hasOwnProperty(e))return ks[e].call(null,this)},triggerElectric:hr(function(e){Uo(this,e)}),findPosH:function(e,n,t,r){var i=this,o=1;n<0&&(o=-1,n=-n);for(var a=D(this.doc,e),s=0;s<n&&(a=Go(i.doc,a,o,t,r),!a.hitSide);++s);return a},moveH:hr(function(e,n){var t=this;this.extendSelectionsBy(function(r){return t.display.shift||t.doc.extend||r.empty()?Go(t.doc,r.head,e,n,t.options.rtlMoveVisually):e<0?r.from():r.to()},Ea)}),deleteH:hr(function(e,n){var t=this.doc.sel,r=this.doc;t.somethingSelected()?r.replaceSelection("",null,"+delete"):ao(this,function(t){var i=Go(r,t.head,e,n,!1);return e<0?{from:i,to:t.head}:{from:t.head,to:i}})}),findPosV:function(e,n,t,r){var i=this,o=1,a=r;n<0&&(o=-1,n=-n);for(var s=D(this.doc,e),l=0;l<n;++l){var c=dt(i,s,"div");if(null==a?a=c.left:c.left=a,s=qo(i,c,o,t),s.hitSide)break}return s},moveV:hr(function(e,n){var t=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=dt(t,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=qo(t,s,e,n);return"page"==n&&a==r.sel.primary()&&Zt(t,null,ut(t,l,"div").top-s.top),l},Ea),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var n=this.doc,t=x(n,e.line).text,r=e.ch,i=e.ch;if(t){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==t.length)&&r?--r:++i;for(var a=t.charAt(r),s=k(a,o)?function(e){return k(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!k(e)};r>0&&s(t.charAt(r-1));)--r;for(;i<t.length&&s(t.charAt(i));)++i}return new Er(R(e.line,r),R(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?o(this.display.cursorDiv,"CodeMirror-overwrite"):xa(this.display.cursorDiv,"CodeMirror-overwrite"),Ae(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Sa()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:hr(function(e,n){null==e&&null==n||nr(this),null!=e&&(this.curOp.scrollLeft=e),null!=n&&(this.curOp.scrollTop=n)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-jn(this)-this.display.barHeight,width:e.scrollWidth-jn(this)-this.display.barWidth,clientHeight:qn(this),clientWidth:Gn(this)}},scrollIntoView:hr(function(e,n){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==n&&(n=this.options.cursorScrollMargin)):"number"==typeof e?e={from:R(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=n||0,null!=e.from.line)nr(this),this.curOp.scrollToPos=e;else{var t=Jt(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(t.scrollLeft,t.scrollTop)}}),setSize:hr(function(e,n){var t=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=n&&(this.display.wrapper.style.height=r(n)),this.options.lineWrapping&&it(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var n=0;n<e.widgets.length;n++)if(e.widgets[n].noHScroll){mr(t,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Ae(this,"refresh",this)}),operation:function(e){return ur(this,e)},refresh:hr(function(){var e=this.display.cachedTextHeight;fr(this),this.curOp.forceUpdate=!0,ot(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),Or(this),(null==e||Math.abs(e-gt(this.display))>.5)&&Ct(this),Ae(this,"refresh",this)}),swapDoc:hr(function(e){var n=this.doc;return n.cm=null,Vr(this,e),ot(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,xn(this,"swapDoc",this,n),n}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ee(e),e.registerHelper=function(n,r,i){t.hasOwnProperty(n)||(t[n]=e[n]={_global:[]}),t[n][r]=i},e.registerGlobalHelper=function(n,r,i,o){e.registerHelper(n,r,o),t[n]._global.push({pred:i,val:o})}}function Go(e,n,t,r,i){function o(){var n=s+t;return!(n<e.first||n>=e.first+e.size)&&(s=n,u=x(e,n))}function a(e){var n=(i?xe:Se)(u,l,t,!0);if(null==n){if(e||!o())return!1;l=i?(t<0?ke:be)(u):t<0?u.text.length:0}else l=n;return!0}var s=n.line,l=n.ch,c=t,u=x(e,s);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var d=null,h="group"==r,p=e.cm&&e.cm.getHelper(n,"wordChars"),f=!0;!(t<0)||a(!f);f=!1){var m=u.text.charAt(l)||"\n",g=k(m,p)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||f||g||(g="s"),d&&d!=g){t<0&&(t=1,a());break}if(g&&(d=g),t>0&&!a(!f))break}var v=bi(e,R(s,l),n,c,!0);return E(n,v)||(v.hitSide=!0),v}function qo(e,n,t,r){var i,o=e.doc,a=n.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(s-.5*gt(e.display),3);i=(t>0?n.bottom:n.top)+t*l}else"line"==r&&(i=t>0?n.bottom+3:n.top-3);for(var c;c=ft(e,a,i),c.outside;){if(t<0?i<=0:i>=o.height){c.hitSide=!0;break}i+=5*t}return c}function Vo(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new u,this.gracePeriod=!1}function Ko(e,n){var t=Qn(e,n.line);if(!t||t.hidden)return null;var r=x(e.doc,n.line),i=Kn(t,r,n.line),o=Le(r),a="left";if(o){var s=we(o,n.ch);a=s%2?"right":"left"}var l=Zn(i.map,n.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function Yo(e,n){return n&&(e.bad=!0),e}function Xo(e,n,t,r,i){function o(e){return function(n){return n.id==e}}function a(n){if(1==n.nodeType){var t=n.getAttribute("cm-text");if(null!=t)return""==t&&(t=n.textContent.replace(/\u200b/g,"")),void(s+=t);var u,d=n.getAttribute("cm-marker");if(d){var h=e.findMarks(R(r,0),R(i+1,0),o(+d));return void(h.length&&(u=h[0].find())&&(s+=S(e.doc,u.from,u.to).join(c)))}if("false"==n.getAttribute("contenteditable"))return;for(var p=0;p<n.childNodes.length;p++)a(n.childNodes[p]);/^(pre|div|p)$/i.test(n.nodeName)&&(l=!0)}else if(3==n.nodeType){var f=n.nodeValue;if(!f)return;l&&(s+=c,l=!1),s+=f}}for(var s="",l=!1,c=e.doc.lineSeparator();a(n),n!=t;)n=n.nextSibling;return s}function Qo(e,n,t){var r;if(n==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[t],!r)return Yo(e.clipPos(R(e.display.viewTo-1)),!0);n=null,t=0}else for(r=n;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return $o(o,n,t)}}function $o(e,n,t){function r(n,t,r){for(var i=-1;i<(d?d.length:0);i++)for(var o=i<0?u.map:d[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==n||s==t){var l=O(i<0?e.line:e.rest[i]),c=o[a]+r;return(r<0||s!=n)&&(c=o[a+(r?1:0)]),R(l,c)}}}var o=e.text.firstChild,a=!1;if(!n||!i(o,n))return Yo(R(O(e.line),0),!0);if(n==o&&(a=!0,n=o.childNodes[t],t=0,!n)){var s=e.rest?f(e.rest):e.line;return Yo(R(O(s),s.text.length),a)}var l=3==n.nodeType?n:null,c=n;for(l||1!=n.childNodes.length||3!=n.firstChild.nodeType||(l=n.firstChild,t&&(t=l.nodeValue.length));c.parentNode!=o;)c=c.parentNode;var u=e.measure,d=u.maps,h=r(l,c,t);if(h)return Yo(h,a);for(var p=c.nextSibling,m=l?l.nodeValue.length-t:0;p;p=p.nextSibling){if(h=r(p,p.firstChild,0))return Yo(R(h.line,h.ch-m),a);m+=p.textContent.length}for(var g=c.previousSibling,v=t;g;g=g.previousSibling){if(h=r(g,g.firstChild,-1))return Yo(R(h.line,h.ch+v),a);v+=g.textContent.length}}function Jo(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new u,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function Zo(e,n){function t(){e.value=s.getValue()}if(n=n?l(n):{},n.value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var r=Sa();n.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var i;if(e.form&&(_a(e.form,"submit",t),!n.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){t(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}n.finishInit=function(n){n.save=t,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,t(),e.parentNode.removeChild(n.getWrapperElement()),
e.style.display="",e.form&&(Oe(e.form,"submit",t),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var s=Eo(function(n){return e.parentNode.insertBefore(n,e.nextSibling)},n);return s}function ea(e){e.off=Oe,e.on=_a,e.wheelEventPixels=_t,e.Doc=us,e.splitLines=Ga,e.countColumn=c,e.findColumn=h,e.isWordChar=b,e.Pass=Na,e.signal=Ae,e.Line=ln,e.changeEnd=Wr,e.scrollbarModel=as,e.Pos=R,e.cmpPos=E,e.modes=Ya,e.mimeModes=Xa,e.resolveMode=qe,e.getMode=Ve,e.modeExtensions=Qa,e.extendMode=Ke,e.copyState=Ye,e.startState=Qe,e.innerMode=Xe,e.commands=ks,e.keyMap=vs,e.keyName=io,e.isModifierKey=ro,e.lookupKey=to,e.normalizeKeyMap=no,e.StringStream=$a,e.SharedTextMarker=_i,e.TextMarker=Ui,e.LineWidget=Wi,e.e_preventDefault=Be,e.e_stopPropagation=Pe,e.e_stop=He,e.addClass=o,e.contains=i,e.rmClass=xa,e.keyNames=ps}var na=navigator.userAgent,ta=navigator.platform,ra=/gecko\/\d/i.test(na),ia=/MSIE \d/.test(na),oa=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(na),aa=ia||oa,sa=aa&&(ia?document.documentMode||6:oa[1]),la=/WebKit\//.test(na),ca=la&&/Qt\/\d+\.\d+/.test(na),ua=/Chrome\//.test(na),da=/Opera\//.test(na),ha=/Apple Computer/.test(navigator.vendor),pa=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(na),fa=/PhantomJS/.test(na),ma=/AppleWebKit/.test(na)&&/Mobile\/\w+/.test(na),ga=ma||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(na),va=ma||/Mac/.test(ta),ya=/\bCrOS\b/.test(na),ba=/win/i.test(ta),ka=da&&na.match(/Version\/(\d*\.\d*)/);ka&&(ka=Number(ka[1])),ka&&ka>=15&&(da=!1,la=!0);var Ca,wa=va&&(ca||da&&(null==ka||ka<12.11)),Ta=ra||aa&&sa>=9,xa=function(n,t){var r=n.className,i=e(t).exec(r);if(i){var o=r.slice(i.index+i[0].length);n.className=r.slice(0,i.index)+(o?i[1]+o:"")}};Ca=document.createRange?function(e,n,t,r){var i=document.createRange();return i.setEnd(r||e,t),i.setStart(e,n),i}:function(e,n,t){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",n),r};var Sa=function(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e};aa&&sa<11&&(Sa=function(){try{return document.activeElement}catch(e){return document.body}});var La=function(e){e.select()};ma?La=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:aa&&(La=function(e){try{e.select()}catch(e){}}),u.prototype.set=function(e,n){clearTimeout(this.id),this.id=setTimeout(n,e)};var Ia,Oa,Aa=30,Na={toString:function(){return"CodeMirror.Pass"}},Ma={scroll:!1},Ra={origin:"*mouse"},Ea={origin:"+move"},Ba=[""],Pa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Wa=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Ha=!1,Da=!1,Ua=null,Fa=function(){function e(e){return e<=247?t.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1773?r.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function n(e,n,t){this.level=e,this.from=n,this.to=t}var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,c="L";return function(t){if(!i.test(t))return!1;for(var r=t.length,u=[],d=0;d<r;++d)u.push(e(t.charCodeAt(d)));for(var h=0,p=c;h<r;++h){var m=u[h];"m"==m?u[h]=p:p=m}for(var g=0,v=c;g<r;++g){var y=u[g];"1"==y&&"r"==v?u[g]="n":a.test(y)&&(v=y,"r"==y&&(u[g]="R"))}for(var b=1,k=u[0];b<r-1;++b){var C=u[b];"+"==C&&"1"==k&&"1"==u[b+1]?u[b]="1":","!=C||k!=u[b+1]||"1"!=k&&"n"!=k||(u[b]=k),k=C}for(var w=0;w<r;++w){var T=u[w];if(","==T)u[w]="N";else if("%"==T){var x=void 0;for(x=w+1;x<r&&"%"==u[x];++x);for(var S=w&&"!"==u[w-1]||x<r&&"1"==u[x]?"1":"N",L=w;L<x;++L)u[L]=S;w=x-1}}for(var I=0,O=c;I<r;++I){var A=u[I];"L"==O&&"1"==A?u[I]="L":a.test(A)&&(O=A)}for(var N=0;N<r;++N)if(o.test(u[N])){var M=void 0;for(M=N+1;M<r&&o.test(u[M]);++M);for(var R="L"==(N?u[N-1]:c),E="L"==(M<r?u[M]:c),B=R||E?"L":"R",P=N;P<M;++P)u[P]=B;N=M-1}for(var W,H=[],D=0;D<r;)if(s.test(u[D])){var U=D;for(++D;D<r&&s.test(u[D]);++D);H.push(new n(0,U,D))}else{var F=D,_=H.length;for(++D;D<r&&"L"!=u[D];++D);for(var z=F;z<D;)if(l.test(u[z])){F<z&&H.splice(_,0,new n(1,F,z));var j=z;for(++z;z<D&&l.test(u[z]);++z);H.splice(_,0,new n(2,j,z)),F=z}else++z;F<D&&H.splice(_,0,new n(1,F,D))}return 1==H[0].level&&(W=t.match(/^\s+/))&&(H[0].from=W[0].length,H.unshift(new n(0,0,W[0].length))),1==f(H).level&&(W=t.match(/\s+$/))&&(f(H).to-=W[0].length,H.push(new n(0,r-W[0].length,r))),2==H[0].level&&H.unshift(new n(1,H[0].to,H[0].to)),H[0].level!=f(H).level&&H.push(new n(H[0].level,r,r)),H}}(),_a=function(e,n,t){if(e.addEventListener)e.addEventListener(n,t,!1);else if(e.attachEvent)e.attachEvent("on"+n,t);else{var r=e._handlers||(e._handlers={}),i=r[n]||(r[n]=[]);i.push(t)}},za=[],ja=function(){if(aa&&sa<9)return!1;var e=r("div");return"draggable"in e||"dragDrop"in e}(),Ga=3!="\n\nb".split(/\n/).length?function(e){for(var n=0,t=[],r=e.length;n<=r;){var i=e.indexOf("\n",n);i==-1&&(i=e.length);var o=e.slice(n,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");a!=-1?(t.push(o.slice(0,a)),n+=a+1):(t.push(o),n=i+1)}return t}:function(e){return e.split(/\r\n?|\n/)},qa=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var n;try{n=e.ownerDocument.selection.createRange()}catch(e){}return!(!n||n.parentElement()!=e)&&0!=n.compareEndPoints("StartToEnd",n)},Va=function(){var e=r("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ka=null,Ya={},Xa={},Qa={},$a=function(e,n){this.pos=this.start=0,this.string=e,this.tabSize=n||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};$a.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var n,t=this.string.charAt(this.pos);if(n="string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},eatWhile:function(e){for(var n=this.pos;this.eat(e););return this.pos>n},eatSpace:function(){for(var e=this,n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>n},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=c(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return c(this.string,null,this.tabSize)-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)},match:function(e,n,t){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&n!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return t?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return n!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,n){this.lineStart+=e;try{return n()}finally{this.lineStart-=e}}},Ee(ln),ln.prototype.lineNo=function(){return O(this)};var Ja,Za={},es={},ns=null,ts=null,rs={left:0,right:0,top:0,bottom:0},is=0,os=null;aa?os=-.53:ra?os=15:ua?os=-.7:ha&&(os=-1/3),Gt.prototype=l({update:function(e){var n=e.scrollWidth>e.clientWidth+1,t=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(t){this.vert.style.display="block",this.vert.style.bottom=n?r+"px":"0";var i=e.viewHeight-(n?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(n){this.horiz.style.display="block",this.horiz.style.right=t?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(t?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:t?r:0,bottom:n?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=va&&!pa?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new u,this.disableVert=new u},enableZeroWidthBar:function(e,n){function t(){var r=e.getBoundingClientRect(),i=document.elementFromPoint(r.left+1,r.bottom-1);i!=e?e.style.pointerEvents="none":n.set(1e3,t)}e.style.pointerEvents="auto",n.set(1e3,t)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},Gt.prototype),qt.prototype=l({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},qt.prototype);var as={native:Gt,null:qt},ss=0;wr.prototype.signal=function(e,n){Re(e,n)&&this.events.push(arguments)},wr.prototype.finish=function(){for(var e=this,n=0;n<this.events.length;n++)Ae.apply(null,e.events[n])},Rr.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){var n=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=n.ranges[t],i=e.ranges[t];if(0!=E(r.anchor,i.anchor)||0!=E(r.head,i.head))return!1}return!0},deepCopy:function(){for(var e=this,n=[],t=0;t<this.ranges.length;t++)n[t]=new Er(B(e.ranges[t].anchor),B(e.ranges[t].head));return new Rr(n,this.primIndex)},somethingSelected:function(){for(var e=this,n=0;n<this.ranges.length;n++)if(!e.ranges[n].empty())return!0;return!1},contains:function(e,n){var t=this;n||(n=e);for(var r=0;r<this.ranges.length;r++){var i=t.ranges[r];if(E(n,i.from())>=0&&E(e,i.to())<=0)return r}return-1}},Er.prototype={from:function(){return W(this.anchor,this.head)},to:function(){return P(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}},Bi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,n){for(var t=this,r=e,i=e+n;r<i;++r){var o=t.lines[r];t.height-=o.height,un(o),xn(o,"delete")}this.lines.splice(e,n)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,n,t){var r=this;this.height+=t,this.lines=this.lines.slice(0,e).concat(n).concat(this.lines.slice(e));for(var i=0;i<n.length;++i)n[i].parent=r},iterN:function(e,n,t){for(var r=this,i=e+n;e<i;++e)if(t(r.lines[e]))return!0}},Pi.prototype={chunkSize:function(){return this.size},removeInner:function(e,n){var t=this;this.size-=n;for(var r=0;r<this.children.length;++r){var i=t.children[r],o=i.chunkSize();if(e<o){var a=Math.min(n,o-e),s=i.height;if(i.removeInner(e,a),t.height-=s-i.height,o==a&&(t.children.splice(r--,1),i.parent=null),0==(n-=a))break;e=0}else e-=o}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof Bi))){var l=[];this.collapse(l),this.children=[new Bi(l)],this.children[0].parent=this}},collapse:function(e){for(var n=this,t=0;t<this.children.length;++t)n.children[t].collapse(e)},insertInner:function(e,n,t){var r=this;this.size+=n.length,this.height+=t;for(var i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<=a){if(o.insertInner(e,n,t),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,l=s;l<o.lines.length;){var c=new Bi(o.lines.slice(l,l+=25));o.height-=c.height,r.children.splice(++i,0,c),c.parent=r}o.lines=o.lines.slice(0,s),r.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var n=e.children.splice(e.children.length-5,5),t=new Pi(n);if(e.parent){e.size-=t.size,e.height-=t.height;var r=d(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var i=new Pi(e.children);i.parent=e,e.children=[i,t],e=i}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,n,t){for(var r=this,i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<a){var s=Math.min(n,a-e);if(o.iterN(e,s,t))return!0;if(0==(n-=s))break;e=0}else e-=a}}},Ee(Wi),Wi.prototype.clear=function(){var e=this,n=this.doc.cm,t=this.line.widgets,r=this.line,i=O(r);if(null!=i&&t){for(var o=0;o<t.length;++o)t[o]==e&&t.splice(o--,1);t.length||(r.widgets=null);var a=Dn(this);I(r,Math.max(0,r.height-a)),n&&ur(n,function(){Hi(n,r,-a),mr(n,i,"widget")})}},Wi.prototype.changed=function(){var e=this.height,n=this.doc.cm,t=this.line;this.height=null;var r=Dn(this)-e;r&&(I(t,t.height+r),n&&ur(n,function(){n.curOp.forceUpdate=!0,Hi(n,t,r)}))};var ls=0;Ee(Ui),Ui.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var n=this.doc.cm,t=n&&!n.curOp;if(t&&tr(n),Re(this,"clear")){var r=this.find();r&&xn(this,"clear",r.from,r.to)}for(var i=null,o=null,a=0;a<this.lines.length;++a){var s=e.lines[a],l=G(s.markedSpans,e);n&&!e.collapsed?mr(n,O(s),"text"):n&&(null!=l.to&&(o=O(s)),null!=l.from&&(i=O(s))),s.markedSpans=q(s.markedSpans,l),null==l.from&&e.collapsed&&!de(e.doc,s)&&n&&I(s,gt(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var u=se(e.lines[c]),d=fe(u);d>n.display.maxLineLength&&(n.display.maxLine=u,n.display.maxLineLength=d,n.display.maxLineChanged=!0)}null!=i&&n&&this.collapsed&&fr(n,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&gi(n.doc)),n&&xn(n,"markerCleared",n,this),t&&rr(n),this.parent&&this.parent.clear()}},Ui.prototype.find=function(e,n){var t=this;null==e&&"bookmark"==this.type&&(e=1);for(var r,i,o=0;o<this.lines.length;++o){var a=t.lines[o],s=G(a.markedSpans,t);if(null!=s.from&&(r=R(n?a:O(a),s.from),e==-1))return r;if(null!=s.to&&(i=R(n?a:O(a),s.to),1==e))return i}return r&&{from:r,to:i}},Ui.prototype.changed=function(){var e=this.find(-1,!0),n=this,t=this.doc.cm;e&&t&&ur(t,function(){var r=e.line,i=O(e.line),o=Qn(t,i);if(o&&(rt(o),t.curOp.selectionChanged=t.curOp.forceUpdate=!0),t.curOp.updateMaxLine=!0,!de(n.doc,r)&&null!=n.height){var a=n.height;n.height=null;var s=Dn(n)-a;s&&I(r,r.height+s)}})},Ui.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;n.maybeHiddenMarkers&&d(n.maybeHiddenMarkers,this)!=-1||(n.maybeUnhiddenMarkers||(n.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ui.prototype.detachLine=function(e){if(this.lines.splice(d(this.lines,e),1),!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this)}},Ee(_i),_i.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)e.markers[n].clear();xn(this,"clear")}},_i.prototype.find=function(e,n){return this.primary.find(e,n)};var cs=0,us=function(e,n,t,r){if(!(this instanceof us))return new us(e,n,t,r);null==t&&(t=0),Pi.call(this,[new Bi([new ln("",null)])]),this.first=t,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=t;var i=R(t,0);this.sel=Pr(i),this.history=new Kr(null),this.id=++cs,this.modeOption=n,this.lineSep=r,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Gr(this,{from:i,to:i,text:e}),pi(this,Pr(i),Ma)};us.prototype=y(Pi.prototype,{constructor:us,iter:function(e,n,t){t?this.iterN(e-this.first,n-e,t):this.iterN(this.first,this.first+this.size,e)},insert:function(e,n){for(var t=0,r=0;r<n.length;++r)t+=n[r].height;this.insertInner(e-this.first,n,t)},remove:function(e,n){this.removeInner(e-this.first,n)},getValue:function(e){var n=L(this,this.first,this.first+this.size);return e===!1?n:n.join(e||this.lineSeparator())},setValue:pr(function(e){var n=R(this.first,0),t=this.first+this.size-1;Ti(this,{from:n,to:R(t,x(this,t).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),pi(this,Pr(n))}),replaceRange:function(e,n,t,r){n=D(this,n),t=t?D(this,t):n,Ai(this,e,n,t,r)},getRange:function(e,n,t){var r=S(this,D(this,e),D(this,n));return t===!1?r:r.join(t||this.lineSeparator())},getLine:function(e){var n=this.getLineHandle(e);return n&&n.text},getLineHandle:function(e){if(N(this,e))return x(this,e)},getLineNumber:function(e){return O(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=x(this,e)),se(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return D(this,e)},getCursor:function(e){var n,t=this.sel.primary();return n=null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||e===!1?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:pr(function(e,n,t){ui(this,D(this,"number"==typeof e?R(e,n||0):e),null,t)}),setSelection:pr(function(e,n,t){ui(this,D(this,e),D(this,n||e),t)}),extendSelection:pr(function(e,n,t){si(this,D(this,e),n&&D(this,n),t)}),extendSelections:pr(function(e,n){li(this,F(this,e),n)}),extendSelectionsBy:pr(function(e,n){var t=m(this.sel.ranges,e);li(this,F(this,t),n)}),setSelections:pr(function(e,n,t){var r=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Er(D(r,e[o].anchor),D(r,e[o].head));null==n&&(n=Math.min(e.length-1,this.sel.primIndex)),pi(this,Br(i,n),t)}}),addSelection:pr(function(e,n,t){var r=this.sel.ranges.slice(0);r.push(new Er(D(this,e),D(this,n||e))),pi(this,Br(r,r.length-1),t)}),getSelection:function(e){for(var n,t=this,r=this.sel.ranges,i=0;i<r.length;i++){var o=S(t,r[i].from(),r[i].to());n=n?n.concat(o):o}return e===!1?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var n=this,t=[],r=this.sel.ranges,i=0;i<r.length;i++){var o=S(n,r[i].from(),r[i].to());e!==!1&&(o=o.join(e||n.lineSeparator())),t[i]=o}return t},replaceSelection:function(e,n,t){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,n,t||"+input")},replaceSelections:pr(function(e,n,t){for(var r=this,i=[],o=this.sel,a=0;a<o.ranges.length;a++){var s=o.ranges[a];i[a]={from:s.from(),to:s.to(),text:r.splitLines(e[a]),origin:t}}for(var l=n&&"end"!=n&&Fr(this,i,n),c=i.length-1;c>=0;c--)Ti(r,i[c]);l?hi(this,l):this.cm&&er(this.cm)}),undo:pr(function(){Si(this,"undo")}),redo:pr(function(){Si(this,"redo")}),undoSelection:pr(function(){Si(this,"undo",!0)}),redoSelection:pr(function(){Si(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,n=0,t=0,r=0;r<e.done.length;r++)e.done[r].ranges||++n;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++t;return{undo:n,redo:t}},clearHistory:function(){this.history=new Kr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:oi(this.history.done),undone:oi(this.history.undone)}},setHistory:function(e){var n=this.history=new Kr(this.history.maxGeneration);n.done=oi(e.done.slice(0),null,!0),n.undone=oi(e.undone.slice(0),null,!0)},addLineClass:pr(function(n,t,r){return Ei(this,n,"gutter"==t?"gutter":"class",function(n){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(n[i]){if(e(r).test(n[i]))return!1;n[i]+=" "+r}else n[i]=r;return!0})}),removeLineClass:pr(function(n,t,r){return Ei(this,n,"gutter"==t?"gutter":"class",function(n){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=n[i];if(!o)return!1;if(null==r)n[i]=null;else{var a=o.match(e(r));if(!a)return!1;var s=a.index+a[0].length;n[i]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:pr(function(e,n,t){return Di(this,e,n,t)}),removeLineWidget:function(e){e.clear()},markText:function(e,n,t){return Fi(this,D(this,e),D(this,n),t,t&&t.type||"range")},setBookmark:function(e,n){var t={replacedWith:n&&(null==n.nodeType?n.widget:n),insertLeft:n&&n.insertLeft,clearWhenEmpty:!1,shared:n&&n.shared,handleMouseEvents:n&&n.handleMouseEvents};return e=D(this,e),Fi(this,e,e,t,"bookmark")},findMarksAt:function(e){e=D(this,e);var n=[],t=x(this,e.line).markedSpans;if(t)for(var r=0;r<t.length;++r){var i=t[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&n.push(i.marker.parent||i.marker)}return n},findMarks:function(e,n,t){e=D(this,e),n=D(this,n);var r=[],i=e.line;return this.iter(e.line,n.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==n.line&&l.from>=n.ch||t&&!t(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(n){var t=n.markedSpans;if(t)for(var r=0;r<t.length;++r)null!=t[r].from&&e.push(t[r].marker)}),e},posFromIndex:function(e){var n,t=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;return o>e?(n=e,!0):(e-=o,void++t)}),D(this,R(t,n))},indexFromPos:function(e){e=D(this,e);var n=e.ch;if(e.line<this.first||e.ch<0)return 0;var t=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){n+=e.text.length+t}),n},copy:function(e){var n=new us(L(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return n.scrollTop=this.scrollTop,n.scrollLeft=this.scrollLeft,n.sel=this.sel,n.extend=!1,e&&(n.history.undoDepth=this.history.undoDepth,n.setHistory(this.getHistory())),n},linkedDoc:function(e){e||(e={});var n=this.first,t=this.first+this.size;null!=e.from&&e.from>n&&(n=e.from),null!=e.to&&e.to<t&&(t=e.to);var r=new us(L(this,n,t),e.mode||this.modeOption,n,this.lineSep);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Gi(r,ji(this)),r},unlinkDoc:function(e){var n=this;if(e instanceof Eo&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var r=n.linked[t];if(r.doc==e){n.linked.splice(t,1),e.unlinkDoc(n),qi(ji(n));break}}if(e.history==this.history){var i=[e.id];qr(e,function(e){return i.push(e.id)},!0),e.history=new Kr(null),e.history.done=oi(this.history.done,i),e.history.undone=oi(this.history.undone,i)}},iterLinkedDocs:function(e){qr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ga(e)},lineSeparator:function(){return this.lineSep||"\n"}}),us.prototype.eachLine=us.prototype.iter;for(var ds=0,hs=!1,ps={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},fs=0;fs<10;fs++)ps[fs+48]=ps[fs+96]=String(fs);for(var ms=65;ms<=90;ms++)ps[ms]=String.fromCharCode(ms);for(var gs=1;gs<=12;gs++)ps[gs+111]=ps[gs+63235]="F"+gs;var vs={};vs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},vs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},vs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},vs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},vs.default=va?vs.macDefault:vs.pcDefault;var ys,bs,ks={selectAll:Ci,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ma)},killLine:function(e){return ao(e,function(n){if(n.empty()){var t=x(e.doc,n.head.line).text.length;return n.head.ch==t&&n.head.line<e.lastLine()?{from:n.head,to:R(n.head.line+1,0)}:{from:n.head,to:R(n.head.line,t)}}return{from:n.from(),to:n.to()}})},deleteLine:function(e){return ao(e,function(n){return{from:R(n.from().line,0),to:D(e.doc,R(n.to().line+1,0))}})},delLineLeft:function(e){return ao(e,function(e){return{from:R(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return ao(e,function(n){var t=e.charCoords(n.head,"div").top+5,r=e.coordsChar({left:0,top:t},"div");return{from:r,to:n.from()}})},delWrappedLineRight:function(e){return ao(e,function(n){var t=e.charCoords(n.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div");return{from:n.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(R(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(R(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(n){return so(e,n.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(n){return co(e,n.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(n){return lo(e,n.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(n){var t=e.charCoords(n.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div")},Ea)},goLineLeft:function(e){return e.extendSelectionsBy(function(n){var t=e.charCoords(n.head,"div").top+5;return e.coordsChar({left:0,top:t},"div")},Ea)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(n){var t=e.charCoords(n.head,"div").top+5,r=e.coordsChar({left:0,top:t},"div");return r.ch<e.getLine(r.line).search(/\S/)?co(e,n.head):r},Ea)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var n=[],t=e.listSelections(),r=e.options.tabSize,i=0;i<t.length;i++){var o=t[i].from(),a=c(e.getLine(o.line),o.ch,r);n.push(p(r-a%r))}e.replaceSelections(n)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return ur(e,function(){for(var n=e.listSelections(),t=[],r=0;r<n.length;r++)if(n[r].empty()){
var i=n[r].head,o=x(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new R(i.line,i.ch-1)),i.ch>0)i=new R(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),R(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=x(e.doc,i.line-1).text;a&&(i=new R(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),R(i.line-1,a.length-1),i,"+transpose"))}t.push(new Er(i,i))}e.setSelections(t)})},newlineAndIndent:function(e){return ur(e,function(){for(var n=e.listSelections(),t=n.length-1;t>=0;t--)e.replaceRange(e.doc.lineSeparator(),n[t].anchor,n[t].head,"+input");n=e.listSelections();for(var r=0;r<n.length;r++)e.indentLine(n[r].from().line,null,!0);er(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Cs=new u,ws=null,Ts={toString:function(){return"CodeMirror.Init"}},xs={},Ss={};Eo.defaults=xs,Eo.optionHandlers=Ss;var Ls=[];Eo.defineInitHook=function(e){return Ls.push(e)};var Is=null;Vo.prototype=l({init:function(e){function n(e){if(!Ne(r,e)){if(r.somethingSelected())Wo({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var n=Fo(r);Wo({lineWise:!0,text:n.text}),"cut"==e.type&&r.operation(function(){r.setSelections(n.ranges,0,Ma),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=Is.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=zo(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=Is.text.join("\n");var l=document.activeElement;La(s),setTimeout(function(){r.display.lineSpace.removeChild(a),l.focus(),l==i&&t.showPrimarySelection()},50)}}var t=this,r=t.cm,i=t.div=e.lineDiv;_o(i,r.options.spellcheck),_a(i,"paste",function(e){Ne(r,e)||Do(e,r)||sa<=11&&setTimeout(dr(r,function(){t.pollContent()||fr(r)}),20)}),_a(i,"compositionstart",function(e){var n=e.data;if(t.composing={sel:r.doc.sel,data:n,startData:n},n){var i=r.doc.sel.primary(),o=r.getLine(i.head.line),a=o.indexOf(n,Math.max(0,i.head.ch-n.length));a>-1&&a<=i.head.ch&&(t.composing.sel=Pr(R(i.head.line,a),R(i.head.line,a+n.length)))}}),_a(i,"compositionupdate",function(e){return t.composing.data=e.data}),_a(i,"compositionend",function(e){var n=t.composing;n&&(e.data==n.startData||/\u200b/.test(e.data)||(n.data=e.data),setTimeout(function(){n.handled||t.applyComposition(n),t.composing==n&&(t.composing=null)},50))}),_a(i,"touchstart",function(){return t.forceCompositionEnd()}),_a(i,"input",function(){t.composing||!r.isReadOnly()&&t.pollContent()||ur(t.cm,function(){return fr(r)})}),_a(i,"copy",n),_a(i,"cut",n)},prepareSelection:function(){var e=St(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,n){e&&this.cm.display.view.length&&((e.focus||n)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),n=this.cm.doc.sel.primary(),t=Qo(this.cm,e.anchorNode,e.anchorOffset),r=Qo(this.cm,e.focusNode,e.focusOffset);if(!t||t.bad||!r||r.bad||0!=E(W(t,r),n.from())||0!=E(P(t,r),n.to())){var i=Ko(this.cm,n.from()),o=Ko(this.cm,n.to());if(i||o){var a=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var l=a[a.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else i={node:a[0].measure.map[2],offset:0};var u;try{u=Ca(i.node,i.offset,o.offset,o.node)}catch(e){}u&&(!ra&&this.cm.state.focused?(e.collapse(i.node,i.offset),u.collapsed||(e.removeAllRanges(),e.addRange(u))):(e.removeAllRanges(),e.addRange(u)),s&&null==e.anchorNode?e.addRange(s):ra&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){t(this.cm.display.cursorDiv,e.cursors),t(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var n=e.getRangeAt(0).commonAncestorContainer;return i(this.div,n)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){n.cm.state.focused&&(n.pollSelection(),n.polling.set(n.cm.options.pollInterval,e))}var n=this;this.selectionInEditor()?this.pollSelection():ur(this.cm,function(){return n.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),n=this.cm;this.rememberSelection();var t=Qo(n,e.anchorNode,e.anchorOffset),r=Qo(n,e.focusNode,e.focusOffset);t&&r&&ur(n,function(){pi(n.doc,Pr(t,r),Ma),(t.bad||r.bad)&&(n.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,n=e.display,t=e.doc.sel.primary(),r=t.from(),i=t.to();if(r.line<n.viewFrom||i.line>n.viewTo-1)return!1;var o,a,s;r.line==n.viewFrom||0==(o=Tt(e,r.line))?(a=O(n.view[0].line),s=n.view[0].node):(a=O(n.view[o].line),s=n.view[o-1].node.nextSibling);var l,c,u=Tt(e,i.line);u==n.view.length-1?(l=n.viewTo-1,c=n.lineDiv.lastChild):(l=O(n.view[u+1].line)-1,c=n.view[u+1].node.previousSibling);for(var d=e.doc.splitLines(Xo(e,s,c,a,l)),h=S(e.doc,R(a,0),R(l,x(e.doc,l).text.length));d.length>1&&h.length>1;)if(f(d)==f(h))d.pop(),h.pop(),l--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),a++}for(var p=0,m=0,g=d[0],v=h[0],y=Math.min(g.length,v.length);p<y&&g.charCodeAt(p)==v.charCodeAt(p);)++p;for(var b=f(d),k=f(h),C=Math.min(b.length-(1==d.length?p:0),k.length-(1==h.length?p:0));m<C&&b.charCodeAt(b.length-m-1)==k.charCodeAt(k.length-m-1);)++m;d[d.length-1]=b.slice(0,b.length-m),d[0]=d[0].slice(p);var w=R(a,p),T=R(l,h.length?f(h).length-m:0);return d.length>1||d[0]||E(w,T)?(Ai(e.doc,d,w,T,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?dr(this.cm,fr)(this.cm):e.data&&e.data!=e.startData&&dr(this.cm,Ho)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||dr(this.cm,Ho)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:v,resetPosition:v,needsContentAttribute:!0},Vo.prototype),Jo.prototype=l({init:function(e){function n(e){if(!Ne(i,e)){if(i.somethingSelected())Wo({lineWise:!1,text:i.getSelections()}),r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,a.value=Is.text.join("\n"),La(a));else{if(!i.options.lineWiseCopyCut)return;var n=Fo(i);Wo({lineWise:!0,text:n.text}),"cut"==e.type?i.setSelections(n.ranges,null,Ma):(r.prevInput="",a.value=n.text.join("\n"),La(a))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var t=this,r=this,i=this.cm,o=this.wrapper=zo(),a=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),ma&&(a.style.width="0px"),_a(a,"input",function(){aa&&sa>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),_a(a,"paste",function(e){Ne(i,e)||Do(e,i)||(i.state.pasteIncoming=!0,r.fastPoll())}),_a(a,"cut",n),_a(a,"copy",n),_a(e.scroller,"paste",function(n){Un(e,n)||Ne(i,n)||(i.state.pasteIncoming=!0,r.focus())}),_a(e.lineSpace,"selectstart",function(n){Un(e,n)||Be(n)}),_a(a,"compositionstart",function(){var e=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),_a(a,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},prepareSelection:function(){var e=this.cm,n=e.display,t=e.doc,r=St(e);if(e.options.moveInputWithCursor){var i=dt(e,t.sel.primary().head,"div"),o=n.wrapper.getBoundingClientRect(),a=n.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(n.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(n.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},showSelection:function(e){var n=this.cm,r=n.display;t(r.cursorDiv,e.cursors),t(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var n,t,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary();n=Va&&(o.to().line-o.from().line>100||(t=r.getSelection()).length>1e3);var a=n?"-":t||r.getSelection();this.textarea.value=a,r.state.focused&&La(this.textarea),aa&&sa>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",aa&&sa>=9&&(this.hasSelection=null));this.inaccurateSelection=n}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!ga||Sa()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var r=t.poll();r||n?(t.pollingFast=!1,t.slowPoll()):(n=!0,t.polling.set(60,e))}var n=!1,t=this;t.pollingFast=!0,t.polling.set(20,e)},poll:function(){var e=this,n=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!n.state.focused||qa(t)&&!r&&!this.composing||n.isReadOnly()||n.options.disableInput||n.state.keySeq)return!1;var i=t.value;if(i==r&&!n.somethingSelected())return!1;if(aa&&sa>=9&&this.hasSelection===i||va&&/[\uf700-\uf7ff]/.test(i))return n.display.input.reset(),!1;if(n.doc.sel==n.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(r.length,i.length);a<s&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return ur(n,function(){Ho(n,i.slice(a),r.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?t.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=n.markText(e.composing.start,n.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){aa&&sa>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function n(){if(null!=a.selectionStart){var e=i.somethingSelected(),n="​"+(e?a.value:"");a.value="⇚",a.value=n,r.prevInput=e?"":"​",a.selectionStart=1,a.selectionEnd=n.length,o.selForContextMenu=i.doc.sel}}function t(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=d,a.style.cssText=u,aa&&sa<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!aa||aa&&sa<9)&&n();var e=0,t=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"​"==r.prevInput?dr(i,Ci)(i):e++<10?o.detectingSelectAll=setTimeout(t,500):o.input.reset()};o.detectingSelectAll=setTimeout(t,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=wt(i,e),l=o.scroller.scrollTop;if(s&&!da){var c=i.options.resetSelectionOnContextMenu;c&&i.doc.sel.contains(s)==-1&&dr(i,pi)(i.doc,Pr(s),Ma);var u=a.style.cssText,d=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var h=r.wrapper.getBoundingClientRect();a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(aa?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var p;if(la&&(p=window.scrollY),o.input.focus(),la&&window.scrollTo(null,p),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),aa&&sa>=9&&n(),Ta){He(e);var f=function(){Oe(window,"mouseup",f),setTimeout(t,20)};_a(window,"mouseup",f)}else setTimeout(t,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:v,needsContentAttribute:!1},Jo.prototype),Ao(Eo),jo(Eo);var Os="iter insert remove copy getEditor constructor".split(" ");for(var As in us.prototype)us.prototype.hasOwnProperty(As)&&d(Os,As)<0&&(Eo.prototype[As]=function(e){return function(){return e.apply(this.doc,arguments)}}(us.prototype[As]));return Ee(us),Eo.inputStyles={textarea:Jo,contenteditable:Vo},Eo.defineMode=function(e){Eo.defaults.mode||"null"==e||(Eo.defaults.mode=e),je.apply(this,arguments)},Eo.defineMIME=Ge,Eo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Eo.defineMIME("text/plain","null"),Eo.defineExtension=function(e,n){Eo.prototype[e]=n},Eo.defineDocExtension=function(e,n){us.prototype[e]=n},Eo.fromTextArea=Zo,ea(Eo),Eo.version="5.20.2",Eo})},function(e,n,t){n=e.exports=t(80)(),n.push([e.id,'/*! normalize.css v4.1.1 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}#tab-container{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:44px}#documentation-container{padding:0 15px}#documentation-container #table-of-contents{display:none}#documentation-container #documentation,#documentation-container #table-of-contents{margin:0 auto;max-width:580px;overflow-x:hidden}@media only screen and (min-width:981px){body{display:-ms-flexbox;display:flex;-ms-flex-flow:wrap row-reverse;flex-flow:row-reverse wrap;height:100vh}#editor-container{border-right:1px solid #aaa;-ms-flex-preferred-size:460px;flex-basis:460px;-ms-flex-positive:.1;flex-grow:.1}#editor-container .CodeMirror{height:100vh}#documentation-container{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;height:100vh;overflow-y:scroll}}@media only screen and (max-width:980px){body{overflow-x:hidden}#editor-container{display:none}}.CodeMirror{font-size:14px;line-height:1.3;font-family:Menlo,Consolas,monospace!important}#tab-container{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}#tab-container span[role=tab]{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background-color:#c00;border-radius:3px;color:#fff;cursor:pointer;display:inline-block;font-size:75%;margin:10px 0;padding:7px 12px 5px;text-transform:uppercase;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#tab-container span[role=tab]:hover{background:#b00}#tab-container span[role=tab]:active{background:#a00}#tab-container span[role=tab][aria-selected=true]{display:none}#documentation-container{font:1em/1.6 -apple-system,BlinkMacSystemFont,sans-serif}#documentation-container #table-of-contents{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#documentation-container #table-of-contents [role=heading],#documentation-container #table-of-contents h1,#documentation-container #table-of-contents h2,#documentation-container #table-of-contents h3,#documentation-container #table-of-contents h4,#documentation-container #table-of-contents h5,#documentation-container #table-of-contents h6{font-weight:400;font-size:100%;margin:0;padding:0}#documentation-container #table-of-contents kbd{background-color:#eee;border-color:#aaa;box-shadow:0 .25em 0 hsla(0,0%,5%,.2),inset 0 0 0 .2em #fff;color:#444}#documentation-container #table-of-contents code{text-decoration:none}#documentation-container #table-of-contents small{display:none}#documentation-container #table-of-contents h1,#documentation-container #table-of-contents h2{font-weight:700}#documentation-container #table-of-contents h1 small,#documentation-container #table-of-contents h2 small{display:inline}#documentation-container #table-of-contents a{color:#000;display:inline-block;padding:3px 0 0 270px;text-decoration:none;width:100%}@media only screen and (max-width:420px){#documentation-container #table-of-contents a{padding-left:180px}}#documentation-container #table-of-contents a:hover{text-decoration:underline}#documentation-container #table-of-contents h1 a{padding-left:0}@media only screen and (max-width:420px){#documentation-container #table-of-contents h1 a{padding-left:0}}#documentation-container #table-of-contents h2 a{padding-left:0}@media only screen and (max-width:420px){#documentation-container #table-of-contents h2 a{padding-left:0}}#documentation-container #table-of-contents h3 a{padding-left:30px}@media only screen and (max-width:420px){#documentation-container #table-of-contents h3 a{padding-left:20px}}#documentation-container #table-of-contents h4 a{padding-left:60px}@media only screen and (max-width:420px){#documentation-container #table-of-contents h4 a{padding-left:40px}}#documentation-container #table-of-contents h5 a{padding-left:90px}@media only screen and (max-width:420px){#documentation-container #table-of-contents h5 a{padding-left:60px}}#documentation-container #table-of-contents h6 a{padding-left:120px}@media only screen and (max-width:420px){#documentation-container #table-of-contents h6 a{padding-left:80px}}#documentation-container #table-of-contents [aria-level="7"] a{padding-left:150px}@media only screen and (max-width:420px){#documentation-container #table-of-contents [aria-level="7"] a{padding-left:100px}}#documentation-container #table-of-contents [aria-level="8"] a{padding-left:180px}@media only screen and (max-width:420px){#documentation-container #table-of-contents [aria-level="8"] a{padding-left:120px}}#documentation-container #table-of-contents [aria-level="9"] a{padding-left:210px}@media only screen and (max-width:420px){#documentation-container #table-of-contents [aria-level="9"] a{padding-left:140px}}#documentation-container #table-of-contents [aria-level="10"] a{padding-left:240px}@media only screen and (max-width:420px){#documentation-container #table-of-contents [aria-level="10"] a{padding-left:160px}}#documentation-container #table-of-contents h1 a{padding-top:25px;padding-bottom:6px}#documentation-container #table-of-contents h2 a{padding-top:10px}#documentation-container blockquote{border-left:20px solid #ddd;background-color:#fcfcfc;margin:15px 0;padding:5px 20px}#documentation-container blockquote blockquote{border-color:#d3d3d3;background-color:#f2f2f2}#documentation-container blockquote blockquote blockquote{border-color:#c9c9c9;background-color:#e8e8e8}#documentation-container blockquote blockquote blockquote blockquote{border-color:#bebebe;background-color:#ddd}#documentation-container code,#documentation-container pre{background:#234;color:#fff;font-family:Menlo,Consolas,monospace;font-size:87.5%}#documentation-container code.up-inline-code{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);border-radius:.125em;font-weight:400;margin:0 .0625em;padding:0 .2em;white-space:pre}#documentation-container a code{text-decoration:underline}#documentation-container a:hover code{text-decoration:none}#documentation-container pre{box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);border-radius:.1875em;line-height:1.5;margin:20px 0;overflow-x:auto;padding:7px 9px}@media only screen and (max-width:420px){#documentation-container pre{font-size:85%;line-height:1.4}}#documentation-container pre>code{box-shadow:none;border-radius:0;padding:0}#documentation-container dl{margin-bottom:25px}#documentation-container dl dl{margin-bottom:0}#documentation-container dl dt{color:#000;font-family:-apple-system,BlinkMacSystemFont,sans-serif;font-weight:700}#documentation-container dl dd{margin-left:20px}#documentation-container dl+dl{margin-top:45px}#documentation-container caption em,#documentation-container caption i,#documentation-container em em,#documentation-container em i,#documentation-container i em,#documentation-container i i{display:inline-block;transform:skewX(-20deg)}#documentation-container kbd{background-color:#eee;border:.125em solid #aaa;box-shadow:0 .25em 0 hsla(0,0%,5%,.2),inset 0 0 0 .2em #fff;color:#444;border-radius:.25em;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,sans-serif;font-size:70%;line-height:1.4;margin:0 .1em;padding:.1em .6em;text-shadow:0 .1em 0 #fff;white-space:nowrap}#documentation-container a kbd{background-color:#eef1f5;border-color:#579;box-shadow:0 .25em 0 rgba(85,119,153,.3),inset 0 0 0 .2em #fff;color:#579}#documentation-container .up-footnote-reference a{font-size:110%;margin-left:.125em;text-decoration:none}#documentation-container .up-footnote-reference a:before{content:\'[\'}#documentation-container .up-footnote-reference a:after{content:\']\'}#documentation-container .up-footnotes{font-size:85%}#documentation-container .up-footnotes dt{font-weight:400}#documentation-container .up-footnotes dt a:before{content:\'\\2191\'}#documentation-container img{max-width:100%}#documentation-container [role=heading],#documentation-container h1,#documentation-container h2,#documentation-container h3,#documentation-container h4,#documentation-container h5,#documentation-container h6{color:#000;font-family:-apple-system,BlinkMacSystemFont,sans-serif;line-height:1.5;padding-top:10px}#documentation-container h1{font-size:180%;padding-bottom:15px;text-align:center}#documentation-container h2{font-size:140%}#documentation-container h3{font-size:120%}#documentation-container h4{font-size:110%}#documentation-container h5{font-size:100%}#documentation-container h6{font-size:90%}#documentation-container [role=heading]{font-size:60%;margin:1.5em 0}#documentation-container [aria-level="7"]{font-size:85%}#documentation-container [aria-level="8"]{font-size:80%}#documentation-container [aria-level="9"]{font-size:75%}#documentation-container [aria-level="10"]{font-size:70%}#documentation-container mark{background-color:#ff0;padding:.0625em}#documentation-container mark mark{background-color:gold}#documentation-container mark mark mark{background-color:orange}#documentation-container q{margin:0 .0625em;quotes:\'\\201C\' \'\\201D\' "\\2018" "\\2019"}#documentation-container q:after,#documentation-container q:before{font-family:serif}#documentation-container q:before{content:open-quote}#documentation-container q:after{content:close-quote}#documentation-container .up-lines{text-align:center}#documentation-container .up-lines+.up-lines{margin-top:20px}#documentation-container .up-lines>div{margin-bottom:5px}#documentation-container a{color:#579}#documentation-container a:hover{text-decoration:none}#documentation-container ol+ol,#documentation-container ul+ul{margin-top:40px}#documentation-container small{font-size:100%;opacity:.5}@keyframes reveal{0%{opacity:1}30%{opacity:.5}to{opacity:1}}#documentation-container .up-revealable>label{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background-color:#c00;border-radius:3px;color:#fff;cursor:pointer;display:inline-block;font-size:75%;margin:10px 0;padding:7px 12px 5px;text-transform:uppercase;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#documentation-container .up-revealable>label:hover{background:#b00}#documentation-container .up-revealable>label:active{background:#a00}#documentation-container .up-revealable>input[type=radio],#documentation-container .up-revealable>input[type=radio].up-hide:checked+label,#documentation-container .up-revealable>input[type=radio].up-reveal:checked+label,#documentation-container .up-revealable>input[type=radio]~div,#documentation-container .up-revealable>input[type=radio]~span{display:none}#documentation-container .up-revealable>input[type=radio].up-reveal:checked~div,#documentation-container .up-revealable>input[type=radio].up-reveal:checked~span{animation:1s reveal}#documentation-container .up-revealable>input[type=radio].up-reveal:checked~span{display:inline}#documentation-container .up-revealable>input[type=radio].up-reveal:checked~div{display:block}#documentation-container .up-revealable>div{margin-left:20px}#documentation-container span.up-revealable>label{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background-color:#c00;border-radius:3px;color:#fff;cursor:pointer;display:inline-block;font-size:75%;margin:10px 0;padding:7px 12px 5px;text-transform:uppercase;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline;font-size:65%;margin:0 5px;padding:4px 12px 3px}#documentation-container span.up-revealable>label:hover{background:#b00}#documentation-container span.up-revealable>label:active{background:#a00}#documentation-container div.up-revealable>label{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);background-color:#c00;border-radius:3px;color:#fff;cursor:pointer;display:inline-block;font-size:75%;margin:10px 0;padding:7px 12px 5px;text-transform:uppercase;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#documentation-container div.up-revealable>label:hover{background:#b00}#documentation-container div.up-revealable>label:active{background:#a00}#documentation-container table{border-collapse:collapse;margin:20px 0}@media only screen and (max-width:420px){#documentation-container table{font-size:80%}}#documentation-container table caption{font-style:italic}#documentation-container table tbody tr:hover td{background:#ddd}#documentation-container table tbody tr:nth-child(even) td{background-color:#eee}#documentation-container table tbody tr:nth-child(even):hover td{background-color:#ccc;border-color:#999}#documentation-container table td,#documentation-container table th{padding:10px;border:1px solid #bbb}#documentation-container table td.up-numeric,#documentation-container table th.up-numeric{text-align:right}#documentation-container table td[colspan],#documentation-container table th[colspan]{text-align:center}#documentation-container table th{border:0;color:#000;font-family:-apple-system,BlinkMacSystemFont,sans-serif}#documentation-container table th[scope=row]{text-align:right}#documentation-container hr{border:0;padding-bottom:30px;text-align:center}#documentation-container hr:after{color:#ccc;content:\'\\2606   \\2606   \\2606\';font-size:10px}@media braille,speech{#documentation-container hr:after{content:none}}#documentation-container video{max-width:100%}@keyframes clean{0%{opacity:.5;transition:.5s}to{opacity:1}}.dirty{opacity:.5;transition:.5s}.clean{animation:.2s clean}.CodeMirror{font-family:monospace;height:300px;color:#000}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-animate-fat-cursor{width:auto;border:0;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0f0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px;*zoom:1;*display:inline}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:none}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background:#ffa;background:rgba(255,255,0,.4)}.CodeMirror span{*vertical-align:text-bottom}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:\'\'}span.CodeMirror-selectedtext{background:none}',""]);
},function(e,n){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],n=0;n<this.length;n++){var t=this[n];t[2]?e.push("@media "+t[2]+"{"+t[1]+"}"):e.push(t[1])}return e.join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<n.length;i++){var a=n[i];"number"==typeof a[0]&&r[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),e.push(a))}},e}},function(e,n){e.exports='##########\nWhat\'s Up?\n##########\n\nUp is a markup language for writing structured documents in plain text.\n\nFor software developers, Up offers a software library that converts Up markup into HTML. To learn more, please see [topic: using the Up library].\n\n\n\n===========\nWhy use Up?\n===========\n\nUp isn\'t the only markup language that produces HTML. What makes it special?\n\n\nUp uses customizable keywords\n=============================\n\nToo many markup languages devolve into a dense soup of symbols and punctuation.\n\nWhen a keyword would provide more clarity than a symbol, Up takes advantage of that! Several writing conventions, including [topic: tables] and [topic: revealable content], incorporate keywords.\n\nIf you\'re a software developer using the Up library, you can provide multiple custom variations for each keyword. To learn more, please see [topic: customizing keywords].\n\n\nUp has a flexible, forgiving syntax\n===================================\n\nUp recognizes [topic: numbered lists] that count backwards.\n\nMarkup\n  ````\n  3) Buy milk\n  2) Buy bread\n  #) Buy happiness\n  ````\n\nOutput\n  3) Buy milk\n  2) Buy bread\n  #) Buy happiness\n\nUp usually ignores [topic: excessive delimiter characters].\n\nFor example, you don\'t need to perfectly balance asterisks when stressing or emphasizing text.\n\nMarkup\n  ````\n  I ***love****** asterisks!\n  ````\n\nOutput\n  I ***love****** asterisks!\n\nUp isn\'t picky about which brackets you use for [topic: links].\n\nMarkup\n  ````\n  - Buy [milk] (en.wikipedia.org/wiki/Milk)\n  - Buy (bread) [en.wikipedia.org/wiki/Bread]\n  - Buy [sugar] [en.wikipedia.org/wiki/Sugar]\n  - Buy (happiness) (en.wikipedia.org/wiki/Happiness)\n  ````\n\nOutput\n  - Buy [milk] (en.wikipedia.org/wiki/Milk)\n  - Buy (bread) [en.wikipedia.org/wiki/Bread]\n  - Buy [sugar] [en.wikipedia.org/wiki/Sugar]\n  - Buy (happiness) (en.wikipedia.org/wiki/Happiness)\n\nUp even supports [topic: overlapping]!\n\nMarkup\n  ````\n  John **enjoys ==sleeping** late== whenever he can.\n  ````\n\nOutput\n  John **enjoys ==sleeping** late== whenever he can.\n\n\nUp produces fully accessible HTML\n=================================\n\nFrom the table of contents to the last movie-ruining spoiler, Up produces fully accessible HTML. This means people who have trouble viewing a screen or a using mouse can enjoy every document.\n\n\n\n=================\nWhy *not* use Up?\n=================\n\nYou want a rich ecosystem of tools\n==================================\n\nSo far, there is only one [software library for Up] (npmjs.com/package/up-lang), written and maintained by a [single person] (github.com/start). In contrast, [other markup languages] (duckduckgo.com/?q=markdown) have countless tools and plugins.\n\n\nYou need speed\n==============\n\nUp is not terribly slow, but it\'s not terribly fast, either---at least not yet! If you need instant, real-time parsing and rendering of large documents, Up isn\'t the best markup language for you.\n\n\n\n###################\nWriting conventions\n###################\n\nDon\'t get lost! The following terms are occasionally used throughout this section.\n\nWriting convention\n  Any special annotation or formatting recognized by Up.\n\nInline writing convention\n  Any writing convention that can be used within paragraphs. This includes [topic: emphasis] and [topic: highlighting].\n\nOutline writing convention\n  Any non-inline writing convention. This includes [topic: paragraphs] and [topic: tables].\n\n\n==========\nParagraphs\n==========\n\nParagraphs are the simplest writing convention in Up.\n\nMarkup\n  ````\n  Unlike regular dental floss, you can use floss picks even if you\'re not a trained dental hygienist.\n\n  Floss picks are sold in stylish, resealable plastic bags. You have no excuse not to buy some today.\n  ````\n\nOutput\n  Unlike regular dental floss, you can use floss picks even if you\'re not a trained dental hygienist.\n\n  Floss picks are sold in stylish, resealable plastic bags. You have no excuse not to buy some today.\n\nTo produce a paragraph, write a line of text. That\'s all there is to it!\n\nTypically, paragraphs are separated by one or two blank lines. Three or more blank lines between paragraphs indicates a meaningful change of subject. To learn more, see [topic: thematic breaks].\n\nIn contrast, *consecutive* non-blank lines produce [topic: line blocks], not consecutive paragraphs.\n\n\n===========\nLine blocks\n===========\n\nUse the line block convention for addresses, lyrics, or anything consisting of *lines* instead of actual [topic: paragraphs].\n\nMarkup\n  ````\n  Have you read my new poem?\n\n  Roses are red\n  Violets *aren\'t* blue\n  Lyrics have lines\n  And addresses do, too\n\n  Poetry is just too easy.\n  ````\n\nOutput\n  Have you read my new poem?\n\n  Roses are red\n  Violets *aren\'t* blue\n  Lyrics have lines\n  And addresses do, too\n\n  Poetry is just too easy.\n\nConsecutive non-blank lines produce a line block, unless those lines represent another writing convention, like [topic: numbered lists].\n\n\n========\nEmphasis\n========\n\nUse the emphasis convention to emphasize a word or phrase.\n\nIf the reader should pronounce a word or phrase differently (e.g. to indicate contrast or sarcasm), consider emphasizing it.\n\nMarkup\n  ````\n  Only eat the *green* grapes. The red grapes are for Pikachu.\n  ````\n\nOutput\n  Only eat the *green* grapes. The red grapes are for Pikachu.\n\nTo emphasize text, enclose it within single asterisks.\n\nLike most inline writing conventions, emphasis can be nested within itself.\n\nMarkup\n  ````\n  John really, *really, *really** hates Red Delicious apples.\n  ````\n\nOutput\n  John really, *really, *really** hates Red Delicious apples.\n\n\n======\nStress\n======\n\nUse the stress convention to indicate a word or phrase is particularly important.\n\nIf the reader should raise their voice while reading a word or phrase, consider stressing it.\n\nMarkup\n  ````\n  Do **not** step on the dinosaur!\n  ````\n\nOutput\n  Do **not** step on the dinosaur!\n\nTo stress text, enclose it within double asterisks.\n\nLike most inline writing conventions, stress can be nested within itself.\n\nMarkup\n  ````\n  John really, **really, **really**** hates Red Delicious apples.\n  ````\n\nOutput\n  John really, **really, **really**** hates Red Delicious apples.\n\n\n=======\nItalics\n=======\n\nUse the italic convention to stylistically offset a word or phrase from the surrounding text. The titles of books and movies should probably be italicized.\n\nSome authors italicize unfamiliar foreign words.\n\nMarkup\n  ````\n  My favorite video game is _Chrono Cross_.\n  ````\n\nOutput\n  My favorite video game is _Chrono Cross_.\n\nTo italicize text, enclose it within single underscores.\n\nLike most inline writing conventions, italicized text can be nested within itself.\n\nMarkup\n  ````\n  My favorite show is _Real Recipes _Redux_: Super Suppers_.\n  ````\n\nOutput\n  My favorite show is _Real Recipes _Redux_: Super Suppers_.\n\n\n====\nBold\n====\n\nIf you want to make a word or phrase bold without conveying any extra importance, use the bold convention.\n\nThis convention should rarely be used. Usually, there\'s a more appropriate convention!\n\nIf you want to highlight text, see [topic: highlighting]. If you want to indicate the importance of a word of phrase, see [topic: stress].\n\nMarkup\n  ````\n  Has anyone actually used __KABOOM__ cleaning products?\n  ````\n\nOutput\n  Has anyone actually used  __KABOOM__ cleaning products?\n\nTo make text bold, enclose it within double underscores.\n\nLike most inline writing conventions, bold text can be nested within itself.\n\nMarkup\n  ````\n  We\'ve all seen the ads.\n\n  __No hard scrubbing! __KABOOM__... and the stains are gone!__\n  ````\n\nOutput\n  We\'ve all seen the ads.\n\n  __No hard scrubbing! __KABOOM__... and the stains are gone!__\n\n\n=====\nLinks\n=====\n\nYou already know what a link is!\n\nMarkup\n  ````\n  The [Game Boy] (en.wikipedia.org/wiki/Game_Boy) was my first video game system.\n  ````\n\nOutput\n  The [Game Boy] (en.wikipedia.org/wiki/Game_Boy) was my first video game system.\n\nA link consists of two parts: content and a URL.\n\nTo produce a link, simply enclose its content in square brackets or parentheses, then enclose its URL in square brackets or parentheses.\n\nYou can use mix and match either type of bracket---they\'re totally interchangeable.\n\nMarkup\n  ````\n  - Buy [milk] (en.wikipedia.org/wiki/Milk)\n  - Buy (bread) [en.wikipedia.org/wiki/Bread]\n  - Buy [sugar] [en.wikipedia.org/wiki/Sugar]\n  - Buy (happiness) (en.wikipedia.org/wiki/Happiness)\n  ````\n\nOutput\n  - Buy [milk] (en.wikipedia.org/wiki/Milk)\n  - Buy (bread) [en.wikipedia.org/wiki/Bread]\n  - Buy [sugar] [en.wikipedia.org/wiki/Sugar]\n  - Buy (happiness) (en.wikipedia.org/wiki/Happiness)\n\nAs demonstrated above, you can omit a link\'s URL scheme. [^ `http://` and `https://` are examples of URL schemes.] If you do, Up uses `https://` for the URL scheme.\n\nIf you\'re a software developer using the Up library, you can specify a different default URL scheme. To learn more, see [topic: `defaultUrlScheme`].\n\nOther settings affecting links are:\n\n- [topic: `baseForUrlsStartingWithSlash`]\n- [topic: `baseForUrlsStartingWithHashmark`]\n- [topic: `renderDangerousContent`].\n\n\nLinks with URLs containing spaces\n=================================\n\nIf your link URL contains spaces, Up assumes you aren\'t *actually* trying to produce a link. So it avoids producing one!\n\nMarkup\n  ````\n  Warlocked is the best game for GameBoy [sic] (other than Pokémon).\n  ````\n\nOutput\n  Warlocked is the best game for GameBoy [sic] (other than Pokémon).\n\nIf your link URL really does contain spaces, you can make it clear that you intend to produce a link by omitting the space between your link\'s content and its URL.\n\nMarkup\n  ````\n  I love the [music](duckduckgo.com/?q=chrono cross music) for Chrono Cross.\n  ````\n\nOutput\n  I love the [music](duckduckgo.com/?q=chrono cross music) for Chrono Cross.\n\nWhen you omit the space between your link\'s content and its URL, Up always produces a link.\n\nThese rules also apply when [topic: linkifying].\n\n\nBare URLs\n=========\n\nAlternatively, if you include a bare URL in your document, Up will automatically produce a link for you.\n\nMarkup\n  ````\n  https://en.wikipedia.org/wiki/John_Carmack\n  ````\n\nOutput\n  https://en.wikipedia.org/wiki/John_Carmack\n \n\n============\nHighlighting\n============\n\nTo draw attention to text without altering its semantics, using the highlighting convention.\n\nHighlighting should not be used to emphasize or stress text! If that\'s your purpose, see [topic: emphasis] or [topic: stress].\n\nMarkup\n  ````\n  Our cupcakes are organic, ==gluten-free==, and made using only the most expensive ingredients.\n  ````\n\nOutput\n  Our cupcakes are organic, ==gluten-free==, and made using only the most expensive ingredients.\n\nTo highlight text, enclose it within two or more equal signs.\n\nLike most inline writing conventions, highlighting can be nested within itself.\n\nMarkup\n  ````\n  Our cupcakes are ==organic, ==gluten-free==, vegan==, and made using only the most expensive ingredients.\n  ````\n\nOutput\n  Our cupcakes are ==organic, ==gluten-free==, vegan==, and made using only the most expensive ingredients.\n\n\n=============\nInline quotes\n=============\n\nUp automatically recognizes quoted text.\n\nIf you want to quote more a few sentences, considering using [topic: blockquotes].\n\nMarkup\n  ````\n  "Only eat the green grapes," John said.\n  ````\n\nOutput\n  "Only eat the green grapes," John said.\n\nYou already know how to use quotation marks! Just keep doing what you\'re doing.\n\nLike most inline writing conventions, inline quotes can be nested within themselves.\n\nMarkup\n  ````\n  Bob replied, "Yesterday, Harvey yelled "I\'ll take the case!", but I doubt he will."\n  ````\n\nOutput\n  Bob replied, "Yesterday, Harvey yelled "I\'ll take the case!", but I doubt he will."\n\n\n==================\nParenthetical text\n==================\n\nUp automatically recognizes parenthetical text.\n\nMarkup\n  ````\n  When I was ten years old, I left my home (in Pallet Town) to search for Pokémon.\n  ````\n\nOutput\n  When I was ten years old, I left my home (in Pallet Town) to search for Pokémon.\n\nUp understands that text enclosed within parentheses or square brackets represents supplemental, de-emphasized content.\n\n\n==================\nExample user input\n==================\n\nUse the example user input convention to represent user input, including:\n\n- Keys the user should press\n- Buttons the user should click\n- Menu items the user should access\n\nMarkup\n  ````\n    Press {esc} to quit.\n  ````\n\nOutput\n  Press {esc} to quit.\n\nTo indicate that text represents user input, enclose the text within curly brackets.\n\nUp ignores any spaces separating the curly brackets from the content they enclose.\n\nMarkup\n  ````\n  Press { Start Game } when you are ready.\n  ````\nOutput\n  Press { Start Game } when you are ready.\n\nWithin example user input, most writing conventions are ignored. However, [topic: typographical writing conventions] are supported.\n\n\n===========\nInline code\n===========\n\nUse the inline code convention to represent a small fragment of computer code.\n\nWhen you need to represent more than a small fragment of computer code, use [topic: code blocks] instead.\n\nMarkup\n  ````\n  In HTML, you probably shouldn\'t use the `<font>` element.\n  ````\n\nOutput\n  In HTML, you probably shouldn\'t use the `<font>` element.\n\nTo produce inline code, enclose text within an equal number of backticks on either side. You can use any number of backticks---simply make sure both sides match.\n\nMarkup\n  ````\n  In HTML, you probably shouldn\'t use the ``<font>`` element.\n  ````\n\nOutput\n  In HTML, you probably shouldn\'t use the ``<font>`` element.\n\nWithin inline code, other writing conventions are ignored. Characters that normally have special meaning are preserved as plain text.\n\nMarkup\n  ````\n  In Up, surround text with `*asterisks*` to emphasize it.\n  ````\n\nOutput\n  In Up, surround text with `*asterisks*` to emphasize it.\n\n\nIncluding backticks in your code\n================================\n\nTo include backticks within inline code, you can precede each backtick with a backslash.\n\nMarkup\n  ````\n  `let output = \\`score:\\` + 5`\n  ````\n\nOutput\n  `let output = \\`score:\\` + 5`\n\nFor more information about the behavior of backslashes, see [topic: disabling].\n\nAlternatively, inline code can contain streaks of backticks that aren\'t exactly as long as the inline code\'s outer delimiters. No backslashes are necessary.\n\nIn this example, the delimiters are **1** backtick long, so the inline code can contain streaks of **2** backticks:\n\nMarkup\n  ````\n  `let output = ``score:`` + 5`\n  ````\n\nOutput\n  `let output = ``score:`` + 5`\n\nIn this example, the delimiters are **2** backticks long, so the inline code can contain "streaks" of **1** backtick:\n\nMarkup\n  ````\n  ``let output = `score:` + 5``\n  ````\n\nOutput\n  ``let output = `score:` + 5``\n\n--------------------------------------\nCode starting or ending with backticks\n--------------------------------------\n\nIf your inline code starts or ends with backticks, place a single space between the offending backticks and the outer delimiter. This single space is trimmed away.\n\nIn this example, the inline code both starts and ends with a backtick:\n\nMarkup\n  ````\n  `` `inline_code` ``\n  ````\n\nOutput\n  `` `inline_code` ``\n\nAny spaces beyond that single space are preserved---if there are multiple spaces between the delimiter and the starting/ending backticks, only one space is trimmed away.\n\nMarkup\n  ````\n  ``    `inline_code`    ``\n  ````\n\nOutput\n  ``    `inline_code`    ``\n\nFurthermore, that single space is only trimmed away when it\'s necessary to separate a delimiter from backticks in your inline code. If a given "side" of inline code has any non-space characters between the delimiter and the outermost backtick, no spaces are trimmed from that side.\n\nMarkup\n  ````\n  `` (`inline_code`) ``\n  ````\n\nOutput\n  `` (`inline_code`) ``\n\n\n========\nHeadings\n========\n\nUse headings to introduce a new section in the document.\n\nMarkup\n  ````\n  Example heading\n  ===============\n  ````\n\nOutput\n  Example heading\n  ===============\n\nIf text is underlined, it\'s treated as a heading. The underline can consist of any combination of the following characters (you can mix and match):\n\n- Hyphens: `-`\n- Number signs: `#`\n- Equal signs: `=`\n- Plus signs: `+`\n- Tildes: `~`\n- Colons: `:`\n- Asterisks: `*`\n- At signs: `@`\n\nA heading\'s underline must be at least three characters long, but it does *not* need to be the same length as the text of the heading.\n\nMarkup\n  ````\n  Example heading with a short underline\n  ===\n  ````\n\nOutput\n  Example heading with a short underline\n  ===\n\n\nHeading levels\n==============\n\nThe first heading in a document is always a top-level heading. All subsequent headings with underlines consisting of the same characters are considered top-level.\n\nThe first heading with a different combination of underline characters is considered a second-level heading. Unsurprisingly, all subsequent headings with underlines consisting of the same characters are also considered second-level.\n\nThis process continues _ad infinitum_. Every new combination of heading underline characters introduces a new heading level. There is no limit to the number of heading levels in a document.\n\n\nHeadings with "overlines"\n=========================\n\nA heading can have an optional "overline", but its overline must consist of the same combination of characters as its underline.\n\nMarkup\n  ````\n  --------------------------------\n  Example heading with an overline\n  --------------------------------\n  ````\n\nOutput\n  --------------------------------\n  Example heading with an overline\n  --------------------------------\n\nFor the purpose of determining heading levels, a heading with an overline is always considered distinct from a heading without one, even if both headings use the same combination of underline characters.\n\nTherefore, a heading with an overline will never have the same level as a heading without an overline.\n\n\n=============\nSection links\n=============\n\nUse the section link convention to link to another section (heading) in your document.\n\nMarkup\n  ````\n  Up even supports [topic: overlapping]!\n  ````\n\nOutput\n  Up even supports [topic: overlapping]!\n\nTo link to a heading, choose a unique snippet of markup from that heading\'s content line. [^ Don\'t worry about the heading\'s underline or overline! Section links ignore both.] Enclose that market snippet within square brackets or parentheses, then insert `topic:` or `section:` directly inside your opening bracket.\n\nUp automatically matches your snippet to the most appropriate heading, then produces a link for you.\n\n\nMatching the most appropriate heading\n=====================================\n\nInitially, Up tries to match your section link to the first heading whose content line\'s markup *exactly matches* your snippet. [^ Up totally ignores the capitalization of section links\' markup snippets, so a section link and a heading can be an "exact match" without being capitalized the same way.] If there isn\'t an exact match, Up matches your section link to the first heading whose content line markup *contains* your snippet.\n\n\n=========\nFootnotes\n=========\n\nUse the footnote convention for asides or citations---anything you want to say without breaking the flow of a paragraph.\n\nFootnotes are automatically extracted into blocks for you.\n\nMarkup\n  ````\n  Warlocked [^ No relation to Warcraft!] is a real-time strategy game.\n  ````\n\nOutput\n  Warlocked [^ No relation to Warcraft!] is a real-time strategy game.\n\nTo produce a footnote, enclose its content within parentheses or square brackets. Then, insert a caret `^` directly after your opening bracket.\n\n\n=====\nMedia\n=====\n\nUp allows you to embed [topic: images], [topic: video], or [topic: audio] in your document.\n\n\nImages\n======\n\nMarkup\n  ````\n  [image: Super Mario Land box art] (i.imgur.com/TxlFlkX.jpg)\n  ````\n\nOutput\n  [image: Super Mario Land box art] (i.imgur.com/TxlFlkX.jpg)\n\nIf you want to link your image to another page, please see [topic: linkifying].\n\n\nVideo\n=====\n\nMarkup\n  ````\n  [video: Professor Leonard] (i.imgur.com/32fBpnh.mp4)\n  ````\n\nOutput\n  [video: Professor Leonard] (i.imgur.com/32fBpnh.mp4)\n\n\nAudio\n=====\n\nMarkup\n  ````\n  [audio: Sadness theme from Infinity for Game Boy] (a.clyp.it/ybct5hcl.mp3)\n  ````\n\nOutput\n  [audio: Sadness theme from Infinity for Game Boy] (a.clyp.it/ybct5hcl.mp3)\n\n\nSyntax\n======\n\nTo embed media in your document, simply enclose its description in square brackets or parentheses, then enclose its URL in square brackets or parentheses.\n\nYou can use mix and match either type of bracket---they\'re totally interchangeable.\n\n------------------\nMedia descriptions\n------------------\n\nMedia descriptions always start with `image:`, `audio:`, or `video:`, depending on the type of media you wish to include.\n\nWithin media descriptions, most writing conventions are ignored. However, [topic: typographical writing conventions] are supported.\n\n----------\nMedia URLs\n----------\n\nAs demonstrated above, you can omit the URL scheme for media URLs. If you do, Up uses `https://` for the URL scheme.\n\nIf you\'re a software developer using the Up library, you can specify a different default URL scheme. To learn more, see [topic: `defaultUrlScheme`].\n\nOther settings affecting media are:\n\n- [topic: `baseForUrlsStartingWithSlash`]\n- [topic: `baseForUrlsStartingWithHashmark`]\n- [topic: `renderDangerousContent`].\n\n\n==================\nRevealable content\n==================\n\nBoth [topic: inline revealables] and [topic: revealable blocks] recognize any of the following keywords:\n\n- `spoiler`\n- `nsfw`\n- `nsfl`\n- `revealable`\n\nLike all keywords in Up, you can capitalize them however you want.\n\n\nInline revealables\n==================\n\nUse the inline revealable convention to hide content within a paragraph.\n\nWhen you want to hide more than a sentence or two, use [topic: revealable blocks] instead.\n\nMarkup\n  ````\n  At the end of Pokémon Red, [SPOILER: you battle your rival] before the credits roll.\n  ````\n\nOutput\n  At the end of Pokémon Red, [SPOILER: you battle your rival] before the credits roll.\n\nTo hide content within a paragraph, first enclose that content within square brackets or parentheses.\n\nThen, directly inside your opening bracket, insert one of the revealable keywords followed by a colon: `spoiler:`, `nsfw:`, `nsfl:`, or `revealable:`.\n\nInline revealables can contain any inline writing convention.\n\n\nRevealable blocks\n==================\n\nUse revealable block convention to hide a block of content.\n\nWhen you want to hide content within a paragraph, use [topic: inline revealables] instead.\n\nMarkup\n  ````\n  SPOILER:\n    After defeating the Elite Four at the end of Pokémon Red, you still have to battle your rival one last time.\n\n    Your rival\'s specific lineup depends on the Pokémon you selected at the beginning of the game. However, his first three Pokémon are always the same:\n\n    1. Pidgeot\n    2. Alakazam\n    3. Rhydon\n  ````\n\nOutput\n  SPOILER:\n    After defeating the Elite Four at the end of Pokémon Red, you still have to battle your rival one last time.\n\n    Your rival\'s specific lineup depends on the Pokémon you selected at the beginning of the game. However, his first three Pokémon are always the same:\n\n    1. Pidgeot\n    2. Alakazam\n    3. Rhydon\n\nTo hide a block of content, first indent it two spaces (or a tab).\n\nThen, on the line *before* your indented block, put one of the revealable keywords: `spoiler`, `nsfw`, `nsfl`, or `revealable`.\n\nIn the example above, the chosen revealable keyword (`spoiler`) is followed by a colon. The colon is optional.\n\n\n===========\nBlockquotes\n===========\n\nUse the blockquote convention to quote a large section of text.\n\nFor typical dialog, you should probably use [topic: inline quotes] instead.\n\nMarkup\n  ````\n  > I hate oranges for the following reasons:\n  >\n  > 1. They\'re not apples.\n  > 2. They\'re not bananas.\n  ````\n\nOutput\n  > I hate oranges for the following reasons:\n  >\n  > 1. They\'re not apples.\n  > 2. They\'re not bananas.\n\nA blockquote consists of consecutive lines starting with `> ` (a greater-than symbol followed by a space).\n\nBlockquotes can contain any outline writing convention, including other blockquotes.\n\nMarkup\n  ````\n  > Thank you for replying to my blog!\n  >\n  > > I hate oranges for the following reasons:\n  > >\n  > > 1. They\'re not apples.\n  > > 2. They\'re not bananas.\n  >\n  > I completely understand.\n  ````\n\nOutput\n  > Thank you for replying to my blog!\n  >\n  > > I hate oranges for the following reasons:\n  > >\n  > > 1. They\'re not apples.\n  > > 2. They\'re not bananas.\n  >\n  > I completely understand.\n\n\n===============\nThematic breaks\n===============\n\nUse the thematic break convention to represent a change of subject.\n\nA thematic break can be represented by 3 or more consecutive blank lines.\n\nMarkup\n  ````\n  I vowed never to eat apples again.\n\n\n\n  By mid-March, a second flock of birds had moved into my dining room.\n  ````\n\nOutput\n  I vowed never to eat apples again.\n\n\n\n  By mid-March, a second flock of birds had moved into my dining room.\n\nA thematic break can *also* be represented by a line consisting of 3 or more of the following characters:\n\n- Hyphens: `-`\n- Number signs: `#`\n- Equal signs: `=`\n- Plus signs: `+`\n- Tildes: `~`\n- Colons: `:`\n- Asterisks: `*`\n- At signs: `@`\n\nYou can use any combination of those characters!\n\nMarkup\n  ````\n  I vowed never to eat apples again.\n\n  #=*=*=*=*=*=*=*=*=*=#\n\n  By mid-March, a second flock of birds had moved into my dining room.\n  ````\n\nOutput\n  I vowed never to eat apples again.\n\n  #=*=*=*=*=*=*=*=*=*=#\n\n  By mid-March, a second flock of birds had moved into my dining room.\n\n\n==============\nBulleted lists\n==============\n\nYou already know what a bulleted list is!\n\nMarkup\n  ````\n  - Buy milk\n  - Buy bread\n  - Buy happiness\n  ````\n\nOutput\n  - Buy milk\n  - Buy bread\n  - Buy happiness\n\n\nBullets\n=======\n\nEvery bulleted list item starts with a bullet followed by a space. The following characters can serve as a bullet:\n\n- A hyphen: `-`\n- An asterisk: `*`\n- An actual bullet character: `•`\n\n\nSpacing between list items\n==========================\n\nEach list item can be followed by a single blank line. This has no impact on the list itself.\n\nMarkup\n  ````\n  - Buy milk\n\n  - Buy bread\n\n  - Buy happiness\n  ````\n\nOutput\n  - Buy milk\n\n  - Buy bread\n\n  - Buy happiness\n\nOn the other hand, if a list item is followed by 2 blank lines, it marks the end of the list.\n\nMarkup\n  ````\n  - Buy milk\n  - Buy bread\n\n\n  - Fix squeaky cabinet\n  - Fix self-esteem\n  ````\n\nOutput\n  - Buy milk\n  - Buy bread\n\n\n  - Fix squeaky cabinet\n  - Fix self-esteem\n\n\nList items consisting of multiple lines\n=======================================\n\nList items aren\'t limited to a single line!  Bulleted lists can contain any outline writing convention, including other bulleted lists.\n\nIf your list item contains more than one line, subsequent lines should be indented 2 spaces (or a tab).\n\nMarkup\n  ````\n  - Buy milk.\n\n    If whole milk is on sale, buy that. Otherwise, buy 2%.\n\n  - Buy bread.\n\n    Only buy bread from one of the following brands:\n\n    * Little Northern Bakehouse\n    * Udi\'s\n    * Canyon Bakehouse\n\n  - Buy happiness.\n\n    Don\'t spend more than a few cents on this.\n  ````\n\nOutput\n  - Buy milk.\n\n    If whole milk is on sale, buy that. Otherwise, buy 2%.\n\n  - Buy bread.\n\n    Only buy bread from one of the following brands:\n\n    * Little Northern Bakehouse\n    * Udi\'s\n    * Canyon Bakehouse\n\n  - Buy happiness.\n\n    Don\'t spend more than a few cents on this. Not worth it.\n\n\n==============\nNumbered lists\n==============\n\nYou already know what a numbered list is!\n\nMarkup\n  ````\n  1. Buy milk\n  2. Buy bread\n  3. Buy happiness\n  ````\n\nOutput\n  1. Buy milk\n  2. Buy bread\n  3. Buy happiness\n\nNumbered lists are nearly identical to [topic: bulleted lists]---the only difference is that numbered list items have ordinals, not bullets.\n\nThe ordinal for a numbered list item can be expressed several ways:\n\n- An integer followed by a period: `1.`\n- An integer followed by a closing parenthesis: `1)`\n- A number sign: `#`\n- A number sign followed by a period: `#.`\n- A number sign followed by a closing parenthesis: `#)`\n\nLike each bullet in a bulleted list, each ordinal in a numbered list must be followed by a space.\n\n\nLists starting at a specific number\n===================================\n\nNumbered lists don\'t have to start at `1`.\n\nMarkup\n  ````\n  3) March\n  #) April\n  #) May\n  ````\n\nOutput\n  3) March\n  #) April\n  #) May\n\n\nLists in descending order\n=========================\n\nUp automatically recognizes when a numbered list is in descending order.\n\nIf a numbered list has at least two items with *integer* ordinals (as opposed to number signs), and if the first integer is greater than the second, Up considers the list to be in descending order.\n\nMarkup\n  ````\n  3) Buy milk\n  2) Buy bread\n  #) Buy happiness\n  ````\n\nOutput\n  3) Buy milk\n  2) Buy bread\n  #) Buy happiness\n\n\nSingle-item numbered lists\n==========================\n\nLike bulleted lists, numbered lists can consist of a single item.\n\nMarkup\n  ````\n  1) Buy milk\n  ````\n\nOutput\n  1) Buy milk\n\nThere\'s a small exception to this rule: If your list item\'s ordinal is expressed as an integer followed by a period (e.g. `1.`), you must have more than one list item. This exception helps prevent "accidental" numbered lists.\n\nMarkup\n  ````\n  1783. Not a good year for Great Britain.\n  ````\n\nOutput\n  1783. Not a good year for Great Britain.\n\n\n=================\nDescription lists\n=================\n\nUse description lists represent a collection of subjects and their descriptions.\n\nYou can use description lists for:\n\n- Terms and definitions\n- Questions and answers\n- Any collection of subjects and descriptions!\n\nMarkup\n  ````\n  Kirby\'s Dreamland\n    A video game about a flying marshmallow.\n\n  Super Mario Land\n    A video game about a jumping plumber.\n  ````\n\nOutput\n  Kirby\'s Dreamland\n    A video game about a flying marshmallow.\n\n  Super Mario Land\n    A video game about a jumping plumber.\n\nEvery item in a description list consists of two parts:\n\n1. One or more subjects\n2. A single description of those subjects\n\n\nSubjects\n========\n\nSubjects can contain any inline writing convention.\n\nMarkup\n  ````\n  `<ol>`\n    An HTML element representing numbered lists.\n\n  `<ul>`\n    An HTML element representing bulleted lists.\n  ````\n\nOutput\n  `<ol>`\n    An HTML element representing numbered lists.\n\n  `<ul>`\n    An HTML element representing bulleted lists.\n\nWhen there is more than one subject for a given description, they should be listed consecutively, one subject per line.\n\nMarkup\n  ````\n  Game Boy Light\n  Game Boy Pocket\n  Game Boy Color\n    Handheld videogame systems released by Nintendo in the 1990s.\n  ````\n\nOutput\n  Game Boy Light\n  Game Boy Pocket\n  Game Boy Color\n    Handheld videogame systems released by Nintendo in the 1990s.\n\n\nDescriptions\n============\n\nEach description follows the subjects it describes.\n\nDescriptions are indented 2 spaces (or a tab). They can contain any outline writing convention, including other description lists.\n\nMarkup\n  ````\n  Bulbasaur\n    A plant Pokémon with a bulb growing from its back.\n\n    Height\n      0.7 m\n    Weight\n      6.9 kg\n\n  Charmander\n    A fire Pokémon with a flame on its tail.\n\n    Height\n      0.6 m\n    Weight\n      8.5 kg\n\nOutput\n  Bulbasaur\n    A plant Pokémon with a bulb growing from its back.\n\n    Height\n      0.7 m\n    Weight\n      6.9 kg\n\n  Charmander\n    A fire Pokémon with a flame on its tail.\n\n    Height\n      0.6 m\n    Weight\n      8.5 kg\n\nEach description may be followed by an optional blank line. If a description is followed by two blank lines, it marks the end of the description list.\n\nMarkup\n  ````\n  Lime\n    A green fruit.\n  Strawberry\n    A red fruit.\n\n\n  Bulbasaur\n    A green Pokémon.\n  Charmander\n    A red Pokémon.\n  ````\n\nOutput\n  Lime\n    A green fruit.\n  Strawberry\n    A red fruit.\n\n\n  Bulbasaur\n    A green Pokémon.\n  Charmander\n    A red Pokémon.\n\n\n======\nTables\n======\n\nYou already know what a table is! Use tables to display rows of data organized into columns.\n\nMarkup\n  ````\n  Table: Moves learned by the Pokémon Bulbasaur\n\n  Move;         Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n  ````\n\nOutput\n  Table: Moves learned by the Pokémon Bulbasaur\n\n  Move;         Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n\nA table consists of:\n\n- An optional caption, representing the table\'s title\n- A header row, describing each column\n- Content rows, representing the actual data\n- An optional header column, describing each row\n\nTable cells are separated by semicolons. To learn more, see [topic: cells].\n\nOur examples use extra spaces to align cells. This makes our markup more readable, but it\'s strictly optional! If you want, you can squish your cells together, as long as any empty cells contain at least one space. To learn more, please see [topic: empty cells].\n\nSquished markup\n  ````\n  Table: My favorite fruits\n\n  Fruit;Color;Taste\n\n  Lime;Green;Sour\n  Lemon;Yellow;Sour\n  Banana;Yellow;Sweet\n  ````\n\nOutput\n  Table: My favorite fruits\n\n  Fruit;Color;Taste\n\n  Lime;Green;Sour\n  Lemon;Yellow;Sour\n  Banana;Yellow;Sweet\n\n\nThe caption\n===========\n\nThe text after `Table:` is treated as the table\'s caption. Captions can contain any inline writing convention.\n\nMarkup\n  ````\n  Table: My favorite [fruits] (en.wikipedia.org/wiki/Fruit)\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Lemon;      Yellow;     Sour\n  Banana;     Yellow;     Sweet\n  ````\n\nOutput\n  Table: My favorite [fruits] (en.wikipedia.org/wiki/Fruit)\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Lemon;      Yellow;     Sour\n  Banana;     Yellow;     Sweet\n\nCaptions are strongly encouraged, but they\'re not required. To create a table without a caption, simply put "Table" on its own line.\n\nMarkup\n  ````\n  Table\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Lemon;      Yellow;     Sour\n  Banana;     Yellow;     Sweet\n  ````\n\nOutput\n  Table\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Lemon;      Yellow;     Sour\n  Banana;     Yellow;     Sweet\n\n\nCells\n=====\n\nTable cells are separated by semicolons. If you want to include a semicolon in a cell, simply put a backslash before it. To learn more, see [topic: disabling special characters].\n\nMarkup\n  ````\n  Table: My favorite fruits\n\n  Fruit;      Reason for liking\n\n  Apples;     Easy to eat\\; stylish\n  Grapes;     Each grape is very cheap\n  Oranges;    The color orange is nice\n  ````\n\nOutput\n  Table: My favorite fruits\n\n  Fruit;      Reason for liking\n\n  Apples;     Easy to eat\\; stylish\n  Grapes;     Each grape is very cheap\n  Oranges;    The color orange is nice\n\n-------------------------------\nCells spanning multiple columns\n-------------------------------\n\nIf you want a cell to span two columns, terminate that cell with two semicolons.\n\nMarkup\n  ````\n  Table: My favorite fruits\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Orange;;                Sweet and tart\n  Banana;     Yellow;     Sweet\n  ````\n\nOutput\n  Table: My favorite fruits\n\n  Fruit;      Color;      Taste\n\n  Lime;       Green;      Sour\n  Orange;;                Sweet and tart\n  Banana;     Yellow;     Sweet\n\nLikewise, if you want a cell to span six columns, terminate that cell with six semicolons.\n\n-----------\nEmpty cells\n-----------\n\nA cell consisting solely of spaces (one or more) is considered empty.\n\nNormally, you have to put at least one space in the cell, because consecutive semicolons indicate that you want the previous cell to span multiple columns.\n\nHowever, to indicate that the *first* cell in a row should be empty, simply start that row with a semicolon. You don\'t need to put any spaces before it.\n\nMarkup\n  ````\n  Table: Games in the Chrono series\n\n  Release Date;       Game;\n\n  March 11, 1995;     Chrono Trigger\n  November 18, 1999;  Chrono Cross\n  ;                   Chrono Break\n  ````\n\nOutput\n  Table: Games in the Chrono series\n\n  Release Date;       Game\n\n  March 11, 1995;     Chrono Trigger\n  November 18, 1999;  Chrono Cross\n  ;                   Chrono Break\n\nLikewise, to indicate that the *last* cell in a row should be empty, simply end that row with a semicolon. You don\'t need to add any spaces after it.\n\nMarkup\n  ````\n  Table: Games in the Chrono series\n\n  Game;               Release Date\n\n  Chrono Trigger;     March 11, 1995\n  Chrono Cross;       November 18, 1999\n  Chrono Break;\n  ````\n\nOutput\n  Table: Games in the Chrono series\n\n  Game;               Release Date\n\n  Chrono Trigger;     March 11, 1995\n  Chrono Cross;       November 18, 1999\n  Chrono Break;\n\n\nThe header row\n==============\n\nThe header defines each column in the table.\n\nThe single blank lines before and after the header are not required.\n\nMarkup\n  ````\n  Table: Moves learned by the Pokémon Bulbasaur\n  Move;         Type;     Power;  Accuracy\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n  ````\n\nOutput\n  Table: Moves learned by the Pokémon Bulbasaur\n  Move;         Type;     Power;  Accuracy\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n\nCells in a table\'s header can contain any inline writing convention.\n\n\nContent rows\n============\n\nThe "content rows" of a table follow its header row. The content rows contain the table\'s actual data.\n\nIf a content row is followed by a blank line, it ends the table.\n\nMarkup\n  ````\n  Table: Moves learned by the Pokémon Bulbasaur\n\n  Move;         Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n\n  I love Bulbasaur!\n\n  ````\n\nOutput\n  Table: Moves learned by the Pokémon Bulbasaur\n\n  Move;         Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n\n  I love Bulbasaur!\n\nContent row cells can contain any inline writing convention.\n\n\nIncluding a header column in your table\n=======================================\n\nTo indicate your table has a header column, simply indent its header *row* at least two spaces (or a tab).\n\nWhen you indent a table\'s the header row, Up automatically treats the first cell in each subsequent row as the header column.\n\nMarkup\n  ````\n  Table: Moves learned by the Pokémon Bulbasaur\n\n                Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n  ````\n\nOutput\n  Table: Moves learned by the Pokémon Bulbasaur\n\n                Type;     Power;  Accuracy\n\n  Tackle;       Normal;   50;     100%\n  Growl;        Normal;   ;       100%\n  Leech Seed;   Grass;    ;       90%\n  Vine Whip;    Grass;    45;     100%\n\nWhen your table has a header column, Up automatically inserts an extra blank cell at the beginning of the header row in the top level corner, above the header column.\n\n\n===========\nCode blocks\n===========\n\nUse the code block convention to represent a block of computer code.\n\nWhen you need to represent only a small fragment of computer code, consider using [topic: inline code] instead.\n\nMarkup\n  ````````\n  ```\n  function nthFibonacci(n: number): number {\n    return n <= 2\n      ? n - 1\n      : nthFibonacci(n - 1) + nthFibonacci(n - 2)\n  }\n  ```\n  ````````\n\nOutput\n  ```\n  function nthFibonacci(n: number): number {\n    return n <= 2\n      ? n - 1\n      : nthFibonacci(n - 1) + nthFibonacci(n - 2)\n  }\n  ```\n\nCode blocks are surrounded (underlined and "overlined") by matching streaks of 3 or more backticks.\n\nIf there is no matching end streak, the code block extends to the end of the document (or to the end of the current outline writing convention, if the code block is nested within one).\n\nWithin a code block, indentation is preserved, and every single character is treated literally. No other writing conventions are recognized, which means code blocks don\'t support [topic: disabling].\n\n\nIncluding streaks of backticks\n==============================\n\nCode blocks can contain streaks of backticks that aren\'t exactly as long as the enclosing streaks.\n\nMarkup\n  `````````\n  ``````\n  A code block:\n\n  ```\n  function factorial(n: number): number {\n    return n <= 1\n      ? 1\n      : n * factorial(n - 1)\n  }\n  ```\n\n  See? Not so hard!\n  ``````\n  `````````\n\nOutput\n  ``````\n  A code block:\n\n  ```\n  function factorial(n: number): number {\n    return n <= 1\n      ? 1\n      : n * factorial(n - 1)\n  }\n  ```\n\n  See? Not so hard!\n  ``````\n\n\n=====================================\nLinkifying another writing convention\n=====================================\n\nYou can put [topic: images] inside of [topic: links], but the syntax can be a bit messy.\n\nMessy markup\n  ````\n  [(image: Warlocked box art) (i.imgur.com/879AeYU.jpg)] [en.wikipedia.org/wiki/Warlocked]\n  ````\n\nOutput\n  [(image: Warlocked box art) (i.imgur.com/879AeYU.jpg)] [en.wikipedia.org/wiki/Warlocked]\n\nThat\'s a lot of brackets! Luckily, there\'s a shortcut.\n\nSimply place the "linkifying" URL after the image\'s own URL, and Up will produce a link for you.\n\nCleaner markup\n  ````\n  [image: Warlocked box art] [i.imgur.com/879AeYU.jpg] (en.wikipedia.org/wiki/Warlocked)\n  ````\n\nOutput\n  [image: Warlocked box art] [i.imgur.com/879AeYU.jpg] (en.wikipedia.org/wiki/Warlocked)\n\nWhen linkifying an image, you can mix and match square brackets and parentheses---they\'re totally interchangeable.\n\nThis shortcut also works for the following inline writing conventions:\n\n[topic: Example user input]\n  Markup\n    ````\n    Press {space} (en.wikipedia.org/wiki/Space_bar) to continue.\n    ````\n\n  Output\n    Press {space} (en.wikipedia.org/wiki/Space_bar) to continue.\n\n[topic: Footnotes]\n  Markup\n    ````\n    Pokémon is old [^ Released in 1996!] (en.wikipedia.org/wiki/Pokémon_Red_and_Blue) but it maintains its charm.\n    ````\n\n  Output\n    Pokémon is old [^ Released in 1996!] (en.wikipedia.org/wiki/Pokémon_Red_and_Blue) but it maintains its charm.\n\n[topic: Inline revealables]\n  Markup\n    ````\n    At the end of Pokémon Red, [SPOILER: you battle your rival] (pokemon.wikia.com/wiki/Rival) before the credits roll.\n    ````\n\n  Output\n    At the end of Pokémon Red, [SPOILER: you battle your rival] (pokemon.wikia.com/wiki/Rival) before the credits roll.\n\n\n=================================\nTypographical writing conventions\n=================================\n\nEllipsis\n========\n\nConsecutive periods represent an ellipsis, so Up replaces them with a fancy ellipsis character.\n\nMarkup\n  ````\n  I don\'t know... I doubt a dog would do this.\n  ````\n\nOutput\n  I don\'t know... I doubt a dog would do this.\n\nIf you\'re a software developer using the Up library, you can specify a different fancy ellipsis (e.g. `⋯`). To learn more, see [topic: `fancyEllipsis`].\n\n\nEn dash\n=======\n\nTwo consecutive hyphens produce an en dash.\n\nMarkup\n  ````\n  I agree -- to an extent -- with your plan to eat nothing but cereal.\n  ````\n\nOutput\n  I agree -- to an extent -- with your plan to eat nothing but cereal.\n\n\nEm dash\n=======\n\nThree consecutive hyphens produce an em dash.\n\nMarkup\n  ````\n  Use a spoon---a fork won\'t cut it.\n  ````\n\nOutput\n  Use a spoon---a fork won\'t cut it.\n\n\nPlus-minus sign\n===============\n\nA plus sigh followed by a hyphen produces a plus-minus sign.\n\nMarkup\n  ````\n  I ate 5 waffles +- 2.\n  ````\n\nOutput\n  I ate 5 waffles +- 2.\n\n\n==============================\nExcessive delimiter characters\n==============================\n\nFor [topic: emphasis], [topic: stress], [topic: italic], [topic: bold], [topic: highlighting], and [topic: inline quotes], Up ignores any excessive delimiter characters.\n\nMarkup\n  ````\n  This is a """"great"""" pie.\n  ````\n\nOutput\n  This is a """"great"""" pie.\n\nThis includes when delimiter characters aren\'t perfectly balanced on either side.\n\nMarkup\n  ````\n  My favorite video game is _Chrono Cross__.\n  ````\n\nOutput\n  My favorite video game is _Chrono Cross__.\n\n\n============================\nDisabling special characters\n============================\n\nTo disable the special meaning of a character, put a backslash before it.\n\nMarkup\n  ````\n  I love \\*asterisks*!\n  ````\n\nOutput\n  I love \\*asterisks\\*!\n\nLikewise, to disable the special meaning of a backslash, put another backslash before it.\n\nMarkup\n  ````\n  My favorite kind of slash is the backslash: \\\\. What is yours?\n  ````\n\nOutput\n  My favorite kind of slash is the backslash: \\\\. What is yours?\n\n\n===============================\nOverlapping writing conventions\n===============================\n\nIn Up, inline writing conventions can freely overlap.\n\nMarkup\n  ````\n  John **enjoys ==sleeping** late== whenever he can.\n  ````\n\nOutput\n  John **enjoys ==sleeping** late== whenever he can.\n\n\nSuperficial overlapping\n=======================\n\nIf conventions overlap superficially---by only their start or end delimiters---Up pretends they weren\'t overlapped at all.\n\nMarkup\n  ````\n  At the end of Pokémon Red, [SPOILER: you battle your rival *yet again]* before the credits roll.\n  ````\n\nOutput\n  At the end of Pokémon Red, [SPOILER: you battle your rival *yet again]* before the credits roll.\n\n\n\n####################\nUsing the Up library\n####################\n\nThe Up library can be [found on NPM] (npmjs.com/package/up-lang).\n\n\n============\nInstallation\n============\n\n````\nnpm install up-lang --save\n````\n\n\n==============\nUsage Overview\n==============\n\nTypically, you\'ll want to use one of the various [topic: functions] exported by the library.\n\n````\nconst { parseAndRender } = require(\'up-lang\')\n\nconst html = parseAndRender(markup, optionalSettings)\n````\n\nAlternatively, you can use the exported `Up` class, which can be helpful if you need to parse or render several documents sharing custom settings. Please see [topic: `Up`] to learn more.\n\nIf you plan to modify or analyze a parsed document, you\'ll want to check out the [topic: abstract syntax tree classes].\n\n\n=========\nFunctions\n=========\n\n`parseAndRender` (function)\n===========================\n\nThis function converts Up markup into HTML and returns the result.\n\nArguments\n  `markup`: `string`\n    The Up markup to convert into HTML.\n  `settings` (optional): [topic: `Settings`]\n    The custom parsing and/or rendering settings to apply.\n\nReturn type: `string`\n  This function returns HTML representing the rendered document.\n\nUsage\n  Without custom settings\n    ````\n    const html = parseAndRender(markup)\n    ````\n\n  With custom settings\n    ````\n    const html = parseAndRender(markup, {\n      parsing: {\n        createSourceMap: true,\n        keywords: { audio: "listen" }\n      },\n      rendering: {\n        idPrefix: "article"\n      }\n    })\n    ````\n\n\n`parseAndRenderWithTableOfContents` (function)\n==============================================\n\nThis function converts Up markup into two pieces of HTML, both of which are returned:\n\n1. A table of contents\n2. The document itself\n\nArguments\n  `markup`: `string`\n    The Up markup to parse and render.\n  `settings` (optional): [topic: `Settings`]\n    The custom parsing and/or rendering settings to apply.\n\nReturn type: [topic: `DocumentAndTableOfContentsHtml`]\n  This function returns HTML representing the rendered document and table of contents.\n\nUsage\n  Without custom settings\n    ````\n    const { tableOfContentsHtml, documentHtml } =\n      parseAndRenderWithTableOfContents(markup)\n    ````\n\n  With custom settings\n    ````\n    const { tableOfContentsHtml, documentHtml } =\n      parseAndRenderWithTableOfContents(markup, {\n        parsing: {\n          createSourceMap: true,\n          keywords: { audio: "listen" }\n        },\n        rendering: {\n          idPrefix: "article",\n          terms: { reveal: "expand" }\n        }\n      })\n    ````\n\n\n--------------------------------------------\n`DocumentAndTableOfContentsHtml` (interface)\n--------------------------------------------\n\nThis interface represents the HTML for a rendered document and its table of contents.\n\nMembers\n  `tableOfContentsHtml`: `string`\n    The HTML for the table of contents.\n\n  `documentHtml`: `string`\n    The HTML for the document itself.\n\nNotes\n  The following functions return an object satisfying this interface:\n\n  - [topic: `parseAndRenderWithTableOfContents`]\n  - [topic: `renderWithTableOfContents`]\n\n\n`parseAndRenderInline` (function)\n=================================\n\nThis function converts inline Up markup into inline HTML and returns the result.\n\nTo learn more about inline documents, see [topic: inline documents].\n\nArguments\n  `inlineMarkup`: `string`\n    The inline Up markup to convert into inline HTML.\n  `parsingSettings` (optional): [topic: `Settings`]\n    The custom parsing and/or rendering settings to apply.\n\nReturn type: `string`\n  This function returns HTML representing the rendered inline document.\n\nUsage\n  Without custom settings\n    ````\n    const html = parseAndRenderInline(markup)\n    ````\n\n  With custom settings\n    ````\n    const html = parseAndRenderInline(markup, {\n      parsing: {\n        baseForUrlsStartingWithSlash: "https://example.com/en-us",\n        keywords: { audio: "listen" }\n      },\n      rendering: {\n        idPrefix: "byline",\n        terms: {\n          footnoteReference: "footnote mention",\n          reveal: "show"\n        }\n      }\n    })\n    ````\n\n\n`parse` (function)\n==================\n\nThis function parses Up markup and returns the resulting syntax tree.\n\nArguments\n  `markup`: `string`\n    The Up markup to parse.\n\n  `parsingSettings` (optional): [topic: `Settings.Parsing`]\n    The custom parsing settings to apply.\n\nReturn type: [topic: `Document`]\n  This function returns a syntax tree representing the parsed document.\n\nUsage\n  Without custom settings\n    ````\n    const html = parse(markup)\n    ````\n\n  With custom settings\n    ````\n    const document = parse(markup, {\n      createSourceMap: true,\n      keywords: { audio: "listen" }\n    })\n    ````\n\n\n`parseInline` (function)\n========================\n\nThis function parses inline Up markup and returns the resulting inline syntax tree.\n\nTo learn more about inline documents, see [topic: inline documents].\n\nArguments\n  `inlineMarkup`: `string`\n    The inline Up markup to parse.\n\n  `parsingSettings` (optional): [topic: `Settings.Parsing`]\n    The custom parsing settings to apply.\n\nReturn type: [topic: `InlineDocument`]\n  This function returns an inline syntax tree representing the parsed document.\n\nUsage\n  Without custom settings\n    ````\n    const html = parseInline(markup)\n    ````\n\n  With custom settings\n    ````\n    const html = parseInline(markup, {\n      baseForUrlsStartingWithSlash: "https://example.com/en-us",\n      keywords: { audio: "listen" }\n    })\n    ````\n\n\n`render` (function)\n===================\n\nThis function converts a syntax tree into HTML and returns the result.\n\nArguments\n  `document`: [topic: `Document`]\n    The syntax tree to convert into HTML.\n\n  `renderingSettings` (optional): [topic: `Settings.Rendering`]\n    The custom rendering settings to apply.\n\nReturn type: `string`\n  This function returns HTML representing the rendered document.\n\nUsage\n  Without custom settings\n    ````\n    const html = render(document)\n    ````\n\n  With custom settings\n    ````\n    const html = render(document, {\n      idPrefix: "article",\n      terms: {\n        footnoteReference: "footnote mention",\n        reveal: "show"\n      }\n    })\n    ````\n\n\n`renderWithTableOfContents` (function)\n======================================\n\nThis function converts a syntax tree into two pieces of HTML, both of which are returned:\n\n1. A table of contents\n2. The document itself\n\nArguments\n  `document`: [topic: `Document`]\n    The syntax tree to convert into HTML.\n\n  `renderingSettings` (optional): [topic: `Settings.Rendering`]\n    The custom rendering settings to apply.\n\nReturn type: [topic: `DocumentAndTableOfContentsHtml`]\n  This function returns HTML representing the rendered document and table of contents.\n\nUsage\n  Without custom settings\n    ````\n    const { tableOfContentsHtml, documentHtml } =\n      renderWithTableOfContents(document)\n    ````\n\n  With custom settings\n    ````\n    const { tableOfContentsHtml, documentHtml } =\n      renderWithTableOfContents(document, {\n        idPrefix: "article",\n        terms: { revveal: "expand" }\n      })\n    ````\n\n\n`renderInline` (function)\n=========================\n\nThis function converts an inline syntax tree into inline HTML and returns the result.\n\nTo learn more about inline documents, see [topic: inline documents].\n\nArguments\n  `inlineDocument`: [topic: `InlineDocument`]\n    The inline syntax tree to convert into HTML.\n\n  `renderingSettings` (optional): [topic: `Settings.Rendering`]\n    The custom rendering settings to apply.\n\nReturn type: `string`\n  This function returns HTML representing the rendered inline document.\n\nUsage\n  Without custom settings\n    ````\n    const html = renderInline(inlineDocument)\n    ````\n\n  With custom settings\n    ````\n    const html = renderInline(inlineDocument, {\n      idPrefix: "byline",\n      terms: {\n        footnoteReference: "footnote mention",\n        reveal: "show"\n      }\n    })\n    ````\n\n\n\n============\n`Up` (class)\n============\n\nPurpose\n  Anything you can accomplish using the `Up` class, you can accomplish using the regular [topic: functions] exported by the library.\n\n  However, the `Up` class can be helpful if you need to parse or render several documents sharing custom settings.\n\n  Those shared settings can be provided just once---in the constructor. Then, when calling methods on your object, you only need to provide settings that overwrite (or supplement) the ones you provided to the constructor.\n\n  ````\n  const { Up } = require(\'up-lang\')\n\n  const up = new Up(settings)\n  const html = up.parseAndRender(markup, changedSettings)\n  ````\n\n\nConstructor arguments\n  `settings` (optional): [topic: `Settings`]\n    The custom parsing and/or rendering settings to apply for all subsequent method calls.\n\nMembers\n  This class\'s methods have the same names and arguments as the [topic: functions] in the library:\n\n  - [topic: `parseAndRender`]\n  - [topic: `parseAndRenderWithTableOfContents`]\n  - [topic: `parseAndRenderInline`]\n  - [topic: `parse`]\n  - [topic: `parseInline`]\n  - [topic: `render`]\n  - [topic: `renderWithTableOfContents`]\n  - [topic: `renderInline`]\n\n  When a method is invoked with custom settings, those settings are merged with the settings provided to the constructor. If any individual settings conflict, Up uses the conflicting values provided to the method.\n\n  Example\n    ````\n    const up = new Up({\n      parsing: {\n        createSourceMap: true,\n        fancyEllipsis: "⋯",\n        keywords: {\n          audio: ["sound", "song"],\n          revealable: "hide"\n        }\n      },\n      rendering: {\n        terms: { reveal: "expand" }\n      }\n    })\n\n    const html = up.parseAndRender(markup, {\n      parsing: {\n        createSourceMap: false,\n        keywords: {\n          audio: "listen"\n        }\n      },\n      rendering: {\n        idPrefix: "article"\n      }\n    })\n    ````\n\n  Discussion\n    In the above example, the following settings are ultimately applied:\n\n    ````\n    {\n      parsing: {\n        createSourceMap: false,\n        fancyEllipsis: "⋯",\n        keywords: {\n          audio: "listen",\n          revealable: "hide"\n        }\n      },\n      rendering: {\n        idPrefix: "article",\n        terms: { reveal: "expand" }\n      }\n    }\n    ````\n\n\n\n=============\nConfiguration\n=============\n\nAll functions accept custom settings!\n\nFor a full description of Up\'s functions, see [topic: functions].\n\n\n`Settings` (interface)\n======================\n\nSummary\n  The `Settings` interface includes both parsing settings and rendering settings.\n\n  Use this interface to provide custom settings to functions that both parse markup *and* render the result to HTML:\n\n  - [topic: `parseAndRender`]\n  - [topic: `parseAndRenderWithTableOfContents`]\n  - [topic: `parseAndRenderInline`]\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      createSourceMap: true,\n      keywords: { audio: "listen" }\n    },\n    rendering: {\n      idPrefix: "article"\n    }\n  })\n  ````\n\nMembers (both of which are optional)\n  `parsing`: [topic: `Settings.Parsing`]\n    The custom parsing settings to apply.\n\n  `rendering`: [topic: `Settings.Rendering`]\n    The custom rendering settings to apply.\n\n\n`Settings.Parsing` (interface)\n==============================\n\nSummary\n  The `Settings.Parsing` interface includes all parsing settings.\n\n  Use this interface to provide custom settings to functions that parse markup and return the resulting syntax tree:\n\n  - [topic: `parse`]\n  - [topic: `parseInline`]\n\n  As part of [topic: `Settings`], this interface also provides parsing custom settings to functions that both parse markup *and* render the result to HTML:\n\n  - [topic: `parseAndRender`]\n  - [topic: `parseAndRenderWithTableOfContents`]\n  - [topic: `parseAndRenderInline`]\n\nUsage\n  ````\n  const document = parse(markup, {\n    createSourceMap: true,\n    keywords: {\n      audio: ["sound", "song"],\n      audio: "listen"\n    }\n  })\n  ````\n\nMembers (all of which are optional)\n  [topic: `createSourceMap`]: `boolean`\n    Enables source mapping.\n\n  [topic: `defaultUrlScheme`]: `string`\n    The default URL scheme for URLs without one.\n\n  [topic: `baseForUrlsStartingWithSlash`]: `string`\n    The base for URLs starting with `/`.\n\n  [topic: `baseForUrlsStartingWithHashmark`]: `string`\n    The base for URLs starting with `#`.\n\n  [topic: `fancyEllipsis`]: `string`\n    Up replaces consecutive periods with this fancy ellipsis.\n\n  `keywords` (all of which are optional)\n\n    --------------------\n    Customizing keywords\n    --------------------\n\n    You can provide unlimited custom variations for each keyword. Custom keyword variations do not overwrite the default keywords.\n\n    ````\n    const document = parse(markup, {\n      keywords: {\n        audio: ["sound", "song"],\n        audio: "listen"\n      }\n    })\n    ````\n\n    Like the default keywords, custom keyword variations are case-insensitive.\n\n    `audio`: `string` or `string[]`\n      Recognized by [topic: audio].\n\n    `image`: `string` or `string[]`\n      Recognized by [topic: images].\n\n    `revealable`: `string` or `string[]`\n      Recognized by [topic: inline revealables] and [topic: revealable blocks].\n\n    `sectionLink`: `string` or `string[]`\n      Recognized by [topic: section links].\n\n    `table`: `string` or `string[]`\n      Recognized by [topic: tables].\n\n    `video`: `string` or `string[]`\n      Recognized by [topic: video].\n\n\n---------------------------\n`createSourceMap` (setting)\n---------------------------\n\nSummary\n  When `createSourceMap` is enabled, Up keeps track of the original line number for every instance of every outline writing convention.\n\nDefault\n  `false`\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      createSourceMap: true\n    }\n  })\n  ````\n\nContext\n  This setting belongs to [topic: `Settings.Parsing`].\n\nDetails\n  `createSourceMap` works by setting the `sourceLineNumber` of each [topic: `OutlineSyntaxNode`].\n\n\n----------------------------\n`defaultUrlScheme` (setting)\n----------------------------\n\nSummary\n  The `defaultUrlScheme` is prefixed to any link URL or media URL without a URL scheme.\n\n  For URLs *with* a URL scheme, this setting has no effect. Furthermore, this setting is not applied to URLs that start with `/` or `#`. For those URLs, see [topic: `baseForUrlsStartingWithSlash`] or [topic: `baseForUrlsStartingWithHashmark`].\n\nDefault\n  `"https://"`\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      defaultUrlScheme: "my-app://"\n    }\n  })\n  ````\n\nContext\n  This setting belongs to [topic: `Settings.Parsing`].\n\n\n----------------------------------------\n`baseForUrlsStartingWithSlash` (setting)\n----------------------------------------\n\nSummary\n  The `baseForUrlsStartingWithSlash` is prefixed to any link URL or media URL starting with `/`.\n\nDefault\n  `""` (an empty string)\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      baseForUrlsStartingWithSlash: "https://example.com/blog/"\n    }\n  })\n  ````\n\nContext\n  This setting belongs to [topic: `Settings.Parsing`].\n\n\n-------------------------------------------\n`baseForUrlsStartingWithHashMark` (setting)\n-------------------------------------------\n\nSummary\n  The `baseForUrlsStartingWithSlash` is prefixed to any link URL or media URL starting with `#`.\n\nDefault\n  `""` (an empty string)\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      baseForUrlsStartingWithHashMark: "https://example.com/blog/post/28"\n    }\n  })\n  ````\n\nContext\n  This setting belongs to [topic: `Settings.Parsing`].\n\n\n-------------------------\n`fancyEllipsis` (setting)\n-------------------------\n\nSummary\n  Up automatically replaces consecutive periods with `fancyEllipsis`.\n\n  By default, `fancyEllipsis` is `…`. If you want Up to use a different fancy ellipsis (e.g. `⋯` or even `. . .`), set `fancyEllipsis` accordingly.\n\nDefault\n  `"…"`\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    parsing: {\n      fancyEllipsis: "⋯"\n    }\n  })\n  ````\n\nContext\n  This setting belongs to [topic: `Settings.Parsing`].\n\n\n`Settings.Rendering` (interface)\n================================\n\nSummary\n  The `Settings.Rendering` interface includes all rendering settings.\n\n  Use this interface to provide custom settings to functions that render syntax trees to HTML:\n\n  - [topic: `render`]\n  - [topic: `renderWithTableOfContents`]\n  - [topic: `renderInline`]\n\n  As part of [topic: `Settings`], this interface also provides custom rendering settings to functions that both parse markup *and* render the result to HTML:\n\n  - [topic: `parseAndRender`]\n  - [topic: `parseAndRenderWithTableOfContents`]\n  - [topic: `parseAndRenderInline`]\n\nUsage\n  ````\n  const html = render(document, {\n    idPrefix: "article",\n    terms: {\n      footnoteReference: "footnote mention",\n      reveal: "show"\n    }\n  })\n  ````\n\nMembers (all of which are optional)\n  [topic: `idPrefix`]: `string`\n    The prefix to apply to HTML IDs.\n\n  [topic: `renderDangerousContent`]: `boolean`\n    Enables the rendering of dangerous content. Enabling this setting is not recommended!\n\n  `terms` (all of which are optional)\n    `footnote`: `string`\n      Appears in the URLs of links pointing to footnotes in their footnote blocks.\n\n    `footnoteReference`: `string`\n      Appears in the URLs of links pointing back to footnote references (i.e. back to the superscripts within paragraphs).\n\n    `hide`: `string`\n      Appears on the button that hides revealable content.\n\n    `reveal`: `string`\n      Appears on the button that reveals revealable content.\n\n    `sectionReferencedByTableOfContents`: `string`\n      Appears in the URLs of table of contents entries.\n\n    You don\'t need to worry about escaping any characters in your custom terms! Up handles that for you.\n\n\n--------------------\n`idPrefix` (setting)\n--------------------\n\nSummary\n  If you are rendering multiple documents onto the same page, you need to use this setting to prevent HTML ID collisions between documents.\n\n  By default, `idPrefix` is `up` to prevent ID collisions with any HTML elements *not* rendered by Up. If you don\'t want any ID prefix, you can set `idPrefix` to an empty string.\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    rendering: {\n      idPrefix: "article"\n    }\n  })\n  ````\n\nContext\n  This setting belongs to [topic: `Settings.Rendering`].\n\nDetails\n  You don\'t need to worry about escaping HTML for your `idPrefix`---Up automatically handles that for you. Furthermore, Up automatically converts any spaces in your `idPrefix` to hyphens.\n\nDefault\n  `"up"`\n\n\n----------------------------------\n`renderDangerousContent` (setting)\n----------------------------------\n\nSummary\n  Normally, Up will not render links or media elements with potentially exploitable URI schemes: `javascript`, `vbscript`, `data`, and `file`.\n\n  When this setting is enabled, Up will dutifully render all links and media elements.\n\nUsage\n  ````\n  const html = parseAndRender(markup, {\n    rendering: {\n      renderDangerousContent: true\n    }\n  })\n  ````\n\nContext\n  This setting belongs to [topic: `Settings.Rendering`].\n\nDetails\n  By default, dangerous media elements produce no HTML at all. Dangerous links produce no HTML of their own, though their child elements are rendered.\n\nDefault\n  `false`\n\n\n\n================\nInline documents\n================\n\nIn certain contexts, you might want to restrict a document to just a single line:\n\n- A chat message\n- The title of a thread on a message board\n- The byline for a user\'s profile\n\nThat\'s what inline documents are for! To take advantage of inline documents, use one of the following functions:\n\n- [topic: `parseAndRenderInline`]\n- [topic: `parseInline`]\n- [topic: `renderInline`]\n\n\nSyntax differences\n==================\n\nWithin inline documents, Up ignores all outline writing conventions. Furthermore, [topic: footnotes] and [topic: section links] aren\'t supported.\n\nWhen Up encounters a footnote in an inline document, it pretends the author had used parentheses instead of a footnote.\n\nInline markup\n  ````\n  My dad [^ Professor Oak] is very wise.\n  ````\nOutput\n  My dad (Professor Oak) is very wise.\n\nWithin inline documents, Up doesn\'t recognize the syntax for section links. Consequently, their markup is instead treated as regular old text enclosed within brackets.\n\nInline markup\n  ````\n  I enjoyed our conversation [topic: the weather].\n  ````\nOutput\n  I enjoyed our conversation [\\topic: the weather].\n\n\nRendered HTML\n=============\n\nWhen inline documents are rendered, the resulting HTML is *not* enclosed within any container element (e.g. `<p>`).\n\nInline markup\n  ````\n  I *really* like Starcraft.\n  ````\n\nRendered inline HTML\n  ````\n  I <em>really</em> like Starcraft.\n  ````\n\n\n\n============================\nAbstract syntax tree classes\n============================\n\nUnless you\'re fiddling with the abstract syntax tree of a parsed document, you can safely ignore this section.\n\nThe Up library exports every class used in the abstract syntax tree.\n\n````\nconst { Blockquote } = require("up-lang")\n\nif (syntaxNode instanceof Blockquote) {\n  // Do something exciting\n}\n````\n\nIf you\'re using TypeScript, you can take advantage of the library\'s built-in type declarations. This includes several interface types, all of which are described below.\n\n\n`Document` (class)\n==================\n\nPurpose\n  This class represents the syntax tree for a parsed document.\n\nExtends\n  [topic: `OutlineSyntaxNodeContainer`]\n\nUnique members\n  `tableOfContents`: [topic: Document.TableOfContents]\n    An object representing the document\'s table of contents.\n\n  `create` method (static)\n    Purpose\n      This method returns a ready-to-render syntax tree from a collection of outline syntax nodes.\n\n      Usually, you\'ll want to use this static method instead of the constructor.\n\n    Arguments\n      `children`: array of [topic: `OutlineSyntaxNode`]\n        A collection of outline syntax nodes representing the content of this document.\n\n    Return type: [topic: `Document`]\n      This method creates and returns a ready-to-render `Document` object.\n\n      To prepare the document for rendering, this method:\n\n      - Assigns footnotes their reference numbers\n      - Extracts footnotes into footnote blocks\n      - Produces a table of contents\n      - Matches section links with table of contents entries\n\nConstructor arguments\n  `children`: array of [topic: `OutlineSyntaxNode`]\n    A collection of outline syntax nodes representing the content of this document.\n\n  `tableOfContents` (optional): [topic: `Document.TableOfContents`]\n    The document\'s table of contents.\n\nRendered HTML\n  When rendered to HTML, the document is *not* put into an outer container element.\n\n  ````\n  <p>\n    Unlike regular dental floss, you can use floss picks even if you\'re <em>not</em> a trained dental hygienist.\n  </p>\n  <p>\n    Floss picks are sold in stylish, resealable plastic bags. You have no excuse not to buy some today.\n  </p>\n  ````\n\n\n----------------------------------\n`Document.TableOfContents` (class)\n----------------------------------\n\nPurpose\n  This class represents the table of contents for a document. The table of contents includes every heading except those found within [topic: revealable content].\n\nMembers\n  `entries`: array of [topic: `Document.TableOfContents.Entry`]\n    A collection of entries representing headings in the document. In fact, the objects in this collection are the same [topic: `Heading`] objects in the document itself.\n\nConstructor arguments\n  `entries`: array of [topic: `Document.TableOfContents.Entry`]\n    The entries in the table of contents.\n\nRendered HTML\n  Each entry in the table of contents renders a heading element corresponding to its `level`. This heading element contains a link to the appropriate section in the document.\n\n  To learn more on how headings are rendered, please see [topic: `Heading`].\n\n  ````\n  <h1>\n    <a href="#up-topic-1">Fun things</a>\n  </h1>\n  <h2>\n    <a href="#up-topic-2">Games</a>\n  </h2>\n  <h3>\n    <a href="#up-topic-3">Video games</a>\n  </h3>\n  <h4>\n    <a href="#up-topic-4">Released in the 2000s</a>\n  </h4>\n  <h5>\n    <a href="#up-topic-5">For Nintendo devices</a>\n  </h5>\n  <h6>\n    <a href="#up-topic-6">Nintendo 64</a>\n  </h6>\n  <div aria-level="7" role="heading">\n    <a href="#up-topic-6">Pokémon Puzzle League</a>\n  </div>\n  <h6>\n    <a href="#up-topic-8">Game Boy</a>\n  </h6>\n  <div aria-level="7" role="heading">\n    <a href="#up-topic-9">Game Boy Color Exclusives</a>\n  </div>\n  <div aria-level="8" role="heading">\n    <a href="#up-topic-10">Warlocked</a>\n  </div>\n  ````\n\n\n`Document.TableOfContents.Entry` (interface)\n--------------------------------------------\n\nPurpose\n  This interface represents an entry in the table of contents.\n\nMembers\n  `ordinalInTableOfContents`: `number`\n    The entry\'s ordinal in the table of contents. The first ordinal is `1`, not `0`.\n\n  `level`: `number`\n    The heading level of the entry. Like HTML heading levels, a level of 1 is considered the most significant.\n\n  `children`: array of [topic: InlineSyntaxNode]\n    The inline syntax nodes representing this entry in the table of contents.\n\n  `titleMarkup`: string\n    Currently, headings are the only writing convention that produce table of contents entries, so the `titleMarkup` field always represents the markup for the "content line" of a heading.\n\n    Section links compare their `markupSnippetFromSectionTitle` against this field.\n\n  `sourceLineNumber`: `number`\n    If [topic: `createSourceMap`] is enabled, this field is set to the line number of the first line of markup that produced the heading represented by this entry. Source line numbers start at `1`, not `0`.\n\n    When rendered to HTML, entries with source line numbers are given a `data-up-source-line` attribute set the appropriate line number.\n\n    ````\n    <h3 data-up-source-line="51">\n      <a href="#up-topic-5">Video games</a>\n    </h3>\n    ````\n\n  `contentWithinTableOfContents` method\n    Return type: array of [topic: `InlineSyntaxNode`]\n      This method returns the inline syntax nodes that should represent this entry\'s content inside the table of contents itself.\n\n    Arguments\n      None.\n\n\n`InlineDocument` (class)\n=======================\n\nPurpose\n  This class represents the syntax tree for a parsed inline document.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\nRendered HTML\n  When rendered to HTML, an inline document is *not* put into an outer container element.\n\n  ````\n  I <em>love</em> dental floss!\n  ````\n\n\n`SyntaxNode` (interface)\n========================\n\nPurpose\n  All syntax node classes must implement this interface.\n\nMembers\n  `inlineDescendants` method\n    Return type: array of [topic: `InlineSyntaxNode`]\n      This method returns all inline descendants (including children, grandchildren, etc.).\n\n    Arguments\n      None.\n\nNotes\n  This interface also has a `render` method, but it isn\'t relevant to developers using the Up library.\n\n\n`InlineSyntaxNode` (interface)\n==============================\n\nPurpose\n  All inline syntax node classes must implement this interface.\n\nExtends\n  [topic: `SyntaxNode`]\n\nUnique members\n  `searchableText` method\n    Return type: `string`\n      This method returns the searchable text of the syntax node.\n\n      Ultimately, this method helps match [topic: section links] to the the most appropriate table of content entry.\n\n    Arguments\n      None.\n\n  `textAppearingInline` method\n    Return type: `string`\n      This method returns the text of the syntax node as it should appear inline. Some inline writing conventions don\'t have any text appearing inline, including [topic: footnotes] and [topic: images].\n\n      This method is helps determine whether table cells are numeric.\n\n    Arguments\n      None.\n\n\n`OutlineSyntaxNode` (interface)\n===============================\n\nPurpose\n  All outline syntax node classes must implement this interface.\n\nExtends\n  [topic: `SyntaxNode`]\n\nUnique members\n  `sourceLineNumber`: `number`\n    If [topic: `createSourceMap`] is enabled, this field is set to the first line of markup that produced this syntax node. Source line numbers start at `1`, not `0`.\n\n    HTML elements rendered by outline syntax nodes with source line numbers are given a `data-up-source-line` attribute set the appropriate line number.\n\n    ````\n    <p data-up-source-line="24">Hi there!</p>\n    ````\n\n  `descendantsToIncludeInTableOfContents` method\n    Return type: array of [topic: `Document.TableOfContents.Entry`]\n      This method returns any descendants (at any nesting level) to include in the table of contents.\n\n    Arguments\n      None.\n\n\n`RichInlineSyntaxNode` (class)\n==============================\n\nPurpose\n  This abstract class represents an inline syntax node that can contain other inline syntax nodes.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nImplements\n  [topic: `InlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n`RichOutlineSyntaxNode` (class)\n===============================\n\nPurpose\n  This abstract class represents an outline syntax node that can contain other outline syntax nodes.\n\nExtends\n  [topic: `OutlineSyntaxNodeContainer`]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nConstructor arguments\n  `children`: array of [topic: `OutlineSyntaxNode`]\n    A collection of outline syntax nodes representing the content of this syntax node.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this syntax node.\n\n\n`InlineSyntaxNodeContainer` (class)\n===================================\n\nPurpose\n  This abstract class represents a container of inline syntax nodes.\n\nMembers\n  `children`: array of [topic: `InlineSyntaxNode`]\n    A collection of inline syntax nodes representing the content of this container.\n\n  `inlineDescendants` method\n    Return type: array of [topic: `InlineSyntaxNode`]\n      This method returns all inline descendants (including `children`, grandchildren, etc.).\n\n    Arguments\n      None.\n\nConstructor arguments\n  `children`: array of [topic: `InlineSyntaxNode`]\n    This field is described above.\n\n\n`OutlineSyntaxNodeContainer` (class)\n====================================\n\nPurpose\n  This abstract class represents a container of inline syntax nodes.\n\nMembers\n  `children`: array of [topic: `InlineSyntaxNode`]\n     A collection of outline syntax nodes representing the content of this container.\n\n  `descendantsToIncludeInTableOfContents` method\n    Return type: array of [topic: `Document.TableOfContents.Entry`]\n      This method returns any descendants (children, grandchildren, etc.) to include in the table of contents.\n\n    Arguments\n      None.\n\n  `inlineDescendants` method\n    Return type: array of [topic: `InlineSyntaxNode`]\n      This method returns all inline descendants of `children`.\n\n    Arguments\n      None.\n\nConstructor arguments\n  `children`: array of [topic: `OutlineSyntaxNode`]\n    This field is described above.\n\n\n`MediaSyntaxNode` (class)\n=========================\n\nPurpose\n  All media syntax node classes extend this abstract class:\n\n  - [topic: `Image`]\n  - [topic: `Video`]\n  - [topic: `Audio`]\n\nImplements\n  [topic: `InlineSyntaxNode`]\n    Media conventions can appear inline (i.e. within paragraphs).\n\n  [topic: `OutlineSyntaxNode`]\n    If a line consists solely of media conventions (or media conventions within links), those media conventions (or their outer links) are placed directly into the outline.\n\nUnique members\n  `description`: `string`\n    The media\'s description.\n\n  `url`: `string`\n    Represents the media\'s URL after the following settings are applied:\n\n    - [topic: `defaultUrlScheme`]\n    - [topic: `baseForUrlsStartingWithSlash`]\n    - [topic: `baseForUrlsStartingWithHashmark`]\n\nConstructor arguments\n  `description`: string\n    The media\'s description.\n\n  `url`: string\n    The media\'s URL.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the line of markup that created this media syntax node.\n\n\n`ParentheticalSyntaxNode` (class)\n=================================\n\nPurpose\n  This abstract class represents [topic: parenthetical text]. It exists solely to improve the expressiveness of the type system.\n\n  It is extended by both [topic: `NormalParenthetical`] and [topic: `SquareParenthetical`].\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\n\n`Audio` (class)\n===============\n\nWriting convention\n  [topic: Audio]\n\nExtends\n  [topic: `MediaSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `MediaSyntaxNode`].\n\nRendered HTML\n  ````\n  <audio controls src="https://a.clyp.it/ybct5hcl.mp3" title="Sadness theme from Infinity for Game Boy">\n    <a href="https://a.clyp.it/ybct5hcl.mp3">Sadness theme from Infinity for Game Boy</a>\n  </audio>\n  ````\n\n\n`Blockquote` (class)\n====================\n\nWriting convention\n  [topic: Blockquotes]\n\nExtends\n  [topic: `RichOutlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichOutlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <blockquote>\n    <p>Hi there!</p>\n  </blockquote>\n  ````\n\n\n`Bold` (class)\n==============\n\nWriting convention\n  [topic: Audio]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <b>Hi there!</b>\n  ````\n\n\n`BulletedList` (class)\n=======================\n\nWriting convention\n  [topic: Bulleted lists]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `items`: array of [topic: `BulletedList.Item`]\n    The collection of items comprising this bulleted list.\n\nConstructor arguments\n  `items`: array of [topic: `BulletedList.Item`]\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this bulleted list.\n\nRendered HTML\n  ````\n  <ul>\n    <li>\n      <p>Buy milk</p>\n    </li>\n    <li>\n      <p>Buy bread</p>\n    </li>\n    <li>\n      <p>Buy happiness</p>\n    </li>\n  </ul>\n  ````\n\n\n----------------------------\n`BulletedList.Item` (class)\n----------------------------\n\nPurpose\n  This class represents an item in a bulleted list.\n\nExtends\n  [topic: `OutlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `OutlineSyntaxNodeContainer`].\n\n\n`CodeBlock` (class)\n===================\n\nWriting convention\n  [topic: Code blocks]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `code`: `string`\n    The code represented by this syntax node.\n\nConstructor arguments\n  `code`: `string`\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this code block.\n\nRendered HTML\n  ````\n  <pre><code>const message = "Hi there!"</code></pre>\n  ````\n\n\n`DescriptionList` (class)\n=========================\n\nWriting convention\n  [topic: Description lists]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `items`: array of [topic: `DescriptionList.Item`]\n    The collection of items comprising this description list.\n\nConstructor arguments\n  `items`: array of [topic: `DescriptionList.Item`]\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this description list.\n\nRendered HTML\n  ````\n  <dl>\n    <dt>Kirby\'s Dreamland</dt>\n    <dd>\n      <p>A video game about a flying marshmallow.</p>\n    </dd>\n    <dt>Super Mario Land</dt>\n    <dd>\n      <p>A video game about a jumping plumber.</p>\n    </dd>\n  </dl>\n  ````\n\n\n------------------------------\n`DescriptionList.Item` (class)\n------------------------------\n\nPurpose\n  This class represents a collection of subjects and their corresponding description.\n\nUnique members\n  `subjects`: array of [topic: `DescriptionList.Item.Subject`]\n    The subjects described by `description`.\n\n  `description`: [topic: `DescriptionList.Item.Description`]\n    The description of `subjects`.\n\nConstructor arguments\n  `subjects`: array of [topic: `DescriptionList.Item.Subject`]\n    This field is described above.\n\n  `description`: [topic: `DescriptionList.Item.Description`]\n    This field is described above.\n\n\n`DescriptionList.Item.Subject` (class)\n--------------------------------------\n\nPurpose\n  This class represents the collection of subjects described by a given description within a description list item.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n`DescriptionList.Item.Description` (class)\n------------------------------------------\n\nPurpose\n  This class represents the description of a given collection of subjects within a description list item.\n\nExtends\n  [topic: `OutlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `OutlineSyntaxNodeContainer`].\n\n\n`Emphasis` (class)\n==================\n\nWriting convention\n  [topic: Emphasis]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <em>Hi there!</em>\n  ````\n\n\n`ExampleUserInput` (class)\n==========================\n\nWriting convention\n  [topic: Example user input]\n\nImplements\n  [topic: `InlineSyntaxNode`]\n\nUnique members\n  `userInput`: `string`\n    The example of user input.\n\nRendered HTML\n  ````\n  <kbd>esc</kbd>\n  ````\n\n\n`Footnote` (class)\n==================\n\nWriting convention\n  [topic: Footnotes]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nUnique members\n  `referenceNumber`: `number`\n    The number that appears in superscript for this footnote. Within a given document, this value must be unique.\n\nConstructor arguments\n  `children`: array of [topic: `InlineSyntaxNode`]\n    A collection of inline syntax nodes representing the content of this footnote.\n\n  `options` (optional)\n    `referenceNumber`: number\n      This field is described above.\n\nRendered HTML\n  ````\n  <sup class="up-footnote-reference" id="up-footnote-reference-1">\n    <a href="#up-footnote-1">1</a>\n  </sup>\n  ````\n\n\n`FootnoteBlock` (class)\n=======================\n\nPurpose\n  Footnotes are written inline, but they aren\'t meant to appear inline in the final document. That would defeat the purpose of footnotes! Instead, footnotes are extracted and placed in footnote blocks. This class represents one of those footnote blocks.\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `footnotes`: array of [topic: Footnote]\n    The collection of footnotes comprising this footnote block.\n\nConstructor arguments\n  `footnotes`: array of [topic: Footnote]\n    This field is described above.\n\nRendered HTML\n  ````\n  <dl class="up-footnotes">\n    <dt id="up-footnote-1">\n      <a href="#up-footnote-reference-1">1</a>\n    </dt>\n    <dd>No relation to Warcraft!</dd>\n    <dt id="up-footnote-2">\n      <a href="#up-footnote-reference-2">2</a>\n    </dt>\n    <dd>The pathfinding algorithm had issues.</dd>\n  </dl>\n  ````\n\n\n`Heading` (class)\n=================\n\nWriting convention\n  [topic: Headings]\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nImplements\n  [topic: `Document.TableOfContents.Entry`]\n    Headings are special! No other syntax node implements this interface.\n\n  [topic: `OutlineSyntaxNode`]\n    But headings also serve as regular old outline syntax nodes.\n\n\nUnique members\n  `level`: `number`\n    A heading\'s level represents its significance in the document. Like HTML heading levels, a level of 1 is considered the most significant.\n\nConstructor arguments\n  `children`: array of [topic: `InlineSyntaxNode`]\n    A collection of inline syntax nodes representing the content of this heading.\n\n  `options`\n    `level`: `number`\n      This field is described above.\n\n    `titleMarkup`: string\n      Represents the markup for the "content line" of this heading.\n\n      Section links compare their `markupSnippetFromSectionTitle` against this field.\n\n    `ordinalInTableOfContents` (optional): `number`\n      Represents this heading\'s ordinal in the table of contents. The first ordinal is `1`, not `0`.\n\n    `sourceLineNumber` (optional): number\n      The line number of the first line of markup that created this heading.\n\nRendered HTML\n  Levels 1--6\n    Headings with levels 1 through 6 render the appropriate heading element.\n\n    ````\n    <h1>\n      I am a level 1 heading!\n    </h1>\n\n    <h6>\n      I am a level 6 heading!\n    </h6>\n    ````\n  Levels 7 and higher\n    Headings with levels 7 and higher render `<div role="heading">` elements with an `aria-level` attribute equal to their level.\n\n    ````\n    <div aria-level="7" role="heading">\n      I am a level 7 heading!\n    </div>\n\n    <div aria-level="10" role="heading">\n      I am a level 10 heading!\n    </div>\n    ````\n\n\n`Highlight` (class)\n===================\n\nWriting convention\n  [topic: Highlighting]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <mark>Hi there!</mark>\n  ````\n\n\n`Image` (class)\n===============\n\nWriting convention\n  [topic: Images]\n\nExtends\n  [topic: `MediaSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `MediaSyntaxNode`].\n\nRendered HTML\n  ````\n  <img alt="Super Mario Land box art" src="https://i.imgur.com/TxlFlkX.jpg" title="Super Mario Land box art">\n  ````\n\n\n`InlineCode` (class)\n====================\n\nWriting convention\n  [topic: Inline code]\n\nImplements\n  [topic: `InlineSyntaxNode`]\n\nUnique members\n  `code`: `string`\n    The inline code represented by this syntax node.\n\nConstructor arguments\n  `code`: `string`\n    This field is described above.\n\nRendered HTML\n  ````\n  <code class="up-inline-code">interface</code>\n  ````\n\n\n`InlineQuote` (class)\n=====================\n\nWriting convention\n  [topic: Inline quotes]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <q>I know!</q>\n  ````\n\n\n`InlineRevealable` (class)\n==========================\n\nWriting convention\n  [topic: Inline revealables]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <span class="up-revealable">\n    <input checked class="up-hide" id="up-hide-button-1" name="up-revealable-1" type="radio">\n    <label for="up-hide-button-1" role="button" tabindex="0">hide</label>\n    <input class="up-reveal" id="up-reveal-button-1" name="up-revealable-1" type="radio">\n    <label for="up-reveal-button-1" role="button" tabindex="0">reveal</label>\n    <span role="alert">Ash fights Gary</span>\n  </span>\n  ````\n\n\n`Italic` (class)\n================\n\nWriting convention\n  [topic: Italics]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <i>I know!</i>\n  ````\n\n\n`LineBlock` (class)\n===================\n\nWriting convention\n  [topic: Line blocks]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `lines`: array of [topic: `LineBlock.Line`]\n    The collection of lines comprising this line block.\n\nConstructor arguments\n  `lines`: array of [topic: `LineBlock.Line`]\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this syntax node.\n\nRendered HTML\n  ````\n  <div class="up-lines">\n    <div>Roses are red</div>\n    <div>Violets are blue</div>\n  </div>\n  ````\n\n------------------------\n`LineBlock.Line` (class)\n------------------------\n\nPurpose\n  This class represents a line in a line block.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n`Link` (class)\n==============\n\nWriting convention\n  [topic: Italics]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n    If a line consists solely of media conventions (or media conventions within links), those media conventions (or their outer links) are placed directly into the outline.\n\nUnique members\n  `url`: `string`\n    This links\'s URL after the following settings are applied:\n\n    - [topic: `defaultUrlScheme`]\n    - [topic: `baseForUrlsStartingWithSlash`]\n    - [topic: `baseForUrlsStartingWithHashmark`]\n\nConstructor arguments\n  `children`: array of [topic: `InlineSyntaxNode`]\n    A collection of inline syntax nodes representing the content of this link.\n\n  `url`: `string`\n    This field is described above.\n\n  `options`\n    `sourceLineNumber` (optional): number\n      The line number of the line of markup that created this link.\n\nRendered HTML\n  ````\n  <a href="https://example.com">Hi there!</a>\n  ````\n\n\n`NormalParenthetical` (class)\n=============================\n\nWriting convention\n  [topic: Parenthetical text] produced by parentheses\n\nExtends\n  [topic: `ParentheticalSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `ParentheticalSyntaxNode`].\n\nRendered HTML\n  ````\n  <small class="up-parenthetical">(Hi there!)</small>\n  ````\n\n\n`NumberedList` (class)\n=====================\n\nWriting convention\n  [topic: Numbered lists]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `items`: array of [topic: `NumberedList.Item`]\n    The collection of items comprising this numbered list.\n\n  `start` method\n    Return type: `number`\n      This method returns the starting ordinal of this list, if one was explicitly defined. Otherwise, this method returns `undefined`.\n\n    Arguments\n      None.\n\n  `order` method\n    Return type: [topic: `NumberedList.Order`]\n      This method returns the order of the numbered list (ascending or descending).\n\n    Arguments\n      None.\n\nConstructor arguments\n  `items`: array of [topic: `NumberedList.Item`]\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this numbered list.\n\nRendered HTML\n  ````\n  <ol reversed start="3">\n    <li value="3">\n      <p>Buy milk</p>\n    </li>\n    <li value="2">\n      <p>Buy bread</p>\n    </li>\n    <li>\n      <p>Buy happiness</p>\n    </li>\n  </ol>\n  ````\n\n\n--------------------------\n`NumberedList.Item` (class)\n--------------------------\n\nPurpose\n  This class represents an item in an numbered list.\n\nExtends\n  [topic: `OutlineSyntaxNodeContainer`]\n\nConstructor arguments\n  `children`: array of [topic: `OutlineSyntaxNode`]\n    A collection of outline syntax nodes representing the content of this list item.\n\n  `options` (optional)\n    `ordinal`: number\n      This field is described above.\n\n\n--------------------------\n`NumberedList.Order` (enum)\n--------------------------\n\nPurpose\n  This enum represents the order of an numbered list.\n\nValues\n  - `Ascending` (default)\n  - `Descending`\n\n\n`Paragraph` (class)\n===================\n\nWriting convention\n  [topic: Paragraphs]\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nConstructor arguments\n  `children`: array of [topic: `InlineSyntaxNode`]\n    A collection of inline syntax nodes representing the content of this paragraph.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the line of markup that created this paragraph.\n\nRendered HTML\n  ````\n  <p>Hi there!</p>\n  ````\n\n\n`RevealableBlock` (class)\n=========================\n\nWriting convention\n  [topic: Revealable blocks]\n\nExtends\n  [topic: `RichOutlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichOutlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <div class="up-revealable">\n    <input checked class="up-hide" id="up-hide-button-1" name="up-revealable-1" type="radio">\n    <label for="up-hide-button-1" role="button" tabindex="0">hide</label>\n    <input class="up-reveal" id="up-reveal-button-1" name="up-revealable-1" type="radio">\n    <label for="up-reveal-button-1" role="button" tabindex="0">reveal</label>\n    <div role="alert">\n      <p>Ash fights Gary.</p>\n    </div>\n  </div>\n  ````\n\n\n`SectionLink` (class)\n=====================\n\nWriting convention\n  [topic: Section links]\n\nImplements\n  [topic: `InlineSyntaxNode`]\n\nUnique members\n  `markupSnippetFromSectionTitle`: `string`\n    This field is compared against the `titleMarkup` field of every table of contents entry to find the most appropriate match.\n\nConstructor arguments\n  `markupSnippetFromSectionTitle`: `string`\n    This field is described above.\n\n  `entry`: [topic: `Document.TableOfContents.Entry`]\n    The table of contents entry (i.e. heading) this section link points to.\n\nRendered HTML\n  When matched with a heading\n    Up renders a link to that heading. The rendered link contains the heading\'s content.\n\n    ````\n    <a href="#up-topic-77">Using the Up library</a>\n    ````\n\n  When *not* matched with a heading\n    Up renders the value of `markupSnippetFromSectionTitle` in italics.\n\n    ````\n    <i>Up library</i>\n    ````\n\n\n`SquareParenthetical` (class)\n=============================\n\nWriting convention\n  [topic: Parenthetical text] produced by square brackets\n\nExtends\n  [topic: `ParentheticalSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `ParentheticalSyntaxNode`].\n\nRendered HTML\n  ````\n  <small class="up-parenthetical up-square-brackets">[Hi there!]</small>\n  ````\n\n\n`Stress` (class)\n================\n\nWriting convention\n  [topic: Stress]\n\nExtends\n  [topic: `RichInlineSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `RichInlineSyntaxNode`].\n\nRendered HTML\n  ````\n  <strong>Hi there!</strong>\n  ````\n\n\n`Table` (class)\n===============\n\nWriting convention\n  [topic: Tables]\n\nImplements\n  [topic: `OutlineSyntaxNode`]\n\nUnique members\n  `header`: [topic: `Table.Header`]\n    The header row.\n\n  `rows`: array of [topic: `Table.Row`]\n    The content rows.\n\n  `caption`: [topic: `Table.Caption`]\n    The optional caption.\n\nConstructor arguments\n  `header`: [topic: `Table.Header`]\n    This field is described above.\n\n  `rows`: array of [topic: `Table.Row`]\n    This field is described above.\n\n  `caption`: [topic: `Table.Caption`]\n    This field is described above.\n\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the first line of markup that created this table.\n\nRendered HTML\n  Without header column\n    ````\n    <table>\n      <caption>Moves learned by the Pokémon Bulbasaur</caption>\n      <tr>\n        <th scope="col">Level</th>\n        <th scope="col">Move</th>\n        <th scope="col">Type</th>\n        <th scope="col">Power</th>\n        <th scope="col">Accuracy</th>\n      </tr>\n      <tr>\n        <td class="up-numeric">1</td>\n        <td>Tackle</td>\n        <td>Normal</td>\n        <td class="up-numeric">50</td>\n        <td class="up-numeric">100%</td>\n      </tr>\n      <tr>\n        <td class="up-numeric">3</td>\n        <td>Growl</td>\n        <td>Normal</td>\n        <td></td>\n        <td class="up-numeric">100%</td>\n      </tr>\n    </table>\n    ````\n\n  With header column\n    ````\n    <table>\n      <caption>Moves learned by the Pokémon Bulbasaur</caption>\n      <tr>\n        <th scope="col"></th>\n        <th scope="col">Level</th>\n        <th scope="col">Type</th>\n        <th scope="col">Power</th>\n        <th scope="col">Accuracy</th>\n      </tr>\n      <tr>\n        <th scope="row">Tackle</th>\n        <td class="up-numeric">1</td>\n        <td>Normal</td>\n        <td class="up-numeric">50</td>\n        <td class="up-numeric">100%</td>\n      </tr>\n      <tr>\n        <th scope="row">Growl</th>\n        <td class="up-numeric">3</td>\n        <td>Normal</td>\n        <td></td>\n        <td class="up-numeric">100%</td>\n      </tr>\n    </table>\n    ````\n\n\n-----------------------\n`Table.Caption` (class)\n-----------------------\n\nPurpose\n  This class represents the caption of a table.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n--------------------\n`Table.Cell` (class)\n--------------------\n\nPurpose\n  This abstract class represents a table cell.\n\nExtends\n  [topic: `InlineSyntaxNodeContainer`]\n\nUnique members\n  `isNumeric` method\n    Return type: `boolean`\n      This method returns a `boolean` indicating whether the content of this cell is numeric.\n\n    Arguments\n      None.\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n----------------------\n`Table.Header` (class)\n----------------------\n\nPurpose\n  This class represents the header row of a table.\n\nUnique members\n  `cells`: array of [topic: `Table.Header.Cell`]\n    The cells in this header row.\n\nConstructor arguments\n  `cells`: array of [topic: `Table.Header.Cell`]\n    This field is described above.\n\n\n`Table.Header.Cell` (class)\n---------------------------\n\nPurpose\n  This class represents a table header cell.\n\nExtends\n  [topic: `Table.Cell`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n-------------------\n`Table.Row` (class)\n-------------------\n\nPurpose\n  This class represents a content row in a table.\n\nUnique members\n  `cells`: array of [topic: `Table.Row.Cell`]\n    The content cells in this row.\n\n  `headerColumnCell`: [topic: `Table.Header.Cell`]\n    The single header column cell for this row, if there is one.\n\n    Tables without header columns never have header column cells.\n\n  `allCellsStartingWithHeaderColumnCell` method\n    Return type: array of [topic: `Table.Cell`]\n      This method returns every cell in this row.\n\n      If the table has a header column, the row\'s `headerColumnCell` is the first item in the returned collection.\n\n    Arguments\n      None.\n\nConstructor arguments\n  `cells`: array of [topic: `Table.Row.Cell`]\n    This field is described above.\n\n  `headerColumnCell`: [topic: `Table.Header.Cell`]\n    This field is described above.\n\n\n`Table.Row.Cell` (class)\n------------------------\n\nPurpose\n  This class represents a regular (non-header) table cell.\n\nExtends\n  [topic: `Table.Cell`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `InlineSyntaxNodeContainer`].\n\n\n`Text` (class)\n==============\n\nPurpose\n  This class represents regular text content.\n\nImplements\n  [topic: `InlineSyntaxNode`]\n\nUnique members\n  `text`: `string`\n    The text represented by this syntax node.\n\nConstructor arguments\n  `text`: `string`\n    This field is described above.\n\nRendered HTML\n  ````\n  Yes, 1 &lt; 2\n  ````\n\n\n`ThematicBreak` (class)\n=======================\n\nWriting convention\n  [topic: Thematic breaks]\n\nExtends\n  [topic: `OutlineSyntaxNode`]\n\nConstructor arguments\n  `options` (optional)\n    `sourceLineNumber`: number\n      The line number of the line of markup that created this thematic break.\n\nRendered HTML\n  ````\n  <hr>\n  ````\n\n\n`Video` (class)\n===============\n\nWriting convention\n  [topic: Video]\n\nExtends\n  [topic: `MediaSyntaxNode`]\n\nConstructor arguments\n  See the constructor arguments for [topic: `MediaSyntaxNode`].\n\nRendered HTML\n  ````\n  <video controls src="https://i.imgur.com/32fBpnh.mp4" title="Professor Leonard">\n    <a href="https://i.imgur.com/32fBpnh.mp4">Professor Leonard</a>\n  </video>\n  ````';
},function(e,n,t){function r(e,n){for(var t=0;t<e.length;t++){var r=e[t],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],n))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],n));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(e){for(var n=[],t={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],l=i[3],c={css:a,media:s,sourceMap:l};t[o]?t[o].parts.push(c):n.push(t[o]={id:o,parts:[c]})}return n}function o(e,n){var t=g(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),b.push(n);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(n)}}function a(e){e.parentNode.removeChild(e);var n=b.indexOf(e);n>=0&&b.splice(n,1)}function s(e){var n=document.createElement("style");return n.type="text/css",o(e,n),n}function l(e){var n=document.createElement("link");return n.rel="stylesheet",o(e,n),n}function c(e,n){var t,r,i;if(n.singleton){var o=y++;t=v||(v=s(n)),r=u.bind(null,t,o,!1),i=u.bind(null,t,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=l(n),r=h.bind(null,t),i=function(){a(t),t.href&&URL.revokeObjectURL(t.href)}):(t=s(n),r=d.bind(null,t),i=function(){a(t)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else i()}}function u(e,n,t,r){var i=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=k(n,i);else{var o=document.createTextNode(i),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(o,a[n]):e.appendChild(o)}}function d(e,n){var t=n.css,r=n.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}function h(e,n){var t=n.css,r=n.sourceMap;r&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([t],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var p={},f=function(e){var n;return function(){return"undefined"==typeof n&&(n=e.apply(this,arguments)),n}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,y=0,b=[];e.exports=function(e,n){n=n||{},"undefined"==typeof n.singleton&&(n.singleton=m()),"undefined"==typeof n.insertAt&&(n.insertAt="bottom");var t=i(e);return r(t,n),function(e){for(var o=[],a=0;a<t.length;a++){var s=t[a],l=p[s.id];l.refs--,o.push(l)}if(e){var c=i(e);r(c,n)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete p[l.id]}}}};var k=function(){var e=[];return function(n,t){return e[n]=t,e.filter(Boolean).join("\n")}}()},function(e,n,t){var r=t(79);"string"==typeof r&&(r=[[e.id,r,""]]),t(82)(r,{}),r.locals&&(e.exports=r.locals)},function(e,n,t){"use strict";function r(e){if(null==e)return[];var n=("string"==typeof e?[e]:e).filter(function(e){return!!e}).map(function(e){return e.trim()}).filter(function(e){return!!e});return a.distinct.apply(void 0,n)}var i=t(6),o=t(3),a=t(2),s=function(){function e(n){this.parsing=new e.Parsing,this.rendering=new e.Rendering,this.applySettings(n)}return e.prototype.withChanges=function(n){var t=new e;return t.parsing=this.parsing.clone(),t.rendering=this.rendering.clone(),t.applySettings(n),t},e.prototype.applySettings=function(e){e&&(this.parsing.applySettings(e.parsing),this.rendering.applySettings(e.rendering))},e}();n.NormalizedSettings=s,function(e){var n=function(){function e(){this.createSourceMap=!1,this.fancyEllipsis="…",this.keywords=new e.Keywords,this.defaultUrlScheme="https://",this.baseForUrlsStartingWithSlash="",this.baseForUrlsStartingWithHashMark=""}return e.prototype.clone=function(){var n=new e;return n.createSourceMap=this.createSourceMap,n.fancyEllipsis=this.fancyEllipsis,n.defaultUrlScheme=this.defaultUrlScheme,n.baseForUrlsStartingWithSlash=this.baseForUrlsStartingWithSlash,n.baseForUrlsStartingWithHashMark=this.baseForUrlsStartingWithHashMark,n.keywords=this.keywords.clone(),n},e.prototype.applySettings=function(e){e&&(this.createSourceMap=a.coalesce(e.createSourceMap,this.createSourceMap),this.fancyEllipsis=a.coalesce(e.fancyEllipsis,this.fancyEllipsis),this.defaultUrlScheme=a.coalesce(e.defaultUrlScheme,this.defaultUrlScheme),this.baseForUrlsStartingWithSlash=a.coalesce(e.baseForUrlsStartingWithSlash,this.baseForUrlsStartingWithSlash),this.baseForUrlsStartingWithHashMark=a.coalesce(e.baseForUrlsStartingWithHashMark,this.baseForUrlsStartingWithHashMark),this.keywords.applySettings(e.keywords))},e.prototype.applySettingsToUrl=function(e){switch(e=e.trim(),e[0]){case i.FORWARD_SLASH:return this.baseForUrlsStartingWithSlash+e;case i.HASH_MARK:return this.baseForUrlsStartingWithHashMark+e}return o.URL_SCHEME_PATTERN.test(e)?e:this.defaultUrlScheme+e},e}();e.Parsing=n,function(e){var n=function(){function e(){this._audio=[],this._image=[],this._revealable=[],this._sectionLink=[],this._table=[],this._video=[]}return Object.defineProperty(e.prototype,"audio",{get:function(){return a.distinct.apply(void 0,["audio"].concat(this._audio))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){return a.distinct.apply(void 0,["image","img"].concat(this._image))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revealable",{get:function(){return a.distinct.apply(void 0,["spoiler","nsfw","nsfl","revealable"].concat(this._revealable))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sectionLink",{get:function(){return a.distinct.apply(void 0,["section","topic"].concat(this._sectionLink))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return a.distinct.apply(void 0,["table"].concat(this._table))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"video",{get:function(){return a.distinct.apply(void 0,["video","vid"].concat(this._video))},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var n=new e;return n._audio=this._audio,n._image=this._image,n._revealable=this._revealable,n._sectionLink=this._sectionLink,n._table=this._table,n._video=this._video,n},e.prototype.applySettings=function(e){e&&(this._audio=r(e.audio),this._image=r(e.image),this._revealable=r(e.revealable),this._sectionLink=r(e.sectionLink),this._table=r(e.table),this._video=r(e.video))},e}();e.Keywords=n}(n=e.Parsing||(e.Parsing={}));var t=function(){function e(){this.idPrefix="up",this.renderDangerousContent=!1,this.terms=new e.Terms}return e.prototype.clone=function(){var n=new e;return n.idPrefix=this.idPrefix,n.renderDangerousContent=this.renderDangerousContent,n.terms=this.terms.clone(),n},e.prototype.applySettings=function(e){e&&(this.idPrefix=a.coalesce(e.idPrefix,this.idPrefix),this.renderDangerousContent=a.coalesce(e.renderDangerousContent,this.renderDangerousContent),this.terms.applySettings(e.terms))},e}();e.Rendering=t,function(e){var n=function(){function e(){this.footnote="footnote",this.footnoteReference="footnote reference",this.hide="hide",this.reveal="reveal",this.sectionReferencedByTableOfContents="topic"}return e.prototype.clone=function(){var n=new e;return n.footnote=this.footnote,n.footnoteReference=this.footnoteReference,n.hide=this.hide,n.reveal=this.reveal,n.sectionReferencedByTableOfContents=this.sectionReferencedByTableOfContents,n},e.prototype.applySettings=function(e){e&&(this.footnote=a.coalesce(e.footnote,this.footnote),this.footnoteReference=a.coalesce(e.footnoteReference,this.footnoteReference),this.hide=a.coalesce(e.hide,this.hide),this.reveal=a.coalesce(e.reveal,this.reveal),this.sectionReferencedByTableOfContents=a.coalesce(e.sectionReferencedByTableOfContents,this.sectionReferencedByTableOfContents))},e}();e.Terms=n}(t=e.Rendering||(e.Rendering={}))}(s=n.NormalizedSettings||(n.NormalizedSettings={}))},function(e,n){"use strict";var t=function(){function e(){this.failedConventionsByMarkupIndex={}}return e.prototype.registerFailure=function(e){var n=e.convention,t=e.snapshot,r=t.markupIndex;this.failedConventionsByMarkupIndex[r]||(this.failedConventionsByMarkupIndex[r]=[]),this.failedConventionsByMarkupIndex[r].push(n)},e.prototype.hasFailed=function(e,n){var t=this.failedConventionsByMarkupIndex[n]||[];return t.some(function(n){return n===e})},e}();n.BacktrackedConventionHelper=t},function(e,n,t){"use strict";var r=t(1),i=function(){function e(e,n){this.open=e,this.close=n,this.startPattern=r.escapeForRegex(e),this.endPattern=r.escapeForRegex(n)}return e}();n.Bracket=i},function(e,n){"use strict";var t=function(){function e(e,n,t){void 0===t&&(t=n.tokens.length),this.convention=e,this.snapshot=n,this.startTokenIndex=t}return e.prototype.doIsteadOfTryingToCloseOuterConventions=function(){return!!this.convention.insteadOfClosingOuterConventionsWhileOpen&&(this.convention.insteadOfClosingOuterConventionsWhileOpen(this),!0)},e.prototype.doInsteadOfTryingToOpenRegularConventions=function(){return!!this.convention.insteadOfOpeningRegularConventionsWhileOpen&&(this.convention.insteadOfOpeningRegularConventionsWhileOpen(this),!0)},e.prototype.doInsteadOfFailingWhenLeftUnclosed=function(){return!!this.convention.insteadOfFailingWhenLeftUnclosed&&(this.convention.insteadOfFailingWhenLeftUnclosed(this),!0)},e.prototype.close=function(){this.convention.whenClosing&&this.convention.whenClosing(this)},e.prototype.registerTokenInsertion=function(e){e<this.startTokenIndex&&(this.startTokenIndex+=1)},e.prototype.clone=function(){return new e(this.convention,this.snapshot,this.startTokenIndex)},e}();n.ConventionContext=t},function(e,n,t){"use strict";var r=t(1),i=function(){function e(e){var n=e.startsWith,t=e.endsWith;this.startsWith=e.startPatternContainsATerm?r.patternIgnoringCapitalizationAndStartingWith(n):r.patternStartingWith(n),t&&(this.endsWith=r.patternStartingWith(t)),this.canOnlyOpenIfDirectlyFollowing=e.canOnlyOpenIfDirectlyFollowing,this.isCutShortByWhitespace=e.isCutShortByWhitespace,this.canConsistSolelyOfWhitespace=e.canConsistSolelyOfWhitespace,this.flushesBufferToTextTokenBeforeOpening=e.beforeOpeningItFlushesNonEmptyBufferToTextToken,this.whenOpening=e.whenOpening,this.insteadOfClosingOuterConventionsWhileOpen=e.insteadOfClosingOuterConventionsWhileOpen,this.insteadOfOpeningRegularConventionsWhileOpen=e.insteadOfOpeningRegularConventionsWhileOpen,this.failsIfWhitespaceIsEnounteredBeforeClosing=e.failsIfWhitespaceIsEnounteredBeforeClosing,this.beforeClosingItFlushesNonEmptyBufferTo=e.beforeClosingItFlushesNonEmptyBufferTo,this.beforeClosingItAlwaysFlushesBufferTo=e.beforeClosingItAlwaysFlushesBufferTo,this.whenClosingItAlsoClosesInnerConventions=e.whenClosingItAlsoClosesInnerConventions,this.mustBeDirectlyFollowedBy=e.mustBeDirectlyFollowedBy,this.whenClosing=e.whenClosing,this.insteadOfFailingWhenLeftUnclosed=e.insteadOfFailingWhenLeftUnclosed}return e}();n.ConventionVariation=i},function(e,n,t){"use strict";function r(e,n){for(var t=0,r=e;t<r.length;t++){var i=r[t];if(n(i))return i}}var i=t(90),o=t(1),a=function(){function e(e){this.options=e,this.startDelimiters=[];var n=o.escapeForRegex(e.delimiterChar),t=e.minDelimiterLength||1;this.delimiterPattern=o.patternStartingWith(o.atLeast(t,n))}return Object.defineProperty(e.prototype,"unusedStartDelimiters",{get:function(){return this.startDelimiters.filter(function(e){return e.isUnused})},enumerable:!0,configurable:!0}),e.prototype.addStartDelimiter=function(e,n){this.startDelimiters.unshift(new i.StartDelimiter(n,e))},e.prototype.tryToCloseAnyOpenStartDelimiters=function(e){if(!this.openStartDelimiters.length)return!1;var n=this.options,t=e.length,i=n.isPerfectMatch;if(i){var o=function(e){return i(e.remainingLength,t)},a=r(this.openStartDelimiters,o);if(a){var s=Math.min(a.remainingLength,t);return n.whenDelimitersEnclose(a.tokenIndex,s),a.shortenBy(s),!0}}for(var l=0,c=this.openStartDelimiters;l<c.length;l++){var u=c[l];if(!t)return!0;var s=Math.min(u.remainingLength,t);n.whenDelimitersEnclose(u.tokenIndex,s),u.shortenBy(s),t-=s}return!0},e.prototype.registerTokenInsertion=function(e){for(var n=0,t=this.openStartDelimiters;n<t.length;n++){var r=t[n];e<r.tokenIndex&&(r.tokenIndex+=1)}},e.prototype.clone=function(){var n=new e(this.options);return n.startDelimiters=this.startDelimiters.map(function(e){return e.clone()}),n},Object.defineProperty(e.prototype,"openStartDelimiters",{get:function(){return this.startDelimiters.filter(function(e){return!e.isFullyExhausted})},enumerable:!0,configurable:!0}),e}();n.ForgivingConventionHandler=a},function(e,n){"use strict";var t=function(){function e(e,n,t){void 0===t&&(t=n.length),this.tokenIndex=e,this.delimiterText=n,this.remainingLength=t}return Object.defineProperty(e.prototype,"isUnused",{get:function(){return this.remainingLength===this.delimiterText.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFullyExhausted",{get:function(){return this.remainingLength<=0},enumerable:!0,configurable:!0}),e.prototype.shortenBy=function(e){this.remainingLength-=e},e.prototype.clone=function(){return new e(this.tokenIndex,this.delimiterText,this.remainingLength)},e}();n.StartDelimiter=t},function(e,n,t){"use strict";function r(e){return new c(e).tokens}function i(e,n){return n.some(function(n){return e.role===n.startTokenRole})}function o(e,n){return n.some(function(n){return e.role===n.endTokenRole})}var a=t(20);n.nestOverlappingConventions=r;var s=[a.EMPHASIS,a.STRESS,a.ITALIC,a.BOLD,a.HIGHLIGHT,a.NORMAL_PARENTHETICAL,a.SQUARE_PARENTHETICAL],l=[a.LINK,a.INLINE_REVEALABLE,a.INLINE_QUOTE,a.FOOTNOTE],c=function(){function e(e){this.tokens=e,this.tokens=e.slice();var n=s.slice();this.splitConventionsThatStartInsideAnotherConventionAndEndAfter(n);for(var t=0,r=l;t<r.length;t++){var i=r[t];this.resolveOverlapping(n,i),n.push(i)}}return e.prototype.splitConventionsThatStartInsideAnotherConventionAndEndAfter=function(e){for(var n=[],t=0;t<this.tokens.length;t++){var r=this.tokens[t];if(i(r,e))n.push(r);else if(o(r,e)){for(var a=r,s=[],l=n.length-1;l>=0;l--){var c=n[l];if(c.correspondingEnclosingToken.role===a.role){n.splice(l,1);break}s.push(c.correspondingEnclosingToken)}this.closeAndReopenConventionsAroundTokenAtIndex(t,s);var u=s.length;t+=2*u}}},e.prototype.resolveOverlapping=function(e,n){for(var t=0;t<this.tokens.length;t++){var r=this.tokens[t],a=r.role===n.startTokenRole;if(a)for(var s=t,l=s+1;l<this.tokens.length;l++){var c=this.tokens[l],u=c===r.correspondingEnclosingToken;if(u){for(var d=l,h=[],p=[],f=s+1;f<d;f++){var m=this.tokens[f];if(i(m,e))p.unshift(m.correspondingEnclosingToken);else if(o(m,e)){if(p.length){p.shift();continue}h.push(m)}}this.closeAndReopenConventionsAroundTokenAtIndex(d,p),this.closeAndReopenConventionsAroundTokenAtIndex(s,h);break}}}},e.prototype.closeAndReopenConventionsAroundTokenAtIndex=function(e,n){for(var t=this.tokens,r=0,i=n;r<i.length;r++){var o=i[r],a=o.correspondingEnclosingToken,s=e-1;t[s]===a?(t.splice(s,1),e-=1):(t.splice(e,0,o),e+=1);var l=e+1;t[l]===o?t.splice(l,1):t.splice(l,0,a)}},e}()},function(e,n,t){"use strict";function r(e,n){return new A(e,n).result}function i(e,n){var t=new A(e,n,{isTokenizingInlineDocument:!0}).result;return t}function o(e,n){return n.startPattern+l.either.apply(void 0,e.map(l.escapeForRegex))+":"+c.ANY_OPTIONAL_WHITESPACE}var a=t(20),s=t(39),l=t(1),c=t(6),u=t(3),d=t(14),h=t(94),p=t(91),f=t(2),m=t(49),g=t(86),v=t(85),y=t(87),b=t(40),k=t(11),C=t(41),w=t(88),T=t(89),x=t(93);n.tokenize=r,n.tokenizeForInlineDocument=i;var S=new g.Bracket("(",")"),L=new g.Bracket("[","]"),I=[S,L],O=new g.Bracket("{","}"),A=function(){function e(e,n,t){var r=this;this.settings=n,this.bufferedContent="",this.tokens=[],this.openContexts=[],this.backtrackedConventionHelper=new v.BacktrackedConventionHelper,this.rawParentheticalBracketConventions=this.getRawParentheticalBracketConventions(),this.rawCurlyBracketConvention=this.getRawCurlyBracketConvention(),this.mediaUrlConventions=this.getMediaUrlConventions(),this.linkUrlConventions=this.getLinkUrlConventions(),this.bareUrlPathConvention=this.getBareUrlPathConvention(),this.forgivingConventionHandlers=[this.getInlineQuoteHandler(),this.getHighlightingHandler()].concat([{delimiterChar:"*",whenEnclosedWithinSingleChars:a.EMPHASIS,whenEnclosedWithinDoubleChars:a.STRESS},{delimiterChar:"_",whenEnclosedWithinSingleChars:a.ITALIC,whenEnclosedWithinDoubleChars:a.BOLD}].map(function(e){return r.getHandlerForForgivingConventionPair(e)}));var i=x.trimEscapedAndUnescapedOuterWhitespace(e);this.markupConsumer=new b.TextConsumer(i),this.configureConventions(null!=t&&t.isTokenizingInlineDocument),this.tokenize(),this.result=p.nestOverlappingConventions(this.tokens)}return Object.defineProperty(e.prototype,"justEnteredAConvention",{get:function(){return this.markupIndexWeLastOpenedAConvention===this.markupConsumer.index},enumerable:!0,configurable:!0}),e.prototype.indicateWeJustOpenedAConvention=function(){this.markupIndexWeLastOpenedAConvention=this.markupConsumer.index},e.prototype.configureConventions=function(e){var n=this;this.conventionVariations=this.getInlineRevealableConventions({richConvention:a.INLINE_REVEALABLE,keyword:this.settings.keywords.revealable}).concat(this.getMediaDescriptionConventions(),e?this.getFootnoteConventionsForInlineDocuments():this.getFootnoteConventions().concat(this.getSectionLinkConventions()),this.getLinkifyingUrlConventions(),this.getLinkContentConventions(),[{richConvention:a.NORMAL_PARENTHETICAL,bracket:S},{richConvention:a.SQUARE_PARENTHETICAL,bracket:L}].map(function(e){return n.getParentheticalConvention(e)}),[this.getExampleUserInputConvention(),this.bareUrlPathConvention])},e.prototype.getFootnoteConventions=function(){var e=this;return I.map(function(n){return e.getTokenizableRichConvention({richConvention:a.FOOTNOTE,startsWith:c.ANY_OPTIONAL_WHITESPACE+e.getFootnoteStartDelimiter(n),endsWith:e.getFootnotEndDelimiter(n)})})},e.prototype.getFootnoteConventionsForInlineDocuments=function(){var e=this;return I.map(function(n){return e.getTokenizableRichConvention({richConvention:a.NORMAL_PARENTHETICAL,startsWith:e.getFootnoteStartDelimiter(n),endsWith:e.getFootnotEndDelimiter(n),whenOpening:function(){e.bufferedContent+=S.open},whenClosing:function(){e.bufferedContent+=S.close}})})},e.prototype.getFootnoteStartDelimiter=function(e){return e.startPattern+l.escapeForRegex("^")+c.ANY_OPTIONAL_WHITESPACE},e.prototype.getFootnotEndDelimiter=function(e){return e.endPattern},e.prototype.getLinkContentConventions=function(){var e=this;return I.map(function(n){return e.getTokenizableRichConvention({richConvention:a.LINK,startsWith:n.startPattern,endsWith:n.endPattern,mustBeDirectlyFollowedBy:e.linkUrlConventions})})},e.prototype.getInlineRevealableConventions=function(e){var n=this,t=e.richConvention,r=e.keyword;return I.map(function(e){return n.getTokenizableRichConvention({richConvention:t,startsWith:o(r,e),endsWith:e.endPattern,startPatternContainsATerm:!0})})},e.prototype.getParentheticalConvention=function(e){var n=this,t=e.richConvention,r=e.bracket;return this.getTokenizableRichConvention({richConvention:t,startsWith:r.startPattern+l.notFollowedBy(c.WHITESPACE_CHAR),endsWith:r.endPattern,whenOpening:function(){n.bufferedContent+=r.open},whenClosing:function(){n.bufferedContent+=r.close}})},e.prototype.getTokenizableRichConvention=function(e){var n=this,t=e.richConvention,r=e.startsWith,i=e.endsWith,o=e.startPatternContainsATerm,a=e.whenOpening,s=e.insteadOfFailingWhenLeftUnclosed,l=e.whenClosing,c=e.mustBeDirectlyFollowedBy;return new w.ConventionVariation({startsWith:r,startPatternContainsATerm:o,endsWith:i,beforeOpeningItFlushesNonEmptyBufferToTextToken:!0,beforeClosingItFlushesNonEmptyBufferTo:k.TokenRole.Text,whenOpening:a,whenClosing:function(e){l&&l(e),n.encloseContextWithinConvention(t,e)},insteadOfFailingWhenLeftUnclosed:s,mustBeDirectlyFollowedBy:c})},e.prototype.tryToTokenizeBareUrlSchemeAndHostname=function(){var e=this.markupConsumer.consume(z);return!!e&&(this.flushNonEmptyBufferToTextToken(),this.appendNewToken(k.TokenRole.BareUrl,e.match),!0)},e.prototype.getBareUrlPathConvention=function(){var e=this;return new w.ConventionVariation({startsWith:c.FORWARD_SLASH,isCutShortByWhitespace:!0,whenOpening:function(){e.bufferedContent+=c.FORWARD_SLASH},canOnlyOpenIfDirectlyFollowing:[k.TokenRole.BareUrl],insteadOfOpeningRegularConventionsWhileOpen:function(){return e.handleTextAwareOfRawBrackets()},whenClosingItAlsoClosesInnerConventions:!0,whenClosing:function(){return e.appendBufferedUrlPathToCurrentBareUrl()},insteadOfFailingWhenLeftUnclosed:function(){return e.appendBufferedUrlPathToCurrentBareUrl()}})},e.prototype.getExampleUserInputConvention=function(){var e=this;return new w.ConventionVariation({startsWith:O.startPattern,endsWith:O.endPattern,beforeOpeningItFlushesNonEmptyBufferToTextToken:!0,insteadOfOpeningRegularConventionsWhileOpen:function(){return e.tryToOpen(e.rawCurlyBracketConvention)||e.tryToTokenizeTypographicalConvention()||e.addCurrentCharOrStreakOfWhitespaceToContentBuffer()},whenClosing:function(){var n=e.flushBufferedContent().trim();e.appendNewToken(k.TokenRole.ExampleUserInput,n)}})},e.prototype.getSectionLinkConventions=function(){var e=this,n=this.settings.keywords.sectionLink;return I.map(function(t){return new w.ConventionVariation({startsWith:o(n,t),startPatternContainsATerm:!0,endsWith:t.endPattern,beforeOpeningItFlushesNonEmptyBufferToTextToken:!0,insteadOfOpeningRegularConventionsWhileOpen:function(){return e.handleTextAwareOfRawBrackets()},whenClosing:function(){var n=e.flushBufferedContent().trim();e.appendNewToken(k.TokenRole.SectionLink,n)}})})},e.prototype.getMediaDescriptionConventions=function(){var e=this;return f.concat([s.IMAGE,s.VIDEO,s.AUDIO].map(function(n){var t=n.keyword(e.settings.keywords);return I.map(function(r){return new w.ConventionVariation({startsWith:o(t,r),startPatternContainsATerm:!0,endsWith:r.endPattern,beforeOpeningItFlushesNonEmptyBufferToTextToken:!0,insteadOfClosingOuterConventionsWhileOpen:function(){return e.tryToOpenRawParentheticalBracketConvention()||e.tryToTokenizeTypographicalConvention()||e.addCurrentCharOrStreakOfWhitespaceToContentBuffer()},beforeClosingItAlwaysFlushesBufferTo:n.tokenRoleForStartAndDescription,whenClosingItAlsoClosesInnerConventions:!0,mustBeDirectlyFollowedBy:e.mediaUrlConventions})})}))},e.prototype.getMediaUrlConventions=function(){var e=this;return I.map(function(n){return new w.ConventionVariation({startsWith:c.ANY_OPTIONAL_WHITESPACE+e.startPatternForBracketedUrlAssumedToBeAUrl(n),endsWith:n.endPattern,beforeOpeningItFlushesNonEmptyBufferToTextToken:!0,insteadOfClosingOuterConventionsWhileOpen:function(){return e.handleTextAwareOfRawBrackets()},whenClosingItAlsoClosesInnerConventions:!0,whenClosing:function(){var n=e.settings.applySettingsToUrl(e.flushBufferedContent());e.appendNewToken(k.TokenRole.MediaEndAndUrl,n)}})})},e.prototype.getLinkUrlConventions=function(){var e=this,n=function(n){e.mostRecentToken.value=n};return f.concat(I.map(function(t){return[e.getConventionForBracketedUrl({bracket:t,whenClosing:n}),e.getConventionForBracketedUrlOffsetByWhitespace({bracket:t,whenClosing:n})]}))},e.prototype.getLinkifyingUrlConventions=function(){var e=this,n=[a.INLINE_REVEALABLE,a.FOOTNOTE].map(function(e){return e.endTokenRole});return f.concat(I.map(function(t){var r={bracket:t,canOnlyOpenIfDirectlyFollowing:n,whenClosing:function(n){return e.closeLinkifyingUrlForRichConventions(n)}},i={bracket:t,canOnlyOpenIfDirectlyFollowing:[k.TokenRole.MediaEndAndUrl],whenClosing:function(n){return e.closeLinkifyingUrlForMediaConventions(n)}},o={bracket:t,canOnlyOpenIfDirectlyFollowing:[k.TokenRole.ExampleUserInput],whenClosing:function(n){return e.closeLinkifyingUrlForExampleUserInputConvention(n)}},a=[r,i,o];return f.concat(a.map(function(n){return[e.getConventionForBracketedUrl(n),e.getConventionForBracketedUrlOffsetByWhitespace(n)]}))}))},e.prototype.getConventionForBracketedUrl=function(e){var n=this,t=e.bracket,r=e.canOnlyOpenIfDirectlyFollowing,i=e.whenClosing;return new w.ConventionVariation({canOnlyOpenIfDirectlyFollowing:r,startsWith:this.startPatternForBracketedUrlAssumedToBeAUrl(t),endsWith:t.endPattern,insteadOfClosingOuterConventionsWhileOpen:function(){return n.handleTextAwareOfRawBrackets()},whenClosingItAlsoClosesInnerConventions:!0,whenClosing:function(){var e=n.settings.applySettingsToUrl(n.flushBufferedContent());i(e)}})},e.prototype.startPatternForBracketedUrlAssumedToBeAUrl=function(e){return e.startPattern+l.notFollowedBy(c.ANY_OPTIONAL_WHITESPACE+l.anyCharMatching(e.endPattern,l.escapeForRegex(d.BACKSLASH)))},e.prototype.getConventionForBracketedUrlOffsetByWhitespace=function(e){var n=this,t=e.bracket,r=e.canOnlyOpenIfDirectlyFollowing,i=e.whenClosing;return new w.ConventionVariation({canOnlyOpenIfDirectlyFollowing:r,startsWith:c.WHITESPACE+t.startPattern+l.capture(l.either(U,D+l.either(c.FORWARD_SLASH,l.followedBy(t.endPattern)))),endsWith:t.endPattern,whenOpening:function(e,t,r){n.bufferedContent+=r},failsIfWhitespaceIsEnounteredBeforeClosing:!0,insteadOfClosingOuterConventionsWhileOpen:function(){return n.handleTextAwareOfRawBrackets()},whenClosingItAlsoClosesInnerConventions:!0,whenClosing:function(e){var t=n.settings.applySettingsToUrl(n.flushBufferedContent());n.probablyWasNotIntendedToBeAUrl(t)?n.backtrackToBeforeContext(e):i(t)}})},e.prototype.probablyWasNotIntendedToBeAUrl=function(e){return F.test(e)},e.prototype.closeLinkifyingUrlForRichConventions=function(e){var n=new C.Token(a.LINK.endTokenRole,e),t=new C.Token(a.LINK.startTokenRole);t.enclosesContentBetweenItselfAnd(n);var r=this.mostRecentToken;this.insertToken({token:n,atIndex:this.tokens.indexOf(r)});var i=r.correspondingEnclosingToken,o=this.tokens.indexOf(i)+1;this.insertToken({token:t,atIndex:o})},e.prototype.closeLinkifyingUrlForMediaConventions=function(e){var n=this.tokens.length-2;this.encloseWithinLink({startingBackAtTokenIndex:n,url:e})},e.prototype.closeLinkifyingUrlForExampleUserInputConvention=function(e){var n=this.tokens.length-1;this.encloseWithinLink({startingBackAtTokenIndex:n,url:e})},e.prototype.encloseWithinLink=function(e){var n=e.startingBackAtTokenIndex,t=e.url;this.encloseWithin({richConvention:a.LINK,startingBackAtTokenIndex:n}),f.last(this.tokens).value=t},e.prototype.getRawParentheticalBracketConventions=function(){var e=this;return I.map(function(n){return e.getRawBracketConvention(n)})},e.prototype.getRawCurlyBracketConvention=function(){return this.getRawBracketConvention(O)},e.prototype.getRawBracketConvention=function(e){var n=this;return new w.ConventionVariation({startsWith:e.startPattern,endsWith:e.endPattern,whenOpening:function(){n.bufferedContent+=e.open},whenClosing:function(){n.bufferedContent+=e.close},insteadOfFailingWhenLeftUnclosed:function(){}})},e.prototype.getInlineQuoteHandler=function(){var e=this;return new T.ForgivingConventionHandler({delimiterChar:'"',whenDelimitersEnclose:function(n){e.closeBareUrlContextIfOneIsOpen(),e.encloseWithin({richConvention:a.INLINE_QUOTE,startingBackAtTokenIndex:n})}})},e.prototype.getHighlightingHandler=function(){var e=this;return new T.ForgivingConventionHandler({delimiterChar:"=",minDelimiterLength:2,whenDelimitersEnclose:function(n){e.closeBareUrlContextIfOneIsOpen(),e.encloseWithin({richConvention:a.HIGHLIGHT,startingBackAtTokenIndex:n})}})},e.prototype.getHandlerForForgivingConventionPair=function(e){var n=this,t=e.delimiterChar,r=e.whenEnclosedWithinDoubleChars,i=e.whenEnclosedWithinSingleChars,o=1,a=2,s=3;return new T.ForgivingConventionHandler({delimiterChar:t,whenDelimitersEnclose:function(e,t){n.closeBareUrlContextIfOneIsOpen();var s=function(t){n.encloseWithin({richConvention:t,startingBackAtTokenIndex:e})};switch(t){case o:return void s(i);case a:return void s(r);default:return s(i),void s(r)}},isPerfectMatch:function(e,n){switch(n){case o:case a:return e===n||e>=s;default:return!1}}})},e.prototype.tokenize=function(){for(;this.bufferContentThatCanNeverServeAsDelimiter(),!this.isDone();){var e=this.tryToEscapeCurrentChar()||this.tryToCloseAnyConvention()||this.performContextSpecificBehaviorInsteadOfTryingToOpenRegularConventions()||this.tryToOpenAnyConvention();e||this.addCurrentCharOrStreakOfWhitespaceToContentBuffer()}},e.prototype.isDone=function(){return this.markupConsumer.done&&this.tryToResolveUnclosedContexts()},e.prototype.tryToResolveUnclosedContexts=function(){for(var e;e=this.openContexts.pop();)if(!e.doInsteadOfFailingWhenLeftUnclosed())return this.backtrackToBeforeContext(e),!1;this.flushNonEmptyBufferToTextToken();for(var n=0,t=this.forgivingConventionHandlers;n<t.length;n++){var r=t[n];this.treatUnusedForgivingStartDelimitersAsText(r)}return!0},e.prototype.treatUnusedForgivingStartDelimitersAsText=function(e){for(var n=0,t=e.unusedStartDelimiters;n<t.length;n++){var r=t[n];r.isUnused&&this.insertToken({token:new C.Token(k.TokenRole.Text,r.delimiterText),atIndex:r.tokenIndex})}},e.prototype.tryToEscapeCurrentChar=function(){return this.markupConsumer.currentChar===d.BACKSLASH&&(this.markupConsumer.index+=1,this.markupConsumer.done||this.addCurrentCharToContentBuffer(),!0)},e.prototype.bufferContentThatCanNeverServeAsDelimiter=function(){var e=this.openContexts.every(function(e){return!e.convention.isCutShortByWhitespace&&!e.convention.failsIfWhitespaceIsEnounteredBeforeClosing});do this.buffer(Y);while(e&&this.tryToAddWhitespaceToContentBuffer())},e.prototype.tryToAddWhitespaceToContentBuffer=function(){var e=this.markupConsumer.remaining,n=X.exec(e);if(!n)return!1;var t=n[0],r=e[t.length];return!j.test(r)&&(this.bufferedContent+=t,this.markupConsumer.index+=t.length,!0)},e.prototype.tryToCloseAnyConvention=function(){for(var e=this.openContexts.length-1;e>=0;e--){var n=this.openContexts[e];if(this.shouldClose(n))return!!this.tryToCloseConventionWhoseEndDelimiterWeAlreadyFound({belongingToContextAtIndex:e})||(this.backtrackToBeforeContext(n),!1);if(n.convention.failsIfWhitespaceIsEnounteredBeforeClosing&&this.isCurrentCharWhitespace())return this.backtrackToBeforeContext(n),!0;if(n.doIsteadOfTryingToCloseOuterConventions())return!0}return this.tryToCloseAnyForgivingConventions()},e.prototype.shouldClose=function(e){var n=e.convention;return n.isCutShortByWhitespace&&this.isCurrentCharWhitespace()||n.endsWith&&null!=this.markupConsumer.consume(n.endsWith)},e.prototype.tryToCloseConventionWhoseEndDelimiterWeAlreadyFound=function(e){var n=e.belongingToContextAtIndex,t=this.openContexts[n],r=t.convention;return this.closeBareUrlContextIfOneIsOpen({withinContextAtIndex:n}),null!=r.beforeClosingItFlushesNonEmptyBufferTo&&this.flushNonEmptyBufferToToken(r.beforeClosingItFlushesNonEmptyBufferTo),null!=r.beforeClosingItAlwaysFlushesBufferTo&&this.flushBufferToToken(r.beforeClosingItAlwaysFlushesBufferTo),t.close(),this.openContexts.splice(n,1),r.whenClosingItAlsoClosesInnerConventions&&this.openContexts.splice(n),this.tryToOpenASubsequentRequiredConventionIfThereAreAny(t)},e.prototype.isCurrentCharWhitespace=function(){return u.WHITESPACE_CHAR_PATTERN.test(this.markupConsumer.currentChar)},e.prototype.tryToOpenASubsequentRequiredConventionIfThereAreAny=function(e){var n=this,t=e.convention.mustBeDirectlyFollowedBy;if(!t)return!0;var r=t.some(function(e){return n.tryToOpen(e)});return!!r&&(f.last(this.openContexts).snapshot=e.snapshot,!0)},e.prototype.tryToCloseAnyForgivingConventions=function(){var e=this;return!(this.justEnteredAConvention||!this.isPreviousCharacterNonwhitespace())&&this.forgivingConventionHandlers.some(function(n){var t=e.markupConsumer.consume(n.delimiterPattern);if(!t)return!1;var r=t.match;return!!n.tryToCloseAnyOpenStartDelimiters(r)||(e.markupConsumer.index-=r.length,
!1)})},e.prototype.isPreviousCharacterNonwhitespace=function(){return u.NON_BLANK_PATTERN.test(this.markupConsumer.previousChar)},e.prototype.closeBareUrlContextIfOneIsOpen=function(e){for(var n=this.openContexts,t=e?e.withinContextAtIndex+1:0,r=t;r<n.length;r++)if(n[r].convention===this.bareUrlPathConvention)return this.appendBufferedUrlPathToCurrentBareUrl(),void this.openContexts.splice(r)},e.prototype.encloseContextWithinConvention=function(e,n){this.encloseWithin({richConvention:e,startingBackAtTokenIndex:n.startTokenIndex})},e.prototype.encloseWithin=function(e){var n=e.richConvention,t=e.startingBackAtTokenIndex;this.flushNonEmptyBufferToTextToken();var r=new C.Token(n.startTokenRole),i=new C.Token(n.endTokenRole);r.enclosesContentBetweenItselfAnd(i),this.insertToken({token:r,atIndex:t});for(var o=this.tokens.length,a=o-1;a>t;a--){var s=this.tokens[a],l=null!=s.correspondingEnclosingToken&&t>this.tokens.indexOf(s.correspondingEnclosingToken);if(!l)break;o-=1}this.insertToken({token:i,atIndex:o})},e.prototype.performContextSpecificBehaviorInsteadOfTryingToOpenRegularConventions=function(){return f.reversed(this.openContexts).some(function(e){return e.doInsteadOfTryingToOpenRegularConventions()})},e.prototype.tryToOpenAnyConvention=function(){var e=this;return this.conventionVariations.some(function(n){return e.tryToOpen(n)})||this.tryToTokenizeBareUrlSchemeAndHostname()||this.tryToOpenForgivingConventionOrTreatDelimiterAsText()||this.tryToTokenizeInlineCodeOrUnmatchedDelimiter()||this.tryToTokenizeTypographicalConvention()},e.prototype.tryToOpenForgivingConventionOrTreatDelimiterAsText=function(){var e=this,n=this.forgivingConventionHandlers.some(function(n){var t=e.markupConsumer.consume(n.delimiterPattern);if(!t)return!1;var r=t.match;return u.NON_BLANK_PATTERN.test(t.charAfterMatch)?(e.flushNonEmptyBufferToTextToken(),n.addStartDelimiter(r,e.tokens.length),!0):(e.bufferedContent+=r,!1)});return n&&this.indicateWeJustOpenedAConvention(),n},e.prototype.tryToTokenizeInlineCodeOrUnmatchedDelimiter=function(){var e=this;return h.tryToTokenizeInlineCode({markup:this.markupConsumer.remaining,then:function(n,t){e.flushNonEmptyBufferToTextToken(),e.appendToken(n),e.markupConsumer.index+=t}})},e.prototype.tryToTokenizeTypographicalConvention=function(){return this.tryToTokenizeEnOrEmDash()||this.tryToTokenizePlusMinusSign()||this.tryToTokenizeEllipsis()},e.prototype.tryToTokenizeEnOrEmDash=function(){var e=this.markupConsumer.consume(B);if(!e)return!1;var n=e.match,t=3,r="–",i="—";return this.bufferedContent+=n.length>=t?m.repeat(i,Math.floor(n.length/t)):r,!0},e.prototype.tryToTokenizePlusMinusSign=function(){return this.tryToTokenizeSimpleTypographicalConvention(P,"±")},e.prototype.tryToTokenizeEllipsis=function(){return this.tryToTokenizeSimpleTypographicalConvention(E,this.settings.fancyEllipsis)},e.prototype.tryToTokenizeSimpleTypographicalConvention=function(e,n){var t=this.markupConsumer.consume(e);return!!t&&(this.bufferedContent+=n,!0)},e.prototype.appendToken=function(e){this.tokens.push(e),this.mostRecentToken=e},e.prototype.addCurrentCharOrStreakOfWhitespaceToContentBuffer=function(){u.WHITESPACE_CHAR_PATTERN.test(this.markupConsumer.currentChar)?this.buffer(X):this.addCurrentCharToContentBuffer()},e.prototype.buffer=function(e){var n=this.markupConsumer.consume(e);n&&(this.bufferedContent+=n.match)},e.prototype.addCurrentCharToContentBuffer=function(){this.bufferedContent+=this.markupConsumer.currentChar,this.markupConsumer.index+=1},e.prototype.tryToOpen=function(e){var n=e.startsWith,t=e.flushesBufferToTextTokenBeforeOpening,r=e.whenOpening;if(!this.canTry(e))return!1;var i=this.markupConsumer.index,o=this.markupConsumer.consume(n);return!!o&&(t&&this.flushNonEmptyBufferToTextToken(),this.openContexts.push(new y.ConventionContext(e,this.getSnapshot(i))),r&&r.apply(void 0,[o.match,o.charAfterMatch].concat(o.captures)),this.indicateWeJustOpenedAConvention(),!0)},e.prototype.getSnapshot=function(e){return{markupIndex:e,markupIndexWeLastOpenedAConvention:this.markupIndexWeLastOpenedAConvention,tokens:this.tokens.slice(),openContexts:this.openContexts.map(function(e){return e.clone()}),forgivingConventionHandlers:this.forgivingConventionHandlers.map(function(e){return e.clone()}),bufferedContent:this.bufferedContent}},e.prototype.canTry=function(e){var n=this,t=this.markupConsumer.index,r=e.mustBeDirectlyFollowedBy,i=r&&r.some(function(e){return n.backtrackedConventionHelper.hasFailed(e,t)});if(i)return!1;var o=e.canOnlyOpenIfDirectlyFollowing;return!this.backtrackedConventionHelper.hasFailed(e,t)&&(!o||this.isDirectlyFollowing(o))},e.prototype.isDirectlyFollowing=function(e){var n=this;return!this.bufferedContent&&this.mostRecentToken&&e.some(function(e){return n.mostRecentToken.role===e})},e.prototype.backtrackToBeforeContext=function(e){this.backtrackedConventionHelper.registerFailure(e);var n=e.snapshot;this.tokens=n.tokens,this.bufferedContent=n.bufferedContent,this.markupConsumer.index=n.markupIndex,this.markupIndexWeLastOpenedAConvention=n.markupIndexWeLastOpenedAConvention,this.openContexts=n.openContexts,this.forgivingConventionHandlers=n.forgivingConventionHandlers},e.prototype.appendNewToken=function(e,n){this.appendToken(new C.Token(e,n))},e.prototype.appendBufferedUrlPathToCurrentBareUrl=function(){if(this.mostRecentToken.role!==k.TokenRole.BareUrl)throw new Error("Most recent token is not a bare URL token");this.mostRecentToken.value+=this.flushBufferedContent()},e.prototype.flushBufferedContent=function(){var e=this.bufferedContent;return this.bufferedContent="",e},e.prototype.flushNonEmptyBufferToToken=function(e){this.bufferedContent&&this.appendNewToken(e,this.flushBufferedContent())},e.prototype.flushBufferToToken=function(e){this.appendNewToken(e,this.flushBufferedContent())},e.prototype.insertToken=function(e){var n=e.token,t=e.atIndex;this.tokens.splice(t,0,n);for(var r=0,i=this.openContexts;r<i.length;r++){var o=i[r];o.registerTokenInsertion(t)}for(var a=0,s=this.forgivingConventionHandlers;a<s.length;a++){var l=s[a];l.registerTokenInsertion(t)}this.mostRecentToken=n},e.prototype.flushNonEmptyBufferToTextToken=function(){this.flushNonEmptyBufferToToken(k.TokenRole.Text)},e.prototype.handleTextAwareOfRawBrackets=function(){this.tryToOpenRawParentheticalBracketConvention()||this.addCurrentCharOrStreakOfWhitespaceToContentBuffer()},e.prototype.tryToOpenRawParentheticalBracketConvention=function(){var e=this;return this.rawParentheticalBracketConventions.some(function(n){return e.tryToOpen(n)})},e}(),N=l.escapeForRegex("."),M=l.escapeForRegex("-"),R=l.escapeForRegex("+"),E=l.patternStartingWith(l.multiple(N)),B=l.patternStartingWith(l.multiple(M)),P=l.patternStartingWith(R+M),W=l.anyCharMatching(c.LETTER_CLASS,c.DIGIT)+l.everyOptional(l.anyCharMatching(c.LETTER_CLASS,c.DIGIT,M))+N,H=l.oneOrMore(c.LETTER_CHAR),D=l.oneOrMore(W)+H,U=l.either(c.URL_SCHEME,c.FORWARD_SLASH,c.HASH_MARK),F=l.solely(U),_="http"+l.optional("s")+"://",z=l.patternStartingWith(_+l.everyOptional(W)+H),j=l.patternStartingWith(l.anyCharMatching.apply(void 0,I.map(function(e){return e.startPattern}))),G=[S,L,O],q=G.map(function(e){return e.startPattern}),V=G.map(function(e){return e.endPattern}),K=[c.WHITESPACE_CHAR,c.FORWARD_SLASH,M,N,R,"h",'"',"_","=","`"].concat(q,V,[d.BACKSLASH,"*"].map(l.escapeForRegex)),Y=l.patternStartingWith(l.oneOrMore(l.either(l.anyCharNotMatching.apply(void 0,K),"h"+l.notFollowedBy("ttp"+l.optional("s")+"://"),N+l.notFollowedBy(N),M+l.notFollowedBy(M),R+l.notFollowedBy(M)))),X=l.patternStartingWith(c.WHITESPACE)},function(e,n,t){"use strict";function r(e){for(;;){e=e.trim();var n=e.length,t=e[0]===o.BACKSLASH&&(1===e.length||i.WHITESPACE_CHAR_PATTERN.test(e[1]));t&&(e=e.slice(2));var r=e[n-2],a=e[n-1];if(a===o.BACKSLASH&&r!==o.BACKSLASH&&(e=e.slice(0,-1)),e.length===n)return e}}var i=t(3),o=t(14);n.trimEscapedAndUnescapedOuterWhitespace=r},function(e,n,t){"use strict";function r(e){var n=e.markup,t=e.then,r=new s.TextConsumer(n),o=r.consume(d);if(!o)return!1;var h=o.match,p="";e:for(;!r.done;){for(;r.currentChar!==u;){if(r.currentChar===a.BACKSLASH&&(r.index+=1),r.done)break e;p+=r.currentChar,r.index+=1}var f=r.consume(d).match;if(h===f)return t(new c.Token(l.TokenRole.InlineCode,i(p)),r.index),!0;p+=f}return t(new c.Token(l.TokenRole.Text,h),h.length),!0}function i(e){return p.test(e)&&(e=e.slice(1)),f.test(e)&&(e=e.slice(0,-1)),e}var o=t(1),a=t(14),s=t(40),l=t(11),c=t(41);n.tryToTokenizeInlineCode=r;var u="`",d=o.patternStartingWith(o.oneOrMore(u)),h=o.oneOrMore(" "),p=o.patternStartingWith(h+u),f=o.patternEndingWith(u+h)},function(e,n,t){"use strict";function r(e){return i({tokens:e}).nodes}function i(e){function n(){return v+1}function t(e){var t=i({tokens:r.slice(n()),until:e.fromHereUntil});return v+=t.countTokensParsed,t.nodes}var r=e.tokens,u=e.until,v=0,y=[];e:for(;v<r.length;v++){var b=r[v],k=b.value;switch(b.role){case u:break e;case d.TokenRole.Text:y.push(new l.Text(k));continue;case d.TokenRole.InlineCode:y.push(new h.InlineCode(k));continue;case d.TokenRole.ExampleUserInput:y.push(new p.ExampleUserInput(k));continue;case d.TokenRole.SectionLink:y.push(new f.SectionLink(k));continue;case d.TokenRole.BareUrl:var C=k,w=g.URL_SCHEME_PATTERN.exec(C)[0],T=C.substr(w.length);y.push(new a.LINK.SyntaxNodeType([new l.Text(T)],C));continue;case a.LINK.startTokenRole:var x=t({fromHereUntil:d.TokenRole.LinkEndAndUrl}),C=r[v].value.trim();x.every(c.isWhitespace)&&(x=[new l.Text(C)]),y.push(new m.Link(x,C));continue}for(var S=0,L=[s.AUDIO,s.IMAGE,s.VIDEO];S<L.length;S++){var I=L[S];if(b.role===I.tokenRoleForStartAndDescription){var O=k.trim(),A=r[++v],C=A.value.trim();y.push(new I.SyntaxNodeType(O||C,C));continue e}}for(var N=0,M=[a.EMPHASIS,a.STRESS,a.ITALIC,a.BOLD,a.HIGHLIGHT,a.INLINE_REVEALABLE,a.FOOTNOTE,a.NORMAL_PARENTHETICAL,a.SQUARE_PARENTHETICAL,a.INLINE_QUOTE];N<M.length;N++){var R=M[N];if(b.role===R.startTokenRole){var x=t({fromHereUntil:R.endTokenRole});y.push(new R.SyntaxNodeType(x));continue e}}throw new Error("Unrecognized token: "+d.TokenRole[b.role])}return{nodes:o(y),countTokensParsed:n()}}function o(e){for(var n=[],t=0,r=e;t<r.length;t++){var i=r[t],o=u.last(n);i instanceof l.Text&&o instanceof l.Text?o.text+=i.text:n.push(i)}return n}var a=t(20),s=t(39),l=t(35),c=t(47),u=t(2),d=t(11),h=t(59),p=t(55),f=t(34),m=t(15),g=t(3);n.parse=r},function(e,n,t){"use strict";function r(e,n){function t(t){var a=e.slice(i,o),l=s.getInlineSyntaxNodes(a.trim(),n);r.push(new u(l,t.countColumnsSpanned))}e=e.trim();for(var r=[],i=0,o=0;o<e.length;o++){var a=e[o];if(a!==c.BACKSLASH){var p=h.exec(e.slice(o));if(p){var f=p[0];t({countColumnsSpanned:f.length}),i=o+f.length,o+=f.length-1}}else o++}var m=l.last(r),g=i<e.length||1===m.countColumnsSpanned&&e!==d;return g&&t({countColumnsSpanned:1}),r}var i=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},o=t(16),a=t(1),s=t(9),l=t(2),c=t(14),u=function(e){function n(){return e.apply(this,arguments)||this}return i(n,e),n}(o.Table.Cell);n.TableCell=u,n.getTableCells=r;var d=";",h=a.patternStartingWith(a.oneOrMore(d))},function(e,n,t){"use strict";function r(e){for(var n=new o.LineConsumer(e.markupLines),t=[],r=!0,a=function(){var o=n.consumeLineIfMatches(c.NON_BLANK_PATTERN,{andIf:function(n){return r||!u.isLineFancyOutlineConvention(n.line,e.settings)}});if(!o)return"break";r=!1;var a=l.getInlineSyntaxNodes(o.line,e.settings);if(!a.length)return"continue";var s=[];return d.tryToPromoteMediaToOutline({inlineSyntaxNodes:a,then:function(e){s=e}}),s.length?(e.then(i(t,s),n.countLinesConsumed),{value:void 0}):void t.push(a)};!n.done;){var s=a();if("object"==typeof s)return s.value;if("break"===s)break}e.then(i(t),n.countLinesConsumed)}function i(e,n){void 0===n&&(n=[]);var t;switch(e.length){case 0:t=[];break;case 1:t=[new a.Paragraph(e[0])];break;default:var r=e.map(function(e){return new s.LineBlock.Line(e)});t=[new s.LineBlock(r)]}return t.concat(n)}var o=t(4),a=t(64),s=t(29),l=t(9),c=t(3),u=t(22),d=t(103);n.parseParagraphOrLineBlock=r},function(e,n,t){"use strict";function r(e){for(var n=new i.LineConsumer(e.markupLines),t=0;n.consumeLineIfMatches(a.BLANK_PATTERN);)t+=1;if(!t)return!1;var r=3;return e.then(t>=r?[new o.ThematicBreak]:[],n.countLinesConsumed),!0}var i=t(4),o=t(17),a=t(3);n.tryToParseBlankLineSeparation=r},function(e,n,t){"use strict";function r(e){for(var n=new i.LineConsumer(e.markupLines),t=[],r=0;!n.done;){for(var d=[];!n.done;){var h=n.consumeLineIfMatches(c.NON_BLANK_PATTERN,{andIf:function(n){return!c.INDENTED_PATTERN.test(n.line)&&!l.isLineFancyOutlineConvention(n.line,e.settings)}});if(!h)break;d.push(h.line)}if(!d.length)break;n.consumeLineIfMatches(c.BLANK_PATTERN);var p=e.sourceLineNumber+n.countLinesConsumed,f=n.consumeLineIfMatches(c.INDENTED_PATTERN,{andIf:function(e){return!c.BLANK_PATTERN.test(e.line)}});if(!f)break;var m=[f.line.replace(c.INDENTED_PATTERN,"")],g=u.getIndentedBlock(n.remaining()),v=!1;g&&(m.push.apply(m,g.lines),n.skipLines(g.countLinesConsumed),v=g.hasMultipleTrailingBlankLines),r=n.countLinesConsumed;var y=d.map(function(n){return new o.DescriptionList.Item.Subject(a.getInlineSyntaxNodes(n,e.settings))}),b=new o.DescriptionList.Item.Description(s.getOutlineSyntaxNodes({markupLines:m,sourceLineNumber:p,headingLeveler:e.headingLeveler,settings:e.settings}));if(t.push(new o.DescriptionList.Item(y,b)),v)break}return!!t.length&&(e.then([new o.DescriptionList(t)],r),!0)}var i=t(4),o=t(24),a=t(9),s=t(10),l=t(22),c=t(3),u=t(13);n.tryToParseDescriptionList=r},function(e,n,t){"use strict";function r(e){var n=new i.LineConsumer(e.markupLines),t=n.consumeLineIfMatches(a.DIVIDER_STREAK_PATTERN),r=t?t.line:null,u=n.consumeLineIfMatches(a.NON_BLANK_PATTERN);if(!u)return!1;var d=u.line,h=n.consumeLineIfMatches(a.DIVIDER_STREAK_PATTERN);if(!h)return!1;var p=h.line;if(!c.isUnderlineConsistentWithOverline(r,p))return!1;if(l.isLineFancyOutlineConvention(d,e.settings))return!1;var f=s.getInlineSyntaxNodes(d,e.settings),m=e.headingLeveler.registerHeadingAndGetLevel(p,r);return e.then([new o.Heading(f,{level:m,titleMarkup:d.trim()})],n.countLinesConsumed),!0}var i=t(4),o=t(27),a=t(3),s=t(9),l=t(22),c=t(21);n.tryToParseHeading=r},function(e,n,t){"use strict";function r(e){var n=new i.LineConsumer(e.markupLines),t=e.settings.keywords,r=l.solelyAndIgnoringCapitalization(l.either.apply(void 0,t.revealable.map(l.escapeForRegex))+l.optional(":"));if(!n.consumeLineIfMatches(r))return!1;var c=s.getIndentedBlock(n.remaining()),u=[];if(c&&(u.push.apply(u,c.lines),n.skipLines(c.countLinesConsumed)),!u.length)return!1;var d=a.getOutlineSyntaxNodes({markupLines:u,sourceLineNumber:e.sourceLineNumber+1,headingLeveler:e.headingLeveler,settings:e.settings});return e.then([new o.RevealableBlock(d)],n.countLinesConsumed),!0}var i=t(4),o=t(32),a=t(10),s=t(13),l=t(1);n.tryToParseRevealableBlock=r},function(e,n,t){"use strict";function r(e){var n=new i.LineConsumer(e.markupLines),t=e.settings,r=a.solelyAndIgnoringCapitalization(a.either.apply(void 0,t.keywords.table.map(a.escapeForRegex))+a.optional(":"+a.capture(l.REST_OF_TEXT))),p=n.consumeLineIfMatches(r);if(!p)return!1;var f=p.captures[0],m=f?f.trim():"";n.consumeLineIfMatches(s.BLANK_PATTERN);var g=n.consumeLineIfMatches(s.NON_BLANK_PATTERN);if(!g)return!1;var v=s.INDENTED_PATTERN.test(g.line),y=u.getTableCells(g.line,t).map(d);v&&y.unshift(new o.Table.Header.Cell([]));var b=new o.Table.Header(y),k=m?new o.Table.Caption(c.getInlineSyntaxNodes(m,t)):void 0,C=[],w=n.countLinesConsumed;for(n.consumeLineIfMatches(s.BLANK_PATTERN);;){var T=n.consumeLineIfMatches(s.NON_BLANK_PATTERN);if(!T)break;var x=u.getTableCells(T.line,t),S=v?d(x.shift()):void 0;C.push(new o.Table.Row(x.map(h),S)),w=n.countLinesConsumed}return e.then([new o.Table(b,C,k)],w),!0}var i=t(4),o=t(16),a=t(1),s=t(3),l=t(6),c=t(9),u=t(96);n.tryToParseTable=r;var d=function(e){return new o.Table.Header.Cell(e.children,e.countColumnsSpanned)},h=function(e){return new o.Table.Row.Cell(e.children,e.countColumnsSpanned)}},function(e,n,t){"use strict";function r(e){for(var n=e.inlineSyntaxNodes,t=e.then,s=[],l=function(e){if(e instanceof a.MediaSyntaxNode)return s.push(e),"continue";if(e instanceof o.Link){var n=r({inlineSyntaxNodes:e.children,then:function(n){s.push(new o.Link(n,e.url))}});return n?"continue":{value:!1}}return i.isWhitespace(e)?void 0:{value:!1}},c=0,u=n;c<u.length;c++){var d=u[c],h=l(d);if("object"==typeof h)return h.value}return!!s.length&&(t(s),!0)}var i=t(47),o=t(15),a=t(12);n.tryToPromoteMediaToOutline=r},function(e,n,t){"use strict";function r(e,t){var r=a.getOutlineSyntaxNodes({markupLines:e.split(n.MARKUP_LINE_BREAK),sourceLineNumber:1,headingLeveler:new o.HeadingLeveler,settings:t});return i.Document.create(r)}var i=t(25),o=t(21),a=t(10);n.parse=r,n.MARKUP_LINE_BREAK="\n"},function(e,n,t){"use strict";function r(e,n){var t=o.getInlineSyntaxNodesForInlineDocument(e,n);return new i.InlineDocument(t)}var i=t(60),o=t(9);n.parseInline=r},function(e,n,t){"use strict";function r(e,n,t){return void 0===t&&(t={}),i(e,[c.escapeHtmlContent(n)],t)}function i(e,n,t){return void 0===t&&(t={}),a(e,t)+n.join("")+("</"+e+">")}function o(e,n){return void 0===n&&(n={}),a(e,n)}function a(e,n){var t=[e].concat(s(n)).join(" ");return"<"+t+">"}function s(e){var n=Object.keys(e).sort();return n.map(function(n){return l(e,n)})}function l(e,n){var t=e[n];return""===t||null==t?n:n+'="'+c.escapeHtmlAttrValue(t)+'"'}var c=t(48);n.htmlElement=r,n.htmlElementWithAlreadyEscapedChildren=i,n.singleTagHtmlElement=o,n.EMPTY_ATTRBUTE_VALUE=""},function(e,n,t){"use strict";function r(e,n){return void 0===n&&(n={}),e.sourceLineNumber&&(n["data-up-source-line"]=e.sourceLineNumber),n}function i(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return e.map(function(e){return"up-"+e}).join(" ")}function o(e){return"#"+e}var a=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},s=t(38),l=t(108),c=t(106),u=t(48),d=t(1),h=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.document=function(e){return this.anyDocument(e)},n.prototype.inlineDocument=function(e){return this.anyDocument(e)},n.prototype.tableOfContents=function(e){var n=this;return this.reset({isInsideTableOfContents:!0}),this.renderAll(e.entries.map(function(e){return n.tableOfContentsEntry(e)}))},n.prototype.blockquote=function(e){return this.htmlElement("blockquote",e.children,r(e))},n.prototype.bulletedList=function(e){var n=this;return c.htmlElementWithAlreadyEscapedChildren("ul",e.items.map(function(e){return n.bulletedListItem(e)}),r(e))},n.prototype.numberedList=function(e){var n=this,t={},i=e.start();return null!=i&&(t.start=i),e.order()===s.NumberedList.Order.Descending&&(t.reversed=c.EMPTY_ATTRBUTE_VALUE),c.htmlElementWithAlreadyEscapedChildren("ol",e.items.map(function(e){return n.numberedListItem(e)}),r(e,t))},n.prototype.descriptionList=function(e){var n=this;return c.htmlElementWithAlreadyEscapedChildren("dl",e.items.map(function(e){return n.descriptionListItem(e)}),r(e))},n.prototype.lineBlock=function(e){var n=this,t=r(e,{class:i("lines")});return c.htmlElementWithAlreadyEscapedChildren("div",e.lines.map(function(e){return n.line(e)}),t)},n.prototype.codeBlock=function(e){return c.htmlElementWithAlreadyEscapedChildren("pre",[c.htmlElement("code",e.code)],r(e))},n.prototype.paragraph=function(e){return this.htmlElement("p",e.children,r(e))},n.prototype.heading=function(e){var n=r(e);return e.ordinalInTableOfContents&&(n.id=this.htmlIdOfActualEntryInDocument(e)),e.level<=6?this.htmlElement("h"+e.level,e.children,n):(n.role="heading",n["aria-level"]=e.level,this.htmlElement("div",e.children,n))},n.prototype.thematicBreak=function(e){return c.singleTagHtmlElement("hr",r(e))},n.prototype.emphasis=function(e){return this.htmlElement("em",e.children)},n.prototype.stress=function(e){return this.htmlElement("strong",e.children)},n.prototype.italic=function(e){return this.htmlElement("i",e.children)},n.prototype.bold=function(e){return this.htmlElement("b",e.children)},n.prototype.inlineCode=function(e){return c.htmlElement("code",e.code,{class:i("inline-code")})},n.prototype.exampleUserInput=function(e){return c.htmlElement("kbd",e.userInput)},n.prototype.sectionLink=function(e){var n=e.entry,t=n?this.linkToActualEntryInDocument(n):new s.Italic([new s.Text(e.markupSnippetFromSectionTitle)]);return t.render(this)},n.prototype.normalParenthetical=function(e){return this.parenthetical(e)},n.prototype.squareParenthetical=function(e){return this.parenthetical(e,"square-brackets")},n.prototype.highlight=function(e){return this.htmlElement("mark",e.children)},n.prototype.inlineQuote=function(e){return this.htmlElement("q",e.children)},n.prototype.inlineRevealable=function(e){return this.revealable({revealableSyntaxNode:e,tagNameForGenericContainer:"span"})},n.prototype.revealableBlock=function(e){return this.revealable({revealableSyntaxNode:e,tagNameForGenericContainer:"div",attrsForOuterContainer:r(e)})},n.prototype.referenceToFootnote=function(e){return this.isInsideTableOfContents?"":this.htmlElement("sup",[this.footnoteReferenceInnerLink(e)],{id:this.footnoteReferenceHtmlId(e.referenceNumber),class:i("footnote-reference")})},n.prototype.footnoteBlock=function(e){var n=this,t=r(e,{class:i("footnotes")});return c.htmlElementWithAlreadyEscapedChildren("dl",e.footnotes.map(function(e){return n.footnoteInFootnoteBlock(e)}),t)},n.prototype.table=function(e){var n=this;return c.htmlElementWithAlreadyEscapedChildren("table",[this.tableCaption(e.caption),this.tableHeader(e.header),e.rows.map(function(e){return n.tableRow(e)}).join("")],r(e))},n.prototype.link=function(e){if(this.isInsideLink||!this.isUrlAllowed(e.url))return this.renderAll(e.children);this.isInsideLink=!0;var n=this.htmlElement("a",e.children,r(e,{href:e.url}));return this.isInsideLink=!1,n},n.prototype.image=function(e){return this.isUrlAllowed(e.url)?c.singleTagHtmlElement("img",r(e,{src:e.url,alt:e.description,title:e.description})):""},n.prototype.audio=function(e){return this.playableMediaElement(e,"audio")},n.prototype.video=function(e){return this.playableMediaElement(e,"video")},n.prototype.text=function(e){return u.escapeHtmlContent(e.text)},n.prototype.anyDocument=function(e){return this.reset(),this.renderAll(e.children)},n.prototype.tableOfContentsEntry=function(e){return new s.Heading([this.linkToActualEntryInDocument(e)],{level:e.level,titleMarkup:e.titleMarkup,sourceLineNumber:e.sourceLineNumber})},n.prototype.linkToActualEntryInDocument=function(e){return new s.Link(e.children,o(this.htmlIdOfActualEntryInDocument(e)))},n.prototype.parenthetical=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var r={class:i.apply(void 0,["parenthetical"].concat(n))};return this.htmlElement("small",e.children,r)},n.prototype.bulletedListItem=function(e){return this.htmlElement("li",e.children)},n.prototype.numberedListItem=function(e){var n={};return null!=e.ordinal&&(n.value=e.ordinal),this.htmlElement("li",e.children,n)},n.prototype.descriptionListItem=function(e){var n=this;return e.subjects.map(function(e){return n.subject(e)}).join("")+this.description(e.description)},n.prototype.subject=function(e){return this.htmlElement("dt",e.children)},n.prototype.description=function(e){return this.htmlElement("dd",e.children)},n.prototype.line=function(e){return this.htmlElement("div",e.children)},n.prototype.footnoteReferenceInnerLink=function(e){var n=e.referenceNumber;return new s.Link([new s.Text(n.toString())],o(this.footnoteHtmlId(n)))},n.prototype.footnoteInFootnoteBlock=function(e){var n=this.htmlElement("dt",[this.footnoteLinkBackToReference(e)],{id:this.footnoteHtmlId(e.referenceNumber)}),t=this.htmlElement("dd",e.children);return n+t},n.prototype.footnoteLinkBackToReference=function(e){var n=e.referenceNumber;return new s.Link([new s.Text(n.toString())],o(this.footnoteReferenceHtmlId(n)))},n.prototype.playableMediaElement=function(e,n){var t=e.url,i=e.description;return this.isUrlAllowed(t)?this.htmlElement(n,[this.playableMediaFallback(i,t)],r(e,{src:t,title:i,controls:c.EMPTY_ATTRBUTE_VALUE})):""},n.prototype.playableMediaFallback=function(e,n){return new s.Link([new s.Text(e)],n)},n.prototype.revealable=function(e){var n=this,t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.isInsideTableOfContents&&e.unshift("toc"),n.idFor.apply(n,e)},r=++this.revealableContentCount,o=t("revealable",r),a=t("hide","button",r),s=t("reveal","button",r),l=c.singleTagHtmlElement("input",{type:"radio",id:a,name:o,class:i("hide"),checked:c.EMPTY_ATTRBUTE_VALUE}),u=c.singleTagHtmlElement("input",{type:"radio",id:s,name:o,class:i("reveal")}),d=function(e,n){return c.htmlElement("label",n,{for:e,role:"button",tabindex:0})},h=this.settings.terms,p=d(a,h.hide),f=d(s,h.reveal),m=this.htmlElement(e.tagNameForGenericContainer,e.revealableSyntaxNode.children,{role:"alert"}),g=e.attrsForOuterContainer||{};return g.class=i("revealable"),c.htmlElementWithAlreadyEscapedChildren(e.tagNameForGenericContainer,[l,p,u,f,m],g)},n.prototype.tableCaption=function(e){return e?c.htmlElementWithAlreadyEscapedChildren("caption",this.renderEach(e.children)):""},n.prototype.tableHeader=function(e){var n=this,t=c.htmlElementWithAlreadyEscapedChildren("tr",e.cells.map(function(e){return n.tableHeaderCell(e,"col")}));return c.htmlElementWithAlreadyEscapedChildren("thead",[t])},n.prototype.tableHeaderCell=function(e,n){return this.tableCell("th",e,{scope:n})},n.prototype.tableRow=function(e){var n=this,t=e.cells.map(function(e){return n.tableRowCell(e)});return e.headerColumnCell&&t.unshift(this.tableHeaderCell(e.headerColumnCell,"row")),c.htmlElementWithAlreadyEscapedChildren("tr",t)},n.prototype.tableRowCell=function(e){return this.tableCell("td",e)},n.prototype.tableCell=function(e,n,t){return void 0===t&&(t={}),n.isNumeric()&&(t.class=i("numeric")),n.countColumnsSpanned>1&&(t.colspan=n.countColumnsSpanned),c.htmlElementWithAlreadyEscapedChildren(e,this.renderEach(n.children),t)},n.prototype.htmlElement=function(e,n,t){return void 0===t&&(t={}),c.htmlElementWithAlreadyEscapedChildren(e,this.renderEach(n),t)},n.prototype.htmlIdOfActualEntryInDocument=function(e){return this.idFor(this.settings.terms.sectionReferencedByTableOfContents,e.ordinalInTableOfContents)},n.prototype.footnoteHtmlId=function(e){return this.idFor(this.settings.terms.footnote,e)},n.prototype.footnoteReferenceHtmlId=function(e){return this.idFor(this.settings.terms.footnoteReference,e)},n.prototype.isUrlAllowed=function(e){return this.settings.renderDangerousContent||!p.test(e)},n.prototype.reset=function(e){this.revealableContentCount=0,this.isInsideLink=!1,this.isInsideTableOfContents=null!=e&&e.isInsideTableOfContents},n}(l.Renderer);n.HtmlRenderer=h;var p=d.patternIgnoringCapitalizationAndStartingWith(d.either("javascript","data","file","vbscript")+":")},function(e,n,t){"use strict";var r=t(6),i=function(){function e(e){this.settings=e}return e.prototype.renderEach=function(e){var n=this;return e.map(function(e){return e.render(n)})},e.prototype.renderAll=function(e){return this.renderEach(e).join("")},e.prototype.idFor=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var t=[this.settings.idPrefix].concat(e).join(" ");return t.trim().replace(o,"-")},e}();n.Renderer=i;var o=new RegExp(r.WHITESPACE,"g")},function(e,n,t){"use strict";function r(e){new g(e)}var i=t(2),o=t(8),a=t(7),s=t(24),l=t(56),c=t(26),u=t(5),d=t(32),h=t(29),p=t(30),f=t(23),m=t(16);n.insertFootnoteBlocksAndAssignFootnoteReferenceNumbers=r;var g=function(){function e(e){this.currentFootnoteReferenceNumber=1,this.insertFootnoteBlocksAndAssignFootnoteReferenceNumbers(e)}return e.prototype.insertFootnoteBlocksAndAssignFootnoteReferenceNumbers=function(e){for(var n=[],t=0,r=e.children;t<r.length;t++){var i=r[t];n.push(i);var o=this.handleOutlineNodeAndGetBlocklessFootnotes(i);o.length&&n.push(this.getFootnoteBlock(o))}e.children=n},e.prototype.handleOutlineNodeAndGetBlocklessFootnotes=function(e){return e instanceof a.InlineSyntaxNodeContainer?this.getOutermostFootnotesAndAssignTheirReferenceNumbers(e.children):e instanceof d.RevealableBlock?(this.insertFootnoteBlocksAndAssignFootnoteReferenceNumbers(e),[]):e instanceof o.OutlineSyntaxNodeContainer?this.getBlocklessFootnotesFromOutlineNodes(e.children):e instanceof f.BulletedList||e instanceof p.NumberedList?this.getBlocklessFootnotesFromOutlineContainers(e.items):e instanceof h.LineBlock?this.getBlocklessFootnotesFromInlineContainers(e.lines):e instanceof s.DescriptionList?this.getBlocklessFootnotesFromDescriptionList(e):e instanceof m.Table?this.getBlocklessFootnotesFromTable(e):[]},e.prototype.getOutermostFootnotesAndAssignTheirReferenceNumbers=function(e){for(var n=[],t=0,r=e;t<r.length;t++){var i=r[t];i instanceof c.Footnote?(i.referenceNumber=this.currentFootnoteReferenceNumber++,n.push(i)):i instanceof u.RichInlineSyntaxNode&&n.push.apply(n,this.getOutermostFootnotesAndAssignTheirReferenceNumbers(i.children))}return n},e.prototype.getBlocklessFootnotesFromInlineContainers=function(e){var n=this;return i.concat(e.map(function(e){return n.getOutermostFootnotesAndAssignTheirReferenceNumbers(e.children)}))},e.prototype.getBlocklessFootnotesFromOutlineContainers=function(e){var n=this;return i.concat(e.map(function(e){return n.getBlocklessFootnotesFromOutlineNodes(e.children)}))},e.prototype.getBlocklessFootnotesFromDescriptionList=function(e){var n=this;return i.concat(e.items.map(function(e){return n.getBlocklessFootnotesFromDescriptionListItem(e)}))},e.prototype.getBlocklessFootnotesFromDescriptionListItem=function(e){var n=this.getBlocklessFootnotesFromInlineContainers(e.subjects),t=this.getBlocklessFootnotesFromOutlineNodes(e.description.children);return n.concat(t)},e.prototype.getBlocklessFootnotesFromTable=function(e){var n=this;return i.concat([e.caption?[e.caption]:[],e.header.cells].concat(e.rows.map(function(e){return e.allCellsStartingWithHeaderColumnCell})).map(function(e){return n.getBlocklessFootnotesFromInlineContainers(e)}))},e.prototype.getBlocklessFootnotesFromOutlineNodes=function(e){var n=this;return i.concat(e.map(function(e){return n.handleOutlineNodeAndGetBlocklessFootnotes(e)}))},e.prototype.getFootnoteBlock=function(e){for(var n=new l.FootnoteBlock(e),t=0;t<n.footnotes.length;t++){var r=n.footnotes[t],i=this.getOutermostFootnotesAndAssignTheirReferenceNumbers(r.children);(o=n.footnotes).push.apply(o,i)}return n;var o},e}()}]);